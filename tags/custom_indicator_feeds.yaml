openapi: 3.0.3
info:
  description: >-
    Welcome to Cloudflare's API documentation site. We are experimenting with an
    updated version of our API documentation - check out
    [developers.cloudflare.com/api-next/](https://developers.cloudflare.com/api-next/)
    to test out the new experience.


    To get started using Cloudflare's products and services via the API, refer
    to [how to interact with
    Cloudflare](https://developers.cloudflare.com/fundamentals/basic-tasks/interact-with-cloudflare/),
    which covers using tools like
    [Terraform](https://developers.cloudflare.com/terraform/#cloudflare-terraform)
    and the [official
    SDKs](https://developers.cloudflare.com/fundamentals/api/reference/sdks/) to
    maintain your Cloudflare resources.


    Using the Cloudflare API requires authentication so that Cloudflare knows
    who is making requests and what permissions you have. Create an API token to
    grant access to the API to perform actions. You can also authenticate with
    [API
    keys](https://developers.cloudflare.com/fundamentals/api/get-started/keys/),
    but these keys have [several
    limitations](https://developers.cloudflare.com/fundamentals/api/get-started/keys/#limitations)
    that make them less secure than API tokens. Whenever possible, use API
    tokens to interact with the Cloudflare API.


    To create an API token, from the Cloudflare dashboard, go to My Profile >
    API Tokens and select Create Token. For more information on how to create
    and troubleshoot API tokens, refer to

    our [API fundamentals](https://developers.cloudflare.com/fundamentals/api/).


    For information regarding rate limits, refer to our [API Rate
    Limits](https://developers.cloudflare.com/cloudflare-for-platforms/workers-for-platforms/platform/limits/#api-rate-limits).


    Totally new to Cloudflare? [Start
    here](https://developers.cloudflare.com/fundamentals/get-started/).
  license:
    name: BSD-3-Clause
    url: https://opensource.org/licenses/BSD-3-Clause
  title: Cloudflare API
  version: 4.0.0
servers:
  - description: Client API
    url: https://api.cloudflare.com/client/v4
paths:
  /accounts/{account_id}/intel/indicator-feeds:
    get:
      operationId: custom-indicator-feeds-get-indicator-feeds
      parameters:
        - in: path
          name: account_id
          required: true
          schema:
            $ref: '#/components/schemas/custom-indicator-feeds_identifier'
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: >-
                  #/components/schemas/custom-indicator-feeds_indicator_feed_response
          description: Get indicator feeds response
        4XX:
          content:
            application/json:
              schema:
                allOf:
                  - $ref: >-
                      #/components/schemas/custom-indicator-feeds_indicator_feed_response
                  - $ref: >-
                      #/components/schemas/custom-indicator-feeds_api_response_common_failure
          description: Get indicator feeds response failure
      security:
        - api_email: []
          api_key: []
      summary: Get indicator feeds owned by this account
      tags:
        - Custom Indicator Feeds
      x-api-token-group:
        - Intel Write
        - Intel Read
    post:
      operationId: custom-indicator-feeds-create-indicator-feeds
      parameters:
        - in: path
          name: account_id
          required: true
          schema:
            $ref: '#/components/schemas/custom-indicator-feeds_identifier'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/custom-indicator-feeds_create_feed'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: >-
                  #/components/schemas/custom-indicator-feeds_create_feed_response
          description: Create indicator feed response
        4XX:
          content:
            application/json:
              schema:
                allOf:
                  - $ref: >-
                      #/components/schemas/custom-indicator-feeds_create_feed_response
                  - $ref: >-
                      #/components/schemas/custom-indicator-feeds_api_response_common_failure
          description: Get indicator feeds failure response
      security:
        - api_email: []
          api_key: []
      summary: Create new indicator feed
      tags:
        - Custom Indicator Feeds
  /accounts/{account_id}/intel/indicator-feeds/permissions/add:
    put:
      operationId: custom-indicator-feeds-add-permission
      parameters:
        - in: path
          name: account_id
          required: true
          schema:
            $ref: '#/components/schemas/custom-indicator-feeds_identifier'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/custom-indicator-feeds_permissions_request'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: >-
                  #/components/schemas/custom-indicator-feeds_permissions_response
          description: Get indicator feed metadata
        4XX:
          content:
            application/json:
              schema:
                allOf:
                  - $ref: >-
                      #/components/schemas/custom-indicator-feeds_permissions_response
                  - $ref: >-
                      #/components/schemas/custom-indicator-feeds_api_response_common_failure
          description: Get indicator feeds response failure
      security:
        - api_email: []
          api_key: []
      summary: Grant permission to indicator feed
      tags:
        - Custom Indicator Feeds
  /accounts/{account_id}/intel/indicator-feeds/permissions/remove:
    put:
      operationId: custom-indicator-feeds-remove-permission
      parameters:
        - in: path
          name: account_id
          required: true
          schema:
            $ref: '#/components/schemas/custom-indicator-feeds_identifier'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/custom-indicator-feeds_permissions_request'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: >-
                  #/components/schemas/custom-indicator-feeds_permissions_response
          description: Get indicator feed metadata
        4XX:
          content:
            application/json:
              schema:
                allOf:
                  - $ref: >-
                      #/components/schemas/custom-indicator-feeds_permissions_response
                  - $ref: >-
                      #/components/schemas/custom-indicator-feeds_api_response_common_failure
          description: Get indicator feeds response failure
      security:
        - api_email: []
          api_key: []
      summary: Revoke permission to indicator feed
      tags:
        - Custom Indicator Feeds
  /accounts/{account_id}/intel/indicator-feeds/permissions/view:
    get:
      operationId: custom-indicator-feeds-view-permissions
      parameters:
        - in: path
          name: account_id
          required: true
          schema:
            $ref: '#/components/schemas/custom-indicator-feeds_identifier'
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: >-
                  #/components/schemas/custom-indicator-feeds_permission_list_item_response
          description: Get indicator feed metadata
        4XX:
          content:
            application/json:
              schema:
                allOf:
                  - $ref: >-
                      #/components/schemas/custom-indicator-feeds_permission_list_item_response
                  - $ref: >-
                      #/components/schemas/custom-indicator-feeds_api_response_common_failure
          description: Get indicator feeds response failure
      security:
        - api_email: []
          api_key: []
      summary: List indicator feed permissions
      tags:
        - Custom Indicator Feeds
      x-api-token-group:
        - Intel Write
        - Intel Read
  /accounts/{account_id}/intel/indicator-feeds/{feed_id}:
    get:
      operationId: custom-indicator-feeds-get-indicator-feed-metadata
      parameters:
        - in: path
          name: account_id
          required: true
          schema:
            $ref: '#/components/schemas/custom-indicator-feeds_identifier'
        - in: path
          name: feed_id
          required: true
          schema:
            $ref: '#/components/schemas/custom-indicator-feeds_feed_id'
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: >-
                  #/components/schemas/custom-indicator-feeds_indicator_feed_metadata_response
          description: Get indicator feed metadata
        4XX:
          content:
            application/json:
              schema:
                allOf:
                  - $ref: >-
                      #/components/schemas/custom-indicator-feeds_indicator_feed_metadata_response
                  - $ref: >-
                      #/components/schemas/custom-indicator-feeds_api_response_common_failure
          description: Get indicator feeds response failure
      security:
        - api_email: []
          api_key: []
      summary: Get indicator feed metadata
      tags:
        - Custom Indicator Feeds
      x-api-token-group:
        - Intel Write
        - Intel Read
    put:
      operationId: custom-indicator-feeds-update-indicator-feed-metadata
      parameters:
        - in: path
          name: account_id
          required: true
          schema:
            $ref: '#/components/schemas/custom-indicator-feeds_identifier'
        - in: path
          name: feed_id
          required: true
          schema:
            $ref: '#/components/schemas/custom-indicator-feeds_feed_id'
      requestBody:
        content:
          application/json:
            schema:
              $ref: >-
                #/components/schemas/custom-indicator-feeds_update_public_field_request
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: >-
                  #/components/schemas/custom-indicator-feeds_update_public_field_response
          description: Get update public field response
        4XX:
          content:
            application/json:
              schema:
                allOf:
                  - $ref: >-
                      #/components/schemas/custom-indicator-feeds_update_public_field_response
                  - $ref: >-
                      #/components/schemas/custom-indicator-feeds_api_response_common_failure
          description: Get update public field response failure
      security:
        - api_email: []
          api_key: []
      summary: Update indicator feed metadata
      tags:
        - Custom Indicator Feeds
  /accounts/{account_id}/intel/indicator-feeds/{feed_id}/data:
    get:
      operationId: custom-indicator-feeds-get-indicator-feed-data
      parameters:
        - in: path
          name: account_id
          required: true
          schema:
            $ref: '#/components/schemas/custom-indicator-feeds_identifier'
        - in: path
          name: feed_id
          required: true
          schema:
            $ref: '#/components/schemas/custom-indicator-feeds_feed_id'
      responses:
        '200':
          content:
            text/csv:
              schema:
                type: string
          description: Get indicator feed metadata
        4XX:
          content:
            application/json:
              schema:
                allOf:
                  - $ref: >-
                      #/components/schemas/custom-indicator-feeds_api_response_common_failure
          description: Get indicator feeds response failure
      security:
        - api_email: []
          api_key: []
      summary: Get indicator feed data
      tags:
        - Custom Indicator Feeds
      x-api-token-group:
        - Intel Write
        - Intel Read
  /accounts/{account_id}/intel/indicator-feeds/{feed_id}/snapshot:
    put:
      operationId: custom-indicator-feeds-update-indicator-feed-data
      parameters:
        - in: path
          name: account_id
          required: true
          schema:
            $ref: '#/components/schemas/custom-indicator-feeds_identifier'
        - in: path
          name: feed_id
          required: true
          schema:
            $ref: '#/components/schemas/custom-indicator-feeds_feed_id'
      requestBody:
        content:
          multipart/form-data:
            schema:
              properties:
                source:
                  description: The file to upload
                  example: '@/Users/me/test.stix2'
                  type: string
              type: object
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: >-
                  #/components/schemas/custom-indicator-feeds_update_feed_response
          description: Get indicator feed metadata
        4XX:
          content:
            application/json:
              schema:
                allOf:
                  - $ref: >-
                      #/components/schemas/custom-indicator-feeds_api_response_common_failure
          description: Get indicator feeds response failure
      security:
        - api_email: []
          api_key: []
      summary: Update indicator feed data
      tags:
        - Custom Indicator Feeds
  /accounts/{account_id}/intel/indicator_feeds/{feed_id}/download:
    get:
      operationId: custom-indicator-feeds-download-indicator-feed-data
      parameters:
        - in: path
          name: account_id
          required: true
          schema:
            $ref: '#/components/schemas/custom-indicator-feeds_identifier'
        - in: path
          name: feed_id
          required: true
          schema:
            $ref: '#/components/schemas/custom-indicator-feeds_feed_id'
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: >-
                  #/components/schemas/custom-indicator-feeds_update_feed_response
          description: Get indicator feed metadata
        4XX:
          content:
            application/json:
              schema:
                allOf:
                  - $ref: >-
                      #/components/schemas/custom-indicator-feeds_api_response_common_failure
          description: Get indicator feeds response failure
      security:
        - api_email: []
          api_key: []
      summary: Download indicator feed data
      tags:
        - Custom Indicator Feeds
      x-api-token-group:
        - Intel Write
        - Intel Read
components:
  schemas:
    custom-indicator-feeds_api_response_common_failure:
      properties:
        errors:
          allOf:
            - $ref: '#/components/schemas/custom-indicator-feeds_messages'
          example:
            - code: 7003
              message: No route for the URI
          minLength: 1
        messages:
          allOf:
            - $ref: '#/components/schemas/custom-indicator-feeds_messages'
          example: []
        result:
          enum:
            - null
          nullable: true
          type: object
        success:
          description: Whether the API call was successful
          enum:
            - false
          example: false
          type: boolean
      required:
        - success
        - errors
        - messages
        - result
      type: object
    custom-indicator-feeds_create_feed:
      example:
        description: example feed description
        name: example_feed_1
      properties:
        description:
          $ref: '#/components/schemas/custom-indicator-feeds_description'
        name:
          $ref: '#/components/schemas/custom-indicator-feeds_name'
    custom-indicator-feeds_create_feed_response:
      allOf:
        - $ref: '#/components/schemas/custom-indicator-feeds_api-response-single'
        - properties:
            result:
              $ref: '#/components/schemas/custom-indicator-feeds_indicator_feed_item'
    custom-indicator-feeds_feed_id:
      description: Indicator feed ID
      example: 12
      type: integer
      x-auditable: true
    custom-indicator-feeds_identifier:
      description: Identifier
      example: 023e105f4ecef8ad9ca31a8372d0c353
      maxLength: 32
      readOnly: true
      type: string
      x-auditable: true
    custom-indicator-feeds_indicator_feed_metadata_response:
      allOf:
        - $ref: '#/components/schemas/custom-indicator-feeds_api-response-single'
        - properties:
            result:
              $ref: >-
                #/components/schemas/custom-indicator-feeds_indicator_feed_metadata
    custom-indicator-feeds_indicator_feed_response:
      allOf:
        - $ref: '#/components/schemas/custom-indicator-feeds_api-response-common'
        - properties:
            result:
              example:
                - created_on: '2023-05-12T12:21:56.777653Z'
                  description: user specified description 1
                  id: 1
                  modified_on: '2023-06-18T03:13:34.123321Z'
                  name: user_specified_name_1
                - created_on: '2023-05-21T21:43:52.867525Z'
                  description: User specified description 2
                  id: 2
                  modified_on: '2023-06-28T18:46:18.764425Z'
                  name: user_specified_name_2
              items:
                $ref: >-
                  #/components/schemas/custom-indicator-feeds_indicator_feed_item
              type: array
    custom-indicator-feeds_permission_list_item_response:
      allOf:
        - $ref: '#/components/schemas/custom-indicator-feeds_api-response-common'
        - properties:
            result:
              example:
                - description: An important indicator list
                  id: 1
                  is_attributable: false
                  is_downloadable: false
                  is_public: false
                  name: indicator_list_1
                - description: An even more important indicator list
                  id: 2
                  is_attributable: true
                  is_downloadable: false
                  is_public: true
                  name: indicator_list_2
              items:
                $ref: >-
                  #/components/schemas/custom-indicator-feeds_permission_list_item
              type: array
    custom-indicator-feeds_permissions_request:
      properties:
        account_tag:
          description: The Cloudflare account tag of the account to change permissions on
          example: 823f45f16fd2f7e21e1e054aga4d2859
          type: string
          x-auditable: true
        feed_id:
          description: The ID of the feed to add/remove permissions on
          example: 1
          type: integer
          x-auditable: true
    custom-indicator-feeds_permissions_response:
      allOf:
        - $ref: '#/components/schemas/custom-indicator-feeds_api-response-single'
        - properties:
            result:
              $ref: '#/components/schemas/custom-indicator-feeds_permissions_update'
    custom-indicator-feeds_update_feed_response:
      allOf:
        - $ref: '#/components/schemas/custom-indicator-feeds_api-response-single'
        - properties:
            result:
              $ref: '#/components/schemas/custom-indicator-feeds_update_feed'
    custom-indicator-feeds_update_public_field_request:
      properties:
        description:
          description: The new description of the feed
          example: This is an example description
          type: string
          x-auditable: true
        is_attributable:
          description: The new is_attributable value of the feed
          example: true
          type: boolean
          x-auditable: true
        is_downloadable:
          description: The new is_downloadable value of the feed
          example: true
          type: boolean
          x-auditable: true
        is_public:
          description: The new is_public value of the feed
          example: true
          type: boolean
          x-auditable: true
        name:
          description: The new name of the feed
          example: indicator_list
          type: string
          x-auditable: true
    custom-indicator-feeds_update_public_field_response:
      allOf:
        - $ref: '#/components/schemas/custom-indicator-feeds_api-response-single'
        - properties:
            result:
              $ref: '#/components/schemas/custom-indicator-feeds_indicator_feed_item'
