openapi: 3.0.3
info:
  description: >-
    Welcome to Cloudflare's API documentation site. We are experimenting with an
    updated version of our API documentation - check out
    [developers.cloudflare.com/api-next/](https://developers.cloudflare.com/api-next/)
    to test out the new experience.


    To get started using Cloudflare's products and services via the API, refer
    to [how to interact with
    Cloudflare](https://developers.cloudflare.com/fundamentals/basic-tasks/interact-with-cloudflare/),
    which covers using tools like
    [Terraform](https://developers.cloudflare.com/terraform/#cloudflare-terraform)
    and the [official
    SDKs](https://developers.cloudflare.com/fundamentals/api/reference/sdks/) to
    maintain your Cloudflare resources.


    Using the Cloudflare API requires authentication so that Cloudflare knows
    who is making requests and what permissions you have. Create an API token to
    grant access to the API to perform actions. You can also authenticate with
    [API
    keys](https://developers.cloudflare.com/fundamentals/api/get-started/keys/),
    but these keys have [several
    limitations](https://developers.cloudflare.com/fundamentals/api/get-started/keys/#limitations)
    that make them less secure than API tokens. Whenever possible, use API
    tokens to interact with the Cloudflare API.


    To create an API token, from the Cloudflare dashboard, go to My Profile >
    API Tokens and select Create Token. For more information on how to create
    and troubleshoot API tokens, refer to

    our [API fundamentals](https://developers.cloudflare.com/fundamentals/api/).


    For information regarding rate limits, refer to our [API Rate
    Limits](https://developers.cloudflare.com/cloudflare-for-platforms/workers-for-platforms/platform/limits/#api-rate-limits).


    Totally new to Cloudflare? [Start
    here](https://developers.cloudflare.com/fundamentals/get-started/).
  license:
    name: BSD-3-Clause
    url: https://opensource.org/licenses/BSD-3-Clause
  title: Cloudflare API
  version: 4.0.0
servers:
  - description: Client API
    url: https://api.cloudflare.com/client/v4
paths:
  /accounts/{account_id}/devices:
    get:
      deprecated: true
      description: >
        List WARP devices. Not supported when [multi-user
        mode](https://developers.cloudflare.com/cloudflare-one/connections/connect-devices/warp/deployment/mdm-deployment/windows-multiuser/)
        is enabled for the account.


        **Deprecated**: please use one of the following endpoints instead:

        - GET /accounts/{account_id}/devices/physical-devices

        - GET /accounts/{account_id}/devices/registrations
      operationId: devices-list-devices
      parameters:
        - in: path
          name: account_id
          required: true
          schema:
            $ref: '#/components/schemas/teams-devices_identifier'
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/teams-devices_devices_response'
          description: List devices response.
        4XX:
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/teams-devices_devices_response'
                  - $ref: >-
                      #/components/schemas/teams-devices_api-response-common-failure
          description: List devices response failure.
      security:
        - api_email: []
          api_key: []
          api_token: []
      summary: List devices (deprecated)
      tags:
        - Devices
      x-api-token-group:
        - Zero Trust Read
        - Zero Trust Write
  /accounts/{account_id}/devices/policies:
    get:
      description: Fetches a list of the device settings profiles for an account.
      operationId: devices-list-device-settings-policies
      parameters:
        - in: path
          name: account_id
          required: true
          schema:
            $ref: '#/components/schemas/teams-devices_identifier'
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: >-
                  #/components/schemas/teams-devices_device_settings_response_collection
          description: List device settings profiles response.
        4XX:
          content:
            application/json:
              schema:
                allOf:
                  - $ref: >-
                      #/components/schemas/teams-devices_device_settings_response_collection
                  - $ref: >-
                      #/components/schemas/teams-devices_api-response-common-failure
          description: List device settings profiles response failure.
      security:
        - api_email: []
          api_key: []
          api_token: []
      summary: List device settings profiles
      tags:
        - Devices
      x-api-token-group:
        - Zero Trust Read
        - Zero Trust Write
  /accounts/{account_id}/devices/policy:
    get:
      description: Fetches the default device settings profile for an account.
      operationId: devices-get-default-device-settings-policy
      parameters:
        - in: path
          name: account_id
          required: true
          schema:
            $ref: '#/components/schemas/teams-devices_identifier'
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: >-
                  #/components/schemas/teams-devices_default_device_settings_response
          description: Get the default device settings profile response.
        4XX:
          content:
            application/json:
              schema:
                allOf:
                  - $ref: >-
                      #/components/schemas/teams-devices_default_device_settings_response
                  - $ref: >-
                      #/components/schemas/teams-devices_api-response-common-failure
          description: Get the default device settings profile response failure.
      security:
        - api_email: []
          api_key: []
          api_token: []
      summary: Get the default device settings profile
      tags:
        - Devices
      x-api-token-group:
        - Zero Trust Read
        - Zero Trust Write
    post:
      description: >-
        Creates a device settings profile to be applied to certain devices
        matching the criteria.
      operationId: devices-create-device-settings-policy
      parameters:
        - in: path
          name: account_id
          required: true
          schema:
            $ref: '#/components/schemas/teams-devices_identifier'
      requestBody:
        content:
          application/json:
            schema:
              properties:
                allow_mode_switch:
                  $ref: '#/components/schemas/teams-devices_allow_mode_switch'
                allow_updates:
                  $ref: '#/components/schemas/teams-devices_allow_updates'
                allowed_to_leave:
                  $ref: '#/components/schemas/teams-devices_allowed_to_leave'
                auto_connect:
                  $ref: '#/components/schemas/teams-devices_auto_connect'
                captive_portal:
                  $ref: '#/components/schemas/teams-devices_captive_portal'
                description:
                  $ref: '#/components/schemas/teams-devices_schemas-description'
                disable_auto_fallback:
                  $ref: '#/components/schemas/teams-devices_disable_auto_fallback'
                enabled:
                  description: Whether the policy will be applied to matching devices.
                  example: true
                  type: boolean
                exclude:
                  $ref: '#/components/schemas/teams-devices_exclude_request'
                exclude_office_ips:
                  $ref: '#/components/schemas/teams-devices_exclude_office_ips'
                include:
                  $ref: '#/components/schemas/teams-devices_include_request'
                lan_allow_minutes:
                  $ref: '#/components/schemas/teams-devices_lan_allow_minutes'
                lan_allow_subnet_size:
                  $ref: '#/components/schemas/teams-devices_lan_allow_subnet_size'
                match:
                  $ref: '#/components/schemas/teams-devices_schemas-match'
                name:
                  description: The name of the device settings profile.
                  example: Allow Developers
                  maxLength: 100
                  type: string
                precedence:
                  $ref: '#/components/schemas/teams-devices_precedence'
                register_interface_ip_with_dns:
                  $ref: >-
                    #/components/schemas/teams-devices_register_interface_ip_with_dns
                sccm_vpn_boundary_support:
                  $ref: '#/components/schemas/teams-devices_sccm_vpn_boundary_support'
                service_mode_v2:
                  $ref: '#/components/schemas/teams-devices_service_mode_v2'
                support_url:
                  $ref: '#/components/schemas/teams-devices_support_url'
                switch_locked:
                  $ref: '#/components/schemas/teams-devices_switch_locked'
                tunnel_protocol:
                  $ref: '#/components/schemas/teams-devices_tunnel_protocol'
              required:
                - name
                - precedence
                - match
              type: object
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/teams-devices_device_settings_response'
          description: Create a device settings profile response.
        4XX:
          content:
            application/json:
              schema:
                allOf:
                  - $ref: >-
                      #/components/schemas/teams-devices_device_settings_response
                  - $ref: >-
                      #/components/schemas/teams-devices_api-response-common-failure
          description: Create a device settings profile response failure.
      security:
        - api_email: []
          api_key: []
          api_token: []
      summary: Create a device settings profile
      tags:
        - Devices
      x-api-token-group:
        - Zero Trust Write
    patch:
      description: Updates the default device settings profile for an account.
      operationId: devices-update-default-device-settings-policy
      parameters:
        - in: path
          name: account_id
          required: true
          schema:
            $ref: '#/components/schemas/teams-devices_identifier'
      requestBody:
        content:
          application/json:
            schema:
              properties:
                allow_mode_switch:
                  $ref: '#/components/schemas/teams-devices_allow_mode_switch'
                allow_updates:
                  $ref: '#/components/schemas/teams-devices_allow_updates'
                allowed_to_leave:
                  $ref: '#/components/schemas/teams-devices_allowed_to_leave'
                auto_connect:
                  $ref: '#/components/schemas/teams-devices_auto_connect'
                captive_portal:
                  $ref: '#/components/schemas/teams-devices_captive_portal'
                disable_auto_fallback:
                  $ref: '#/components/schemas/teams-devices_disable_auto_fallback'
                exclude:
                  $ref: '#/components/schemas/teams-devices_exclude_request'
                exclude_office_ips:
                  $ref: '#/components/schemas/teams-devices_exclude_office_ips'
                include:
                  $ref: '#/components/schemas/teams-devices_include_request'
                lan_allow_minutes:
                  $ref: '#/components/schemas/teams-devices_lan_allow_minutes'
                lan_allow_subnet_size:
                  $ref: '#/components/schemas/teams-devices_lan_allow_subnet_size'
                register_interface_ip_with_dns:
                  $ref: >-
                    #/components/schemas/teams-devices_register_interface_ip_with_dns
                sccm_vpn_boundary_support:
                  $ref: '#/components/schemas/teams-devices_sccm_vpn_boundary_support'
                service_mode_v2:
                  $ref: '#/components/schemas/teams-devices_service_mode_v2'
                support_url:
                  $ref: '#/components/schemas/teams-devices_support_url'
                switch_locked:
                  $ref: '#/components/schemas/teams-devices_switch_locked'
                tunnel_protocol:
                  $ref: '#/components/schemas/teams-devices_tunnel_protocol'
              type: object
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: >-
                  #/components/schemas/teams-devices_default_device_settings_response
          description: Update the default device settings profile response.
        4XX:
          content:
            application/json:
              schema:
                allOf:
                  - $ref: >-
                      #/components/schemas/teams-devices_default_device_settings_response
                  - $ref: >-
                      #/components/schemas/teams-devices_api-response-common-failure
          description: Update the default device settings profile response failure.
      security:
        - api_email: []
          api_key: []
          api_token: []
      summary: Update the default device settings profile
      tags:
        - Devices
      x-api-token-group:
        - Zero Trust Write
  /accounts/{account_id}/devices/policy/exclude:
    get:
      description: Fetches the list of routes excluded from the WARP client's tunnel.
      operationId: devices-get-split-tunnel-exclude-list
      parameters:
        - in: path
          name: account_id
          required: true
          schema:
            $ref: '#/components/schemas/teams-devices_identifier'
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: >-
                  #/components/schemas/teams-devices_split_tunnel_response_collection
          description: Get the Split Tunnel exclude list response.
        4XX:
          content:
            application/json:
              schema:
                allOf:
                  - $ref: >-
                      #/components/schemas/teams-devices_split_tunnel_response_collection
                  - $ref: >-
                      #/components/schemas/teams-devices_api-response-common-failure
          description: Get the Split Tunnel exclude list response failure.
      security:
        - api_email: []
          api_key: []
          api_token: []
      summary: Get the Split Tunnel exclude list
      tags:
        - Devices
      x-api-token-group:
        - Zero Trust Read
        - Zero Trust Write
    put:
      description: Sets the list of routes excluded from the WARP client's tunnel.
      operationId: devices-set-split-tunnel-exclude-list
      parameters:
        - in: path
          name: account_id
          required: true
          schema:
            $ref: '#/components/schemas/teams-devices_identifier'
      requestBody:
        content:
          application/json:
            schema:
              items:
                $ref: '#/components/schemas/teams-devices_split_tunnel'
              type: array
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: >-
                  #/components/schemas/teams-devices_split_tunnel_response_collection
          description: Set the Split Tunnel exclude list response.
        4XX:
          content:
            application/json:
              schema:
                allOf:
                  - $ref: >-
                      #/components/schemas/teams-devices_split_tunnel_response_collection
                  - $ref: >-
                      #/components/schemas/teams-devices_api-response-common-failure
          description: Set the Split Tunnel exclude list response failure.
      security:
        - api_email: []
          api_key: []
          api_token: []
      summary: Set the Split Tunnel exclude list
      tags:
        - Devices
      x-api-token-group:
        - Zero Trust Write
  /accounts/{account_id}/devices/policy/fallback_domains:
    get:
      description: >-
        Fetches a list of domains to bypass Gateway DNS resolution. These
        domains will use the specified local DNS resolver instead.
      operationId: devices-get-local-domain-fallback-list
      parameters:
        - in: path
          name: account_id
          required: true
          schema:
            $ref: '#/components/schemas/teams-devices_identifier'
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: >-
                  #/components/schemas/teams-devices_fallback_domain_response_collection
          description: Get your Local Domain Fallback list response.
        4XX:
          content:
            application/json:
              schema:
                allOf:
                  - $ref: >-
                      #/components/schemas/teams-devices_fallback_domain_response_collection
                  - $ref: >-
                      #/components/schemas/teams-devices_api-response-common-failure
          description: Get your Local Domain Fallback list response failure.
      security:
        - api_email: []
          api_key: []
          api_token: []
      summary: Get your Local Domain Fallback list
      tags:
        - Devices
      x-api-token-group:
        - Zero Trust Read
        - Zero Trust Write
    put:
      description: >-
        Sets the list of domains to bypass Gateway DNS resolution. These domains
        will use the specified local DNS resolver instead.
      operationId: devices-set-local-domain-fallback-list
      parameters:
        - in: path
          name: account_id
          required: true
          schema:
            $ref: '#/components/schemas/teams-devices_identifier'
      requestBody:
        content:
          application/json:
            schema:
              items:
                $ref: '#/components/schemas/teams-devices_fallback_domain'
              type: array
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: >-
                  #/components/schemas/teams-devices_fallback_domain_response_collection
          description: Set your Local Domain Fallback list response.
        4XX:
          content:
            application/json:
              schema:
                allOf:
                  - $ref: >-
                      #/components/schemas/teams-devices_fallback_domain_response_collection
                  - $ref: >-
                      #/components/schemas/teams-devices_api-response-common-failure
          description: Set your Local Domain Fallback list response failure.
      security:
        - api_email: []
          api_key: []
          api_token: []
      summary: Set your Local Domain Fallback list
      tags:
        - Devices
      x-api-token-group:
        - Zero Trust Write
  /accounts/{account_id}/devices/policy/include:
    get:
      description: Fetches the list of routes included in the WARP client's tunnel.
      operationId: devices-get-split-tunnel-include-list
      parameters:
        - in: path
          name: account_id
          required: true
          schema:
            $ref: '#/components/schemas/teams-devices_identifier'
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: >-
                  #/components/schemas/teams-devices_split_tunnel_include_response_collection
          description: Get the Split Tunnel include list response.
        4XX:
          content:
            application/json:
              schema:
                allOf:
                  - $ref: >-
                      #/components/schemas/teams-devices_split_tunnel_include_response_collection
                  - $ref: >-
                      #/components/schemas/teams-devices_api-response-common-failure
          description: Get the Split Tunnel include list response failure.
      security:
        - api_email: []
          api_key: []
          api_token: []
      summary: Get the Split Tunnel include list
      tags:
        - Devices
      x-api-token-group:
        - Zero Trust Read
        - Zero Trust Write
    put:
      description: Sets the list of routes included in the WARP client's tunnel.
      operationId: devices-set-split-tunnel-include-list
      parameters:
        - in: path
          name: account_id
          required: true
          schema:
            $ref: '#/components/schemas/teams-devices_identifier'
      requestBody:
        content:
          application/json:
            schema:
              items:
                $ref: '#/components/schemas/teams-devices_split_tunnel_include'
              type: array
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: >-
                  #/components/schemas/teams-devices_split_tunnel_include_response_collection
          description: Set the Split Tunnel include list response.
        4XX:
          content:
            application/json:
              schema:
                allOf:
                  - $ref: >-
                      #/components/schemas/teams-devices_split_tunnel_include_response_collection
                  - $ref: >-
                      #/components/schemas/teams-devices_api-response-common-failure
          description: Set the Split Tunnel include list response failure.
      security:
        - api_email: []
          api_key: []
          api_token: []
      summary: Set the Split Tunnel include list
      tags:
        - Devices
      x-api-token-group:
        - Zero Trust Write
  /accounts/{account_id}/devices/policy/{policy_id}:
    get:
      description: Fetches a device settings profile by ID.
      operationId: devices-get-device-settings-policy-by-id
      parameters:
        - in: path
          name: policy_id
          required: true
          schema:
            $ref: '#/components/schemas/teams-devices_schemas-uuid'
        - in: path
          name: account_id
          required: true
          schema:
            $ref: '#/components/schemas/teams-devices_identifier'
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/teams-devices_device_settings_response'
          description: Get device settings profile by ID response.
        4XX:
          content:
            application/json:
              schema:
                allOf:
                  - $ref: >-
                      #/components/schemas/teams-devices_device_settings_response
                  - $ref: >-
                      #/components/schemas/teams-devices_api-response-common-failure
          description: Get device settings profile by ID response failure.
      security:
        - api_email: []
          api_key: []
          api_token: []
      summary: Get device settings profile by ID
      tags:
        - Devices
      x-api-token-group:
        - Zero Trust Read
        - Zero Trust Write
    patch:
      description: Updates a configured device settings profile.
      operationId: devices-update-device-settings-policy
      parameters:
        - in: path
          name: policy_id
          required: true
          schema:
            $ref: '#/components/schemas/teams-devices_schemas-uuid'
        - in: path
          name: account_id
          required: true
          schema:
            $ref: '#/components/schemas/teams-devices_identifier'
      requestBody:
        content:
          application/json:
            schema:
              properties:
                allow_mode_switch:
                  $ref: '#/components/schemas/teams-devices_allow_mode_switch'
                allow_updates:
                  $ref: '#/components/schemas/teams-devices_allow_updates'
                allowed_to_leave:
                  $ref: '#/components/schemas/teams-devices_allowed_to_leave'
                auto_connect:
                  $ref: '#/components/schemas/teams-devices_auto_connect'
                captive_portal:
                  $ref: '#/components/schemas/teams-devices_captive_portal'
                description:
                  $ref: '#/components/schemas/teams-devices_schemas-description'
                disable_auto_fallback:
                  $ref: '#/components/schemas/teams-devices_disable_auto_fallback'
                enabled:
                  description: Whether the policy will be applied to matching devices.
                  example: true
                  type: boolean
                exclude:
                  $ref: '#/components/schemas/teams-devices_exclude_request'
                exclude_office_ips:
                  $ref: '#/components/schemas/teams-devices_exclude_office_ips'
                include:
                  $ref: '#/components/schemas/teams-devices_include_request'
                lan_allow_minutes:
                  $ref: '#/components/schemas/teams-devices_lan_allow_minutes'
                lan_allow_subnet_size:
                  $ref: '#/components/schemas/teams-devices_lan_allow_subnet_size'
                match:
                  $ref: '#/components/schemas/teams-devices_schemas-match'
                name:
                  description: The name of the device settings profile.
                  example: Allow Developers
                  maxLength: 100
                  type: string
                precedence:
                  $ref: '#/components/schemas/teams-devices_precedence'
                register_interface_ip_with_dns:
                  $ref: >-
                    #/components/schemas/teams-devices_register_interface_ip_with_dns
                sccm_vpn_boundary_support:
                  $ref: '#/components/schemas/teams-devices_sccm_vpn_boundary_support'
                service_mode_v2:
                  $ref: '#/components/schemas/teams-devices_service_mode_v2'
                support_url:
                  $ref: '#/components/schemas/teams-devices_support_url'
                switch_locked:
                  $ref: '#/components/schemas/teams-devices_switch_locked'
                tunnel_protocol:
                  $ref: '#/components/schemas/teams-devices_tunnel_protocol'
              type: object
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/teams-devices_device_settings_response'
          description: Update a device settings profile Policy response.
        4XX:
          content:
            application/json:
              schema:
                allOf:
                  - $ref: >-
                      #/components/schemas/teams-devices_device_settings_response
                  - $ref: >-
                      #/components/schemas/teams-devices_api-response-common-failure
          description: Update a device settings profile Policy response failure.
      security:
        - api_email: []
          api_key: []
          api_token: []
      summary: Update a device settings profile
      tags:
        - Devices
      x-api-token-group:
        - Zero Trust Write
    delete:
      description: >-
        Deletes a device settings profile and fetches a list of the remaining
        profiles for an account.
      operationId: devices-delete-device-settings-policy
      parameters:
        - in: path
          name: policy_id
          required: true
          schema:
            $ref: '#/components/schemas/teams-devices_schemas-uuid'
        - in: path
          name: account_id
          required: true
          schema:
            $ref: '#/components/schemas/teams-devices_identifier'
      requestBody:
        content:
          application/json: {}
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: >-
                  #/components/schemas/teams-devices_device_settings_response_collection
          description: Delete a device settings profile response.
        4XX:
          content:
            application/json:
              schema:
                allOf:
                  - $ref: >-
                      #/components/schemas/teams-devices_device_settings_response_collection
                  - $ref: >-
                      #/components/schemas/teams-devices_api-response-common-failure
          description: Delete a device settings profile response failure.
      security:
        - api_email: []
          api_key: []
          api_token: []
      summary: Delete a device settings profile
      tags:
        - Devices
      x-api-token-group:
        - Zero Trust Write
  /accounts/{account_id}/devices/policy/{policy_id}/exclude:
    get:
      description: >-
        Fetches the list of routes excluded from the WARP client's tunnel for a
        specific device settings profile.
      operationId: devices-get-split-tunnel-exclude-list-for-a-device-settings-policy
      parameters:
        - in: path
          name: policy_id
          required: true
          schema:
            $ref: '#/components/schemas/teams-devices_schemas-uuid'
        - in: path
          name: account_id
          required: true
          schema:
            $ref: '#/components/schemas/teams-devices_identifier'
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: >-
                  #/components/schemas/teams-devices_split_tunnel_response_collection
          description: >-
            Get the Split Tunnel exclude list for a device settings profile
            response.
        4XX:
          content:
            application/json:
              schema:
                allOf:
                  - $ref: >-
                      #/components/schemas/teams-devices_split_tunnel_response_collection
                  - $ref: >-
                      #/components/schemas/teams-devices_api-response-common-failure
          description: >-
            Get the Split Tunnel exclude list for a device settings profile
            response failure.
      security:
        - api_email: []
          api_key: []
          api_token: []
      summary: Get the Split Tunnel exclude list for a device settings profile
      tags:
        - Devices
      x-api-token-group:
        - Zero Trust Read
        - Zero Trust Write
    put:
      description: >-
        Sets the list of routes excluded from the WARP client's tunnel for a
        specific device settings profile.
      operationId: devices-set-split-tunnel-exclude-list-for-a-device-settings-policy
      parameters:
        - in: path
          name: policy_id
          required: true
          schema:
            $ref: '#/components/schemas/teams-devices_schemas-uuid'
        - in: path
          name: account_id
          required: true
          schema:
            $ref: '#/components/schemas/teams-devices_identifier'
      requestBody:
        content:
          application/json:
            schema:
              items:
                $ref: '#/components/schemas/teams-devices_split_tunnel'
              type: array
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: >-
                  #/components/schemas/teams-devices_split_tunnel_response_collection
          description: >-
            Set the Split Tunnel exclude list for a device settings profile
            response.
        4XX:
          content:
            application/json:
              schema:
                allOf:
                  - $ref: >-
                      #/components/schemas/teams-devices_split_tunnel_response_collection
                  - $ref: >-
                      #/components/schemas/teams-devices_api-response-common-failure
          description: >-
            Set the Split Tunnel exclude list for a device settings profile
            response failure.
      security:
        - api_email: []
          api_key: []
          api_token: []
      summary: Set the Split Tunnel exclude list for a device settings profile
      tags:
        - Devices
      x-api-token-group:
        - Zero Trust Write
  /accounts/{account_id}/devices/policy/{policy_id}/fallback_domains:
    get:
      description: >-
        Fetches the list of domains to bypass Gateway DNS resolution from a
        specified device settings profile. These domains will use the specified
        local DNS resolver instead.
      operationId: devices-get-local-domain-fallback-list-for-a-device-settings-policy
      parameters:
        - in: path
          name: policy_id
          required: true
          schema:
            $ref: '#/components/schemas/teams-devices_schemas-uuid'
        - in: path
          name: account_id
          required: true
          schema:
            $ref: '#/components/schemas/teams-devices_identifier'
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: >-
                  #/components/schemas/teams-devices_fallback_domain_response_collection
          description: >-
            Get the Local Domain Fallback list for a device settings profile
            response.
        4XX:
          content:
            application/json:
              schema:
                allOf:
                  - $ref: >-
                      #/components/schemas/teams-devices_fallback_domain_response_collection
                  - $ref: >-
                      #/components/schemas/teams-devices_api-response-common-failure
          description: >-
            Get the Local Domain Fallback list for a device settings profile
            response failure.
      security:
        - api_email: []
          api_key: []
          api_token: []
      summary: Get the Local Domain Fallback list for a device settings profile
      tags:
        - Devices
      x-api-token-group:
        - Zero Trust Read
        - Zero Trust Write
    put:
      description: >-
        Sets the list of domains to bypass Gateway DNS resolution. These domains
        will use the specified local DNS resolver instead. This will only apply
        to the specified device settings profile.
      operationId: devices-set-local-domain-fallback-list-for-a-device-settings-policy
      parameters:
        - in: path
          name: policy_id
          required: true
          schema:
            $ref: '#/components/schemas/teams-devices_schemas-uuid'
        - in: path
          name: account_id
          required: true
          schema:
            $ref: '#/components/schemas/teams-devices_identifier'
      requestBody:
        content:
          application/json:
            schema:
              items:
                $ref: '#/components/schemas/teams-devices_fallback_domain'
              type: array
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: >-
                  #/components/schemas/teams-devices_fallback_domain_response_collection
          description: >-
            Set the Local Domain Fallback list for a device settings profile
            response.
        4XX:
          content:
            application/json:
              schema:
                allOf:
                  - $ref: >-
                      #/components/schemas/teams-devices_fallback_domain_response_collection
                  - $ref: >-
                      #/components/schemas/teams-devices_api-response-common-failure
          description: >-
            Set the Local Domain Fallback list for a device settings profile
            response failure.
      security:
        - api_email: []
          api_key: []
          api_token: []
      summary: Set the Local Domain Fallback list for a device settings profile
      tags:
        - Devices
      x-api-token-group:
        - Zero Trust Write
  /accounts/{account_id}/devices/policy/{policy_id}/include:
    get:
      description: >-
        Fetches the list of routes included in the WARP client's tunnel for a
        specific device settings profile.
      operationId: devices-get-split-tunnel-include-list-for-a-device-settings-policy
      parameters:
        - in: path
          name: policy_id
          required: true
          schema:
            $ref: '#/components/schemas/teams-devices_schemas-uuid'
        - in: path
          name: account_id
          required: true
          schema:
            $ref: '#/components/schemas/teams-devices_identifier'
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: >-
                  #/components/schemas/teams-devices_split_tunnel_include_response_collection
          description: >-
            Get the Split Tunnel include list for a device settings profile
            response.
        4XX:
          content:
            application/json:
              schema:
                allOf:
                  - $ref: >-
                      #/components/schemas/teams-devices_split_tunnel_include_response_collection
                  - $ref: >-
                      #/components/schemas/teams-devices_api-response-common-failure
          description: >-
            Get the Split Tunnel include list for a device settings profile
            response failure.
      security:
        - api_email: []
          api_key: []
          api_token: []
      summary: Get the Split Tunnel include list for a device settings profile
      tags:
        - Devices
      x-api-token-group:
        - Zero Trust Read
        - Zero Trust Write
    put:
      description: >-
        Sets the list of routes included in the WARP client's tunnel for a
        specific device settings profile.
      operationId: devices-set-split-tunnel-include-list-for-a-device-settings-policy
      parameters:
        - in: path
          name: policy_id
          required: true
          schema:
            $ref: '#/components/schemas/teams-devices_schemas-uuid'
        - in: path
          name: account_id
          required: true
          schema:
            $ref: '#/components/schemas/teams-devices_identifier'
      requestBody:
        content:
          application/json:
            schema:
              items:
                $ref: '#/components/schemas/teams-devices_split_tunnel_include'
              type: array
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: >-
                  #/components/schemas/teams-devices_split_tunnel_include_response_collection
          description: >-
            Set the Split Tunnel include list for a device settings profile
            response.
        4XX:
          content:
            application/json:
              schema:
                allOf:
                  - $ref: >-
                      #/components/schemas/teams-devices_split_tunnel_include_response_collection
                  - $ref: >-
                      #/components/schemas/teams-devices_api-response-common-failure
          description: >-
            Set the Split Tunnel include list for a device settings profile
            response failure.
      security:
        - api_email: []
          api_key: []
          api_token: []
      summary: Set the Split Tunnel include list for a device settings profile
      tags:
        - Devices
      x-api-token-group:
        - Zero Trust Write
  /accounts/{account_id}/devices/revoke:
    post:
      deprecated: true
      description: >
        Revokes a list of devices. Not supported when [multi-user
        mode](https://developers.cloudflare.com/cloudflare-one/connections/connect-devices/warp/deployment/mdm-deployment/windows-multiuser/)
        is enabled.


        **Deprecated**: please use POST
        /accounts/{account_id}/devices/registrations/revoke instead.
      operationId: devices-revoke-devices
      parameters:
        - in: path
          name: account_id
          required: true
          schema:
            $ref: '#/components/schemas/teams-devices_identifier'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/teams-devices_revoke_devices_request'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/teams-devices_api-response-single'
          description: Revoke devices response.
        4XX:
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/teams-devices_api-response-single'
                  - $ref: >-
                      #/components/schemas/teams-devices_api-response-common-failure
          description: Revoke devices response failure.
      security:
        - api_email: []
          api_key: []
          api_token: []
      summary: Revoke devices (deprecated)
      tags:
        - Devices
      x-api-token-group:
        - Zero Trust Write
  /accounts/{account_id}/devices/unrevoke:
    post:
      deprecated: true
      description: >
        Unrevokes a list of devices. Not supported when [multi-user
        mode](https://developers.cloudflare.com/cloudflare-one/connections/connect-devices/warp/deployment/mdm-deployment/windows-multiuser/)
        is enabled.


        **Deprecated**: please use POST
        /accounts/{account_id}/devices/registrations/unrevoke instead.
      operationId: devices-unrevoke-devices
      parameters:
        - in: path
          name: account_id
          required: true
          schema:
            $ref: '#/components/schemas/teams-devices_identifier'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/teams-devices_unrevoke_devices_request'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/teams-devices_api-response-single'
          description: Unrevoke devices response.
        4XX:
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/teams-devices_api-response-single'
                  - $ref: >-
                      #/components/schemas/teams-devices_api-response-common-failure
          description: Unrevoke devices response failure.
      security:
        - api_email: []
          api_key: []
          api_token: []
      summary: Unrevoke devices (deprecated)
      tags:
        - Devices
      x-api-token-group:
        - Zero Trust Write
  /accounts/{account_id}/devices/{device_id}:
    get:
      deprecated: true
      description: >
        Fetches a single WARP device. Not supported when [multi-user
        mode](https://developers.cloudflare.com/cloudflare-one/connections/connect-devices/warp/deployment/mdm-deployment/windows-multiuser/)
        is enabled for the account.


        **Deprecated**: please use one of the following endpoints instead:

        - GET /accounts/{account_id}/devices/physical-devices/{device_id}

        - GET /accounts/{account_id}/devices/registrations/{registration_id}
      operationId: devices-device-details
      parameters:
        - in: path
          name: device_id
          required: true
          schema:
            $ref: '#/components/schemas/teams-devices_registration_id'
        - in: path
          name: account_id
          required: true
          schema:
            $ref: '#/components/schemas/teams-devices_identifier'
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/teams-devices_device_response'
          description: Get device details response.
        4XX:
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/teams-devices_device_response'
                  - $ref: >-
                      #/components/schemas/teams-devices_api-response-common-failure
          description: Get device details response failure.
      security:
        - api_email: []
          api_key: []
          api_token: []
      summary: Get device (deprecated)
      tags:
        - Devices
      x-api-token-group:
        - Zero Trust Read
        - Zero Trust Write
  /accounts/{account_id}/devices/{device_id}/override_codes:
    get:
      deprecated: true
      description: >
        Fetches a one-time use admin override code for a device. This relies on
        the **Admin Override** setting being enabled in your device
        configuration. Not supported when [multi-user
        mode](https://developers.cloudflare.com/cloudflare-one/connections/connect-devices/warp/deployment/mdm-deployment/windows-multiuser/)
        is enabled for the account.

        **Deprecated:** please use GET
        /accounts/{account_id}/devices/registrations/{registration_id}/override_codes
        instead.
      operationId: devices-list-admin-override-code-for-device
      parameters:
        - in: path
          name: device_id
          required: true
          schema:
            $ref: '#/components/schemas/teams-devices_registration_id'
        - in: path
          name: account_id
          required: true
          schema:
            $ref: '#/components/schemas/teams-devices_identifier'
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/teams-devices_override_codes_response'
          description: Get an admin override code for a device response.
        4XX:
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/teams-devices_override_codes_response'
                  - $ref: >-
                      #/components/schemas/teams-devices_api-response-common-failure
          description: Get an admin override code for a device response failure.
      security:
        - api_email: []
          api_key: []
          api_token: []
      summary: |
        Get override codes (deprecated)
      tags:
        - Devices
      x-api-token-group:
        - Zero Trust Read
        - Zero Trust Write
  /zones/{zone_id}/devices/policy/certificates:
    get:
      description: Fetches device certificate provisioning.
      operationId: devices-get-policy-certificates
      parameters:
        - in: path
          name: zone_id
          required: true
          schema:
            $ref: '#/components/schemas/teams-devices_identifier'
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: >-
                  #/components/schemas/teams-devices_devices_policy_certificates_single
          description: Get WARP client provision certificates enabled status response.
        4XX:
          content:
            application/json:
              schema:
                allOf:
                  - $ref: >-
                      #/components/schemas/teams-devices_devices_policy_certificates_single
                  - $ref: >-
                      #/components/schemas/teams-devices_api-response-common-failure
          description: Get WARP client provision certificates enabled status failure.
      security:
        - api_email: []
          api_key: []
          api_token: []
      summary: Get device certificate provisioning status
      tags:
        - Devices
      x-api-token-group:
        - SSL and Certificates Write
        - SSL and Certificates Read
    patch:
      description: >-
        Enable Zero Trust Clients to provision a certificate, containing a x509
        subject, and referenced by Access device posture policies when the
        client visits MTLS protected domains. This facilitates device posture
        without a WARP session.
      operationId: devices-update-policy-certificates
      parameters:
        - in: path
          name: zone_id
          required: true
          schema:
            $ref: '#/components/schemas/teams-devices_identifier'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/teams-devices_devices_policy_certificates'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: >-
                  #/components/schemas/teams-devices_devices_policy_certificates_single
          description: >-
            Update a zone to toggle permission for devices to provision
            certificates response.
        4XX:
          content:
            application/json:
              schema:
                allOf:
                  - $ref: >-
                      #/components/schemas/teams-devices_devices_policy_certificates_single
                  - $ref: >-
                      #/components/schemas/teams-devices_api-response-common-failure
          description: >-
            Patch a zone to toggle permission for devices to provision
            certificates failure.
      security:
        - api_email: []
          api_key: []
          api_token: []
      summary: Update device certificate provisioning status
      tags:
        - Devices
      x-api-token-group:
        - SSL and Certificates Write
components:
  schemas:
    teams-devices_allow_mode_switch:
      default: false
      description: Whether to allow the user to switch WARP between modes.
      example: true
      type: boolean
    teams-devices_allow_updates:
      default: false
      description: >-
        Whether to receive update notifications when a new version of the client
        is available.
      example: true
      type: boolean
    teams-devices_allowed_to_leave:
      default: true
      description: Whether to allow devices to leave the organization.
      example: true
      type: boolean
    teams-devices_api-response-common-failure:
      properties:
        errors:
          allOf:
            - $ref: '#/components/schemas/teams-devices_messages'
          example:
            - code: 7003
              message: No route for the URI
          minLength: 1
        messages:
          allOf:
            - $ref: '#/components/schemas/teams-devices_messages'
          example: []
        result:
          enum:
            - null
          nullable: true
          type: object
        success:
          description: Whether the API call was successful.
          enum:
            - false
          example: false
          type: boolean
      required:
        - success
        - errors
        - messages
        - result
      type: object
    teams-devices_api-response-single:
      allOf:
        - $ref: '#/components/schemas/teams-devices_api-response-common'
        - properties:
            result:
              anyOf:
                - type: object
                - type: string
              nullable: true
              type: object
          type: object
      type: object
    teams-devices_auto_connect:
      default: 0
      description: The amount of time in seconds to reconnect after having been disabled.
      example: 0
      type: number
    teams-devices_captive_portal:
      default: 180
      description: Turn on the captive portal after the specified amount of time.
      example: 180
      type: number
    teams-devices_default_device_settings_response:
      allOf:
        - $ref: '#/components/schemas/teams-devices_api-response-single'
        - properties:
            result:
              $ref: >-
                #/components/schemas/teams-devices_default_device_settings_policy
          type: object
    teams-devices_device_response:
      allOf:
        - $ref: '#/components/schemas/teams-devices_api-response-single'
        - properties:
            result:
              $ref: '#/components/schemas/teams-devices_device'
          type: object
    teams-devices_device_settings_response:
      allOf:
        - $ref: '#/components/schemas/teams-devices_api-response-single'
        - properties:
            result:
              $ref: '#/components/schemas/teams-devices_device_settings_policy'
          type: object
    teams-devices_device_settings_response_collection:
      allOf:
        - $ref: '#/components/schemas/teams-devices_api-response-collection'
        - properties:
            result:
              items:
                $ref: '#/components/schemas/teams-devices_device_settings_policy'
              type: array
          type: object
    teams-devices_devices_policy_certificates:
      properties:
        enabled:
          description: >-
            The current status of the device policy certificate provisioning
            feature for WARP clients.
          example: true
          type: boolean
      required:
        - enabled
      type: object
    teams-devices_devices_policy_certificates_single:
      allOf:
        - $ref: '#/components/schemas/teams-devices_api-response-single'
        - properties:
            result:
              $ref: '#/components/schemas/teams-devices_devices_policy_certificates'
          type: object
    teams-devices_devices_response:
      allOf:
        - $ref: '#/components/schemas/teams-devices_api-response-collection'
        - properties:
            result:
              items:
                $ref: '#/components/schemas/teams-devices_devices'
              type: array
          type: object
    teams-devices_disable_auto_fallback:
      default: false
      description: >-
        If the `dns_server` field of a fallback domain is not present, the
        client will fall back to a best guess of the default/system DNS
        resolvers unless this policy option is set to `true`.
      example: true
      type: boolean
      x-auditable: true
    teams-devices_exclude_office_ips:
      default: false
      description: Whether to add Microsoft IPs to Split Tunnel exclusions.
      example: true
      type: boolean
    teams-devices_exclude_request:
      description: >-
        List of routes excluded in the WARP client's tunnel. Both 'exclude' and
        'include' cannot be set in the same request.
      items:
        $ref: '#/components/schemas/teams-devices_split_tunnel'
      type: array
    teams-devices_fallback_domain:
      properties:
        description:
          description: A description of the fallback domain, displayed in the client UI.
          example: Domain bypass for local development
          maxLength: 100
          type: string
          x-auditable: true
        dns_server:
          description: A list of IP addresses to handle domain resolution.
          items:
            $ref: '#/components/schemas/teams-devices_ip'
          type: array
        suffix:
          description: The domain suffix to match when resolving locally.
          example: example.com
          type: string
          x-auditable: true
      required:
        - suffix
      type: object
    teams-devices_fallback_domain_response_collection:
      allOf:
        - $ref: '#/components/schemas/teams-devices_api-response-collection'
        - properties:
            result:
              items:
                $ref: '#/components/schemas/teams-devices_fallback_domain'
              type: array
          type: object
    teams-devices_identifier:
      example: 699d98642c564d2e855e9661899b7252
    teams-devices_include_request:
      description: >-
        List of routes included in the WARP client's tunnel. Both 'exclude' and
        'include' cannot be set in the same request.
      items:
        $ref: '#/components/schemas/teams-devices_split_tunnel_include'
      type: array
    teams-devices_lan_allow_minutes:
      description: >-
        The amount of time in minutes a user is allowed access to their LAN. A
        value of 0 will allow LAN access until the next WARP reconnection, such
        as a reboot or a laptop waking from sleep. Note that this field is
        omitted from the response if null or unset.
      example: 30
      type: number
    teams-devices_lan_allow_subnet_size:
      description: >-
        The size of the subnet for the local access network. Note that this
        field is omitted from the response if null or unset.
      example: 24
      type: number
    teams-devices_override_codes_response:
      allOf:
        - $ref: '#/components/schemas/teams-devices_api-response-collection'
        - properties:
            result:
              properties:
                disable_for_time:
                  $ref: '#/components/schemas/teams-devices_disable_for_time'
              type: object
          type: object
    teams-devices_precedence:
      description: >-
        The precedence of the policy. Lower values indicate higher precedence.
        Policies will be evaluated in ascending order of this field.
      example: 100
      type: number
    teams-devices_register_interface_ip_with_dns:
      default: true
      description: >-
        Determines if the operating system will register WARP's local interface
        IP with your on-premises DNS server.
      example: true
      type: boolean
    teams-devices_registration_id:
      description: >-
        Registration ID. Equal to Device ID except for accounts which enabled
        [multi-user
        mode](https://developers.cloudflare.com/cloudflare-one/connections/connect-devices/warp/deployment/mdm-deployment/windows-multiuser/).
      example: f174e90a-fafe-4643-bbbc-4a0ed4fc8415
      maxLength: 36
      type: string
      x-auditable: true
    teams-devices_revoke_devices_request:
      description: A list of Registration IDs to revoke.
      items:
        $ref: '#/components/schemas/teams-devices_registration_id'
      maxLength: 200
      type: array
    teams-devices_sccm_vpn_boundary_support:
      default: false
      description: >-
        Determines whether the WARP client indicates to SCCM that it is inside a
        VPN boundary. (Windows only).
      example: false
      type: boolean
    teams-devices_schemas-description:
      description: A description of the policy.
      example: Policy for test teams.
      maxLength: 500
      type: string
    teams-devices_schemas-match:
      description: >-
        The wirefilter expression to match devices. Available values:
        "identity.email", "identity.groups.id", "identity.groups.name",
        "identity.groups.email", "identity.service_token_uuid",
        "identity.saml_attributes", "network", "os.name", "os.version".
      example: identity.email == "test@cloudflare.com"
      maxLength: 500
      type: string
    teams-devices_schemas-uuid:
      example: f174e90a-fafe-4643-bbbc-4a0ed4fc8415
      maxLength: 36
      type: string
      x-auditable: true
    teams-devices_service_mode_v2:
      properties:
        mode:
          description: The mode to run the WARP client under.
          example: proxy
          type: string
          x-auditable: true
        port:
          description: The port number when used with proxy mode.
          example: 3000
          type: number
          x-auditable: true
      type: object
    teams-devices_split_tunnel:
      oneOf:
        - $ref: '#/components/schemas/teams-devices_exclude_split_tunnel_with_address'
        - $ref: '#/components/schemas/teams-devices_exclude_split_tunnel_with_host'
      type: object
    teams-devices_split_tunnel_include:
      oneOf:
        - $ref: '#/components/schemas/teams-devices_include_split_tunnel_with_address'
        - $ref: '#/components/schemas/teams-devices_include_split_tunnel_with_host'
      type: object
    teams-devices_split_tunnel_include_response_collection:
      allOf:
        - $ref: '#/components/schemas/teams-devices_api-response-collection'
        - properties:
            result:
              items:
                $ref: '#/components/schemas/teams-devices_split_tunnel_include'
              type: array
          type: object
    teams-devices_split_tunnel_response_collection:
      allOf:
        - $ref: '#/components/schemas/teams-devices_api-response-collection'
        - properties:
            result:
              items:
                $ref: '#/components/schemas/teams-devices_split_tunnel'
              type: array
          type: object
    teams-devices_support_url:
      default: ''
      description: The URL to launch when the Send Feedback button is clicked.
      example: https://1.1.1.1/help
      type: string
    teams-devices_switch_locked:
      default: false
      description: >-
        Whether to allow the user to turn off the WARP switch and disconnect the
        client.
      example: true
      type: boolean
    teams-devices_tunnel_protocol:
      default: ''
      description: Determines which tunnel protocol to use.
      example: wireguard
      type: string
    teams-devices_unrevoke_devices_request:
      description: A list of Registration IDs to unrevoke.
      items:
        $ref: '#/components/schemas/teams-devices_registration_id'
      maxLength: 200
      type: array
