openapi: 3.0.3
info:
  description: >-
    Welcome to Cloudflare's API documentation site. We are experimenting with an
    updated version of our API documentation - check out
    [developers.cloudflare.com/api-next/](https://developers.cloudflare.com/api-next/)
    to test out the new experience.


    To get started using Cloudflare's products and services via the API, refer
    to [how to interact with
    Cloudflare](https://developers.cloudflare.com/fundamentals/basic-tasks/interact-with-cloudflare/),
    which covers using tools like
    [Terraform](https://developers.cloudflare.com/terraform/#cloudflare-terraform)
    and the [official
    SDKs](https://developers.cloudflare.com/fundamentals/api/reference/sdks/) to
    maintain your Cloudflare resources.


    Using the Cloudflare API requires authentication so that Cloudflare knows
    who is making requests and what permissions you have. Create an API token to
    grant access to the API to perform actions. You can also authenticate with
    [API
    keys](https://developers.cloudflare.com/fundamentals/api/get-started/keys/),
    but these keys have [several
    limitations](https://developers.cloudflare.com/fundamentals/api/get-started/keys/#limitations)
    that make them less secure than API tokens. Whenever possible, use API
    tokens to interact with the Cloudflare API.


    To create an API token, from the Cloudflare dashboard, go to My Profile >
    API Tokens and select Create Token. For more information on how to create
    and troubleshoot API tokens, refer to

    our [API fundamentals](https://developers.cloudflare.com/fundamentals/api/).


    For information regarding rate limits, refer to our [API Rate
    Limits](https://developers.cloudflare.com/cloudflare-for-platforms/workers-for-platforms/platform/limits/#api-rate-limits).


    Totally new to Cloudflare? [Start
    here](https://developers.cloudflare.com/fundamentals/get-started/).
  license:
    name: BSD-3-Clause
    url: https://opensource.org/licenses/BSD-3-Clause
  title: Cloudflare API
  version: 4.0.0
servers:
  - description: Client API
    url: https://api.cloudflare.com/client/v4
paths:
  /zones/{zone_id}/ssl/certificate_packs:
    get:
      description: For a given zone, list all active certificate packs.
      operationId: certificate-packs-list-certificate-packs
      parameters:
        - in: path
          name: zone_id
          required: true
          schema:
            $ref: '#/components/schemas/tls-certificates-and-hostnames_identifier'
        - in: query
          name: status
          schema:
            description: Include Certificate Packs of all statuses, not just active ones.
            enum:
              - all
            example: all
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: >-
                  #/components/schemas/tls-certificates-and-hostnames_certificate_pack_response_collection
          description: List Certificate Packs response
        4XX:
          content:
            application/json:
              schema:
                allOf:
                  - $ref: >-
                      #/components/schemas/tls-certificates-and-hostnames_certificate_pack_response_collection
                  - $ref: >-
                      #/components/schemas/tls-certificates-and-hostnames_api-response-common-failure
          description: List Certificate Packs response failure
      security:
        - api_email: []
          api_key: []
      summary: List Certificate Packs
      tags:
        - Certificate Packs
      x-api-token-group:
        - SSL and Certificates Write
        - SSL and Certificates Read
      x-cfPermissionsRequired:
        enum:
          - '#ssl:read'
      x-cfPlanAvailability:
        business: true
        enterprise: true
        free: true
        pro: true
  /zones/{zone_id}/ssl/certificate_packs/order:
    post:
      description: For a given zone, order an advanced certificate pack.
      operationId: certificate-packs-order-advanced-certificate-manager-certificate-pack
      parameters:
        - in: path
          name: zone_id
          required: true
          schema:
            $ref: '#/components/schemas/tls-certificates-and-hostnames_identifier'
      requestBody:
        content:
          application/json:
            schema:
              properties:
                certificate_authority:
                  $ref: >-
                    #/components/schemas/tls-certificates-and-hostnames_schemas-certificate_authority
                cloudflare_branding:
                  $ref: >-
                    #/components/schemas/tls-certificates-and-hostnames_cloudflare_branding
                hosts:
                  $ref: >-
                    #/components/schemas/tls-certificates-and-hostnames_schemas-hosts
                type:
                  $ref: >-
                    #/components/schemas/tls-certificates-and-hostnames_advanced_type
                validation_method:
                  $ref: >-
                    #/components/schemas/tls-certificates-and-hostnames_validation_method
                validity_days:
                  $ref: >-
                    #/components/schemas/tls-certificates-and-hostnames_validity_days
              required:
                - type
                - hosts
                - validation_method
                - validity_days
                - certificate_authority
              type: object
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: >-
                  #/components/schemas/tls-certificates-and-hostnames_advanced_certificate_pack_response_single
          description: Order Advanced Certificate Manager Certificate Pack response
        4XX:
          content:
            application/json:
              schema:
                allOf:
                  - $ref: >-
                      #/components/schemas/tls-certificates-and-hostnames_advanced_certificate_pack_response_single
                  - $ref: >-
                      #/components/schemas/tls-certificates-and-hostnames_api-response-common-failure
          description: Order Advanced Certificate Manager Certificate Pack response failure
      security:
        - api_email: []
          api_key: []
      summary: Order Advanced Certificate Manager Certificate Pack
      tags:
        - Certificate Packs
      x-api-token-group:
        - SSL and Certificates Write
      x-cfPermissionsRequired:
        enum:
          - '#ssl:read'
          - '#ssl:edit'
      x-cfPlanAvailability:
        business: true
        enterprise: true
        free: true
        pro: true
  /zones/{zone_id}/ssl/certificate_packs/quota:
    get:
      description: For a given zone, list certificate pack quotas.
      operationId: certificate-packs-get-certificate-pack-quotas
      parameters:
        - in: path
          name: zone_id
          required: true
          schema:
            $ref: '#/components/schemas/tls-certificates-and-hostnames_identifier'
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: >-
                  #/components/schemas/tls-certificates-and-hostnames_certificate_pack_quota_response
          description: Get Certificate Pack Quotas response
        4XX:
          content:
            application/json:
              schema:
                allOf:
                  - $ref: >-
                      #/components/schemas/tls-certificates-and-hostnames_certificate_pack_quota_response
                  - $ref: >-
                      #/components/schemas/tls-certificates-and-hostnames_api-response-common-failure
          description: Get Certificate Pack Quotas response failure
      security:
        - api_email: []
          api_key: []
      summary: Get Certificate Pack Quotas
      tags:
        - Certificate Packs
      x-api-token-group:
        - SSL and Certificates Write
        - SSL and Certificates Read
      x-cfPermissionsRequired:
        enum:
          - '#ssl:read'
      x-cfPlanAvailability:
        business: true
        enterprise: true
        free: true
        pro: true
  /zones/{zone_id}/ssl/certificate_packs/{certificate_pack_id}:
    get:
      description: For a given zone, get a certificate pack.
      operationId: certificate-packs-get-certificate-pack
      parameters:
        - in: path
          name: certificate_pack_id
          required: true
          schema:
            $ref: '#/components/schemas/tls-certificates-and-hostnames_identifier'
        - in: path
          name: zone_id
          required: true
          schema:
            $ref: '#/components/schemas/tls-certificates-and-hostnames_identifier'
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: >-
                  #/components/schemas/tls-certificates-and-hostnames_certificate_pack_response_single
          description: Get Certificate Pack response
        4XX:
          content:
            application/json:
              schema:
                allOf:
                  - $ref: >-
                      #/components/schemas/tls-certificates-and-hostnames_certificate_pack_response_single
                  - $ref: >-
                      #/components/schemas/tls-certificates-and-hostnames_api-response-common-failure
          description: Get Certificate Pack response failure
      security:
        - api_email: []
          api_key: []
      summary: Get Certificate Pack
      tags:
        - Certificate Packs
      x-api-token-group:
        - SSL and Certificates Write
        - SSL and Certificates Read
      x-cfPermissionsRequired:
        enum:
          - '#ssl:read'
      x-cfPlanAvailability:
        business: true
        enterprise: true
        free: true
        pro: true
    patch:
      description: >-
        For a given zone, restart validation or add cloudflare branding for an
        advanced certificate pack.  The former is only a validation operation
        for a Certificate Pack in a validation_timed_out status.
      operationId: >-
        certificate-packs-restart-validation-for-advanced-certificate-manager-certificate-pack
      parameters:
        - in: path
          name: certificate_pack_id
          required: true
          schema:
            $ref: '#/components/schemas/tls-certificates-and-hostnames_identifier'
        - in: path
          name: zone_id
          required: true
          schema:
            $ref: '#/components/schemas/tls-certificates-and-hostnames_identifier'
      requestBody:
        content:
          application/json:
            schema:
              properties:
                cloudflare_branding:
                  $ref: >-
                    #/components/schemas/tls-certificates-and-hostnames_cloudflare_branding
              type: object
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: >-
                  #/components/schemas/tls-certificates-and-hostnames_advanced_certificate_pack_response_single
          description: >-
            Restart Validation for Advanced Certificate Manager Certificate Pack
            response
        4XX:
          content:
            application/json:
              schema:
                allOf:
                  - $ref: >-
                      #/components/schemas/tls-certificates-and-hostnames_advanced_certificate_pack_response_single
                  - $ref: >-
                      #/components/schemas/tls-certificates-and-hostnames_api-response-common-failure
          description: >-
            Restart Validation for Advanced Certificate Manager Certificate Pack
            response failure
      security:
        - api_email: []
          api_key: []
      summary: >-
        Restart Validation or Update Advanced Certificate Manager Certificate
        Pack
      tags:
        - Certificate Packs
      x-api-token-group:
        - SSL and Certificates Write
      x-cfPermissionsRequired:
        enum:
          - '#ssl:read'
          - '#ssl:edit'
      x-cfPlanAvailability:
        business: true
        enterprise: true
        free: true
        pro: true
    delete:
      description: For a given zone, delete an advanced certificate pack.
      operationId: certificate-packs-delete-advanced-certificate-manager-certificate-pack
      parameters:
        - in: path
          name: certificate_pack_id
          required: true
          schema:
            $ref: '#/components/schemas/tls-certificates-and-hostnames_identifier'
        - in: path
          name: zone_id
          required: true
          schema:
            $ref: '#/components/schemas/tls-certificates-and-hostnames_identifier'
      requestBody:
        content:
          application/json: {}
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: >-
                  #/components/schemas/tls-certificates-and-hostnames_delete_advanced_certificate_pack_response_single
          description: Delete Advanced Certificate Manager Certificate Pack response
        4XX:
          content:
            application/json:
              schema:
                allOf:
                  - $ref: >-
                      #/components/schemas/tls-certificates-and-hostnames_delete_advanced_certificate_pack_response_single
                  - $ref: >-
                      #/components/schemas/tls-certificates-and-hostnames_api-response-common-failure
          description: >-
            Delete Advanced Certificate Manager Certificate Pack response
            failure
      security:
        - api_email: []
          api_key: []
      summary: Delete Advanced Certificate Manager Certificate Pack
      tags:
        - Certificate Packs
      x-api-token-group:
        - SSL and Certificates Write
      x-cfPermissionsRequired:
        enum:
          - '#ssl:read'
          - '#ssl:edit'
      x-cfPlanAvailability:
        business: true
        enterprise: true
        free: true
        pro: true
components:
  schemas:
    tls-certificates-and-hostnames_advanced_certificate_pack_response_single:
      allOf:
        - $ref: >-
            #/components/schemas/tls-certificates-and-hostnames_api-response-single
        - properties:
            result:
              properties:
                certificate_authority:
                  $ref: >-
                    #/components/schemas/tls-certificates-and-hostnames_schemas-certificate_authority
                cloudflare_branding:
                  $ref: >-
                    #/components/schemas/tls-certificates-and-hostnames_cloudflare_branding
                hosts:
                  $ref: >-
                    #/components/schemas/tls-certificates-and-hostnames_schemas-hosts
                id:
                  $ref: >-
                    #/components/schemas/tls-certificates-and-hostnames_identifier
                status:
                  $ref: >-
                    #/components/schemas/tls-certificates-and-hostnames_certificate-packs_components-schemas-status
                type:
                  $ref: >-
                    #/components/schemas/tls-certificates-and-hostnames_advanced_type
                validation_method:
                  $ref: >-
                    #/components/schemas/tls-certificates-and-hostnames_validation_method
                validity_days:
                  $ref: >-
                    #/components/schemas/tls-certificates-and-hostnames_validity_days
              type: object
          type: object
    tls-certificates-and-hostnames_advanced_type:
      description: Type of certificate pack.
      enum:
        - advanced
      example: advanced
      type: string
      x-auditable: true
    tls-certificates-and-hostnames_api-response-common-failure:
      properties:
        errors:
          allOf:
            - $ref: '#/components/schemas/tls-certificates-and-hostnames_messages'
          example:
            - code: 7003
              message: No route for the URI
          minLength: 1
        messages:
          allOf:
            - $ref: '#/components/schemas/tls-certificates-and-hostnames_messages'
          example: []
        result:
          enum:
            - null
          nullable: true
          type: object
        success:
          description: Whether the API call was successful.
          enum:
            - false
          example: false
          type: boolean
      required:
        - success
        - errors
        - messages
        - result
      type: object
    tls-certificates-and-hostnames_certificate_pack_quota_response:
      allOf:
        - $ref: >-
            #/components/schemas/tls-certificates-and-hostnames_api-response-single
        - properties:
            result:
              properties:
                advanced:
                  $ref: '#/components/schemas/tls-certificates-and-hostnames_quota'
              type: object
          type: object
    tls-certificates-and-hostnames_certificate_pack_response_collection:
      allOf:
        - $ref: >-
            #/components/schemas/tls-certificates-and-hostnames_api-response-collection
        - properties:
            result:
              items:
                type: object
              type: array
    tls-certificates-and-hostnames_certificate_pack_response_single:
      allOf:
        - $ref: >-
            #/components/schemas/tls-certificates-and-hostnames_api-response-single
        - properties:
            result:
              type: object
          type: object
    tls-certificates-and-hostnames_cloudflare_branding:
      description: >-
        Whether or not to add Cloudflare Branding for the order.  This will add
        a subdomain of sni.cloudflaressl.com as the Common Name if set to true.
      example: false
      type: boolean
      x-auditable: true
    tls-certificates-and-hostnames_delete_advanced_certificate_pack_response_single:
      allOf:
        - $ref: >-
            #/components/schemas/tls-certificates-and-hostnames_api-response-single
        - properties:
            result:
              properties:
                id:
                  $ref: >-
                    #/components/schemas/tls-certificates-and-hostnames_identifier
              type: object
          type: object
    tls-certificates-and-hostnames_identifier:
      description: Identifier.
      example: 023e105f4ecef8ad9ca31a8372d0c353
      maxLength: 32
      type: string
    tls-certificates-and-hostnames_schemas-certificate_authority:
      description: >-
        Certificate Authority selected for the order.  For information on any
        certificate authority specific details or restrictions [see this page
        for more
        details.](https://developers.cloudflare.com/ssl/reference/certificate-authorities)
      enum:
        - google
        - lets_encrypt
        - ssl_com
      example: lets_encrypt
      type: string
      x-auditable: true
    tls-certificates-and-hostnames_schemas-hosts:
      description: >-
        Comma separated list of valid host names for the certificate packs. Must
        contain the zone apex, may not contain more than 50 hosts, and may not
        be empty.
      example:
        - example.com
        - '*.example.com'
        - www.example.com
      items:
        type: string
        x-auditable: true
      type: array
    tls-certificates-and-hostnames_validation_method:
      description: Validation Method selected for the order.
      enum:
        - txt
        - http
        - email
      example: txt
      type: string
      x-auditable: true
    tls-certificates-and-hostnames_validity_days:
      description: Validity Days selected for the order.
      enum:
        - 14
        - 30
        - 90
        - 365
      type: integer
      x-auditable: true
