openapi: 3.0.3
info:
  description: >-
    Welcome to Cloudflare's API documentation site. We are experimenting with an
    updated version of our API documentation - check out
    [developers.cloudflare.com/api-next/](https://developers.cloudflare.com/api-next/)
    to test out the new experience.


    To get started using Cloudflare's products and services via the API, refer
    to [how to interact with
    Cloudflare](https://developers.cloudflare.com/fundamentals/basic-tasks/interact-with-cloudflare/),
    which covers using tools like
    [Terraform](https://developers.cloudflare.com/terraform/#cloudflare-terraform)
    and the [official
    SDKs](https://developers.cloudflare.com/fundamentals/api/reference/sdks/) to
    maintain your Cloudflare resources.


    Using the Cloudflare API requires authentication so that Cloudflare knows
    who is making requests and what permissions you have. Create an API token to
    grant access to the API to perform actions. You can also authenticate with
    [API
    keys](https://developers.cloudflare.com/fundamentals/api/get-started/keys/),
    but these keys have [several
    limitations](https://developers.cloudflare.com/fundamentals/api/get-started/keys/#limitations)
    that make them less secure than API tokens. Whenever possible, use API
    tokens to interact with the Cloudflare API.


    To create an API token, from the Cloudflare dashboard, go to My Profile >
    API Tokens and select Create Token. For more information on how to create
    and troubleshoot API tokens, refer to

    our [API fundamentals](https://developers.cloudflare.com/fundamentals/api/).


    For information regarding rate limits, refer to our [API Rate
    Limits](https://developers.cloudflare.com/cloudflare-for-platforms/workers-for-platforms/platform/limits/#api-rate-limits).


    Totally new to Cloudflare? [Start
    here](https://developers.cloudflare.com/fundamentals/get-started/).
  license:
    name: BSD-3-Clause
    url: https://opensource.org/licenses/BSD-3-Clause
  title: Cloudflare API
  version: 4.0.0
servers:
  - description: Client API
    url: https://api.cloudflare.com/client/v4
paths:
  /accounts/{account_id}/waiting_rooms:
    get:
      description: Lists waiting rooms for account.
      operationId: waiting-room-list-waiting-rooms-account
      parameters:
        - in: path
          name: account_id
          required: true
          schema:
            $ref: '#/components/schemas/waitingroom_identifier'
        - $ref: '#/components/parameters/waitingroom_page'
        - $ref: '#/components/parameters/waitingroom_per_page'
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/waitingroom_response_collection'
          description: List waiting rooms for account response
        4XX:
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/waitingroom_response_collection'
                  - $ref: >-
                      #/components/schemas/waitingroom_api-response-common-failure
                type: object
          description: List waiting rooms for account response failure
      security:
        - api_token: []
        - api_email: []
          api_key: []
      summary: List waiting rooms for account
      tags:
        - Waiting Room
      x-api-token-group:
        - Account Waiting Rooms Read
      x-cfPlanAvailability:
        business: true
        enterprise: true
        free: false
        pro: false
  /zones/{zone_id}/waiting_rooms:
    get:
      description: Lists waiting rooms for zone.
      operationId: waiting-room-list-waiting-rooms
      parameters:
        - in: path
          name: zone_id
          required: true
          schema:
            $ref: '#/components/schemas/waitingroom_identifier'
        - $ref: '#/components/parameters/waitingroom_page'
        - $ref: '#/components/parameters/waitingroom_per_page'
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/waitingroom_response_collection'
          description: List waiting rooms for zone response
        4XX:
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/waitingroom_response_collection'
                  - $ref: >-
                      #/components/schemas/waitingroom_api-response-common-failure
                type: object
          description: List waiting rooms for zone response failure
      security:
        - api_token: []
        - api_email: []
          api_key: []
      summary: List waiting rooms for zone
      tags:
        - Waiting Room
      x-api-token-group:
        - Waiting Rooms Read
        - Waiting Rooms Write
      x-cfPlanAvailability:
        business: true
        enterprise: true
        free: false
        pro: false
    post:
      description: Creates a new waiting room.
      operationId: waiting-room-create-waiting-room
      parameters:
        - in: path
          name: zone_id
          required: true
          schema:
            $ref: '#/components/schemas/waitingroom_identifier'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/waitingroom_query_waitingroom'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/waitingroom_single_response'
          description: Create waiting room response
        4XX:
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/waitingroom_single_response'
                  - $ref: >-
                      #/components/schemas/waitingroom_api-response-common-failure
                type: object
          description: Create waiting room response failure
      security:
        - api_token: []
        - api_email: []
          api_key: []
      summary: Create waiting room
      tags:
        - Waiting Room
      x-api-token-group:
        - Waiting Rooms Write
      x-cfPlanAvailability:
        business: true
        enterprise: true
        free: false
        pro: false
  /zones/{zone_id}/waiting_rooms/preview:
    post:
      description: "Creates a waiting room page preview. Upload a custom waiting room page for preview. You will receive a preview URL in the form `http://waitingrooms.dev/preview/<uuid>`. You can use the following query parameters to change the state of the preview:\n1. `force_queue`: Boolean indicating if all users will be queued in the waiting room and no one will be let into the origin website (also known as queueAll).\n2. `queue_is_full`: Boolean indicating if the waiting room's queue is currently full and not accepting new users at the moment.\n3. `queueing_method`: The queueing method currently used by the waiting room.\n\t- **fifo** indicates a FIFO queue.\n\t- **random** indicates a Random queue.\n\t- **passthrough** indicates a Passthrough queue. Keep in mind that the waiting room page will only be displayed if `force_queue=true` or `event=prequeueing` â€” for other cases the request will pass through to the origin. For our preview, this will be a fake origin website returning \\\"Welcome\\\". \n\t- **reject** indicates a Reject queue.\n4. `event`: Used to preview a waiting room event.\n\t- **none** indicates no event is occurring.\n\t- **prequeueing** indicates that an event is prequeueing (between `prequeue_start_time` and `event_start_time`).\n\t- **started** indicates that an event has started (between `event_start_time` and `event_end_time`).\n5. `shuffle_at_event_start`: Boolean indicating if the event will shuffle users in the prequeue when it starts. This can only be set to **true** if an event is active (`event` is not **none**).\n\nFor example, you can make a request to `http://waitingrooms.dev/preview/<uuid>?force_queue=false&queue_is_full=false&queueing_method=random&event=started&shuffle_at_event_start=true`\n6. `waitTime`: Non-zero, positive integer indicating the estimated wait time in minutes. The default value is 10 minutes.\n\nFor example, you can make a request to `http://waitingrooms.dev/preview/<uuid>?waitTime=50` to configure the estimated wait time as 50 minutes."
      operationId: waiting-room-create-a-custom-waiting-room-page-preview
      parameters:
        - in: path
          name: zone_id
          required: true
          schema:
            $ref: '#/components/schemas/waitingroom_identifier'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/waitingroom_query_preview'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/waitingroom_preview_response'
          description: Create a custom waiting room page preview response
        4XX:
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/waitingroom_preview_response'
                  - $ref: >-
                      #/components/schemas/waitingroom_api-response-common-failure
                type: object
          description: Create a custom waiting room page preview response failure
      security:
        - api_token: []
        - api_email: []
          api_key: []
      summary: Create a custom waiting room page preview
      tags:
        - Waiting Room
      x-api-token-group:
        - Waiting Rooms Write
      x-cfPlanAvailability:
        business: false
        enterprise: true
        free: false
        pro: false
  /zones/{zone_id}/waiting_rooms/settings:
    get:
      operationId: waiting-room-get-zone-settings
      parameters:
        - in: path
          name: zone_id
          required: true
          schema:
            $ref: '#/components/schemas/waitingroom_identifier'
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/waitingroom_zone_settings_response'
          description: The current zone-level Waiting Room settings
        4XX:
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/waitingroom_zone_settings_response'
                  - $ref: >-
                      #/components/schemas/waitingroom_api-response-common-failure
                type: object
          description: The current zone-level Waiting Room settings response failure
      security:
        - api_token: []
        - api_email: []
          api_key: []
      summary: Get zone-level Waiting Room settings
      tags:
        - Waiting Room
      x-api-token-group:
        - Waiting Rooms Read
        - Waiting Rooms Write
      x-cfPlanAvailability:
        business: true
        enterprise: true
        free: false
        pro: false
    put:
      operationId: waiting-room-update-zone-settings
      parameters:
        - in: path
          name: zone_id
          required: true
          schema:
            $ref: '#/components/schemas/waitingroom_identifier'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/waitingroom_zone_settings'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/waitingroom_zone_settings_response'
          description: The updated zone-level Waiting Room settings
        4XX:
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/waitingroom_zone_settings_response'
                  - $ref: >-
                      #/components/schemas/waitingroom_api-response-common-failure
                type: object
          description: The zone-level Waiting Room settings response failure
      security:
        - api_token: []
        - api_email: []
          api_key: []
      summary: Update zone-level Waiting Room settings
      tags:
        - Waiting Room
      x-api-token-group:
        - Waiting Rooms Write
      x-cfPlanAvailability:
        business: true
        enterprise: true
        free: false
        pro: false
    patch:
      operationId: waiting-room-patch-zone-settings
      parameters:
        - in: path
          name: zone_id
          required: true
          schema:
            $ref: '#/components/schemas/waitingroom_identifier'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/waitingroom_zone_settings'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/waitingroom_zone_settings_response'
          description: The updated zone-level Waiting Room settings
        4XX:
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/waitingroom_zone_settings_response'
                  - $ref: >-
                      #/components/schemas/waitingroom_api-response-common-failure
                type: object
          description: The zone-level Waiting Room settings response failure
      security:
        - api_token: []
        - api_email: []
          api_key: []
      summary: Patch zone-level Waiting Room settings
      tags:
        - Waiting Room
      x-api-token-group:
        - Waiting Rooms Write
      x-cfPlanAvailability:
        business: true
        enterprise: true
        free: false
        pro: false
  /zones/{zone_id}/waiting_rooms/{waiting_room_id}:
    get:
      description: Fetches a single configured waiting room.
      operationId: waiting-room-waiting-room-details
      parameters:
        - in: path
          name: waiting_room_id
          required: true
          schema:
            $ref: '#/components/schemas/waitingroom_waiting_room_id'
        - in: path
          name: zone_id
          required: true
          schema:
            $ref: '#/components/schemas/waitingroom_identifier'
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/waitingroom_single_response'
          description: Waiting room details response
        4XX:
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/waitingroom_single_response'
                  - $ref: >-
                      #/components/schemas/waitingroom_api-response-common-failure
                type: object
          description: Waiting room details response failure
      security:
        - api_token: []
        - api_email: []
          api_key: []
      summary: Waiting room details
      tags:
        - Waiting Room
      x-api-token-group:
        - Waiting Rooms Read
        - Waiting Rooms Write
      x-cfPlanAvailability:
        business: true
        enterprise: true
        free: false
        pro: false
    put:
      description: Updates a configured waiting room.
      operationId: waiting-room-update-waiting-room
      parameters:
        - in: path
          name: waiting_room_id
          required: true
          schema:
            $ref: '#/components/schemas/waitingroom_waiting_room_id'
        - in: path
          name: zone_id
          required: true
          schema:
            $ref: '#/components/schemas/waitingroom_identifier'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/waitingroom_query_waitingroom'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/waitingroom_single_response'
          description: Update waiting room response
        4XX:
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/waitingroom_single_response'
                  - $ref: >-
                      #/components/schemas/waitingroom_api-response-common-failure
                type: object
          description: Update waiting room response failure
      security:
        - api_token: []
        - api_email: []
          api_key: []
      summary: Update waiting room
      tags:
        - Waiting Room
      x-api-token-group:
        - Waiting Rooms Write
      x-cfPlanAvailability:
        business: true
        enterprise: true
        free: false
        pro: false
    patch:
      description: Patches a configured waiting room.
      operationId: waiting-room-patch-waiting-room
      parameters:
        - in: path
          name: waiting_room_id
          required: true
          schema:
            $ref: '#/components/schemas/waitingroom_waiting_room_id'
        - in: path
          name: zone_id
          required: true
          schema:
            $ref: '#/components/schemas/waitingroom_identifier'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/waitingroom_query_waitingroom'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/waitingroom_single_response'
          description: Patch waiting room response
        4XX:
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/waitingroom_single_response'
                  - $ref: >-
                      #/components/schemas/waitingroom_api-response-common-failure
                type: object
          description: Patch waiting room response failure
      security:
        - api_token: []
        - api_email: []
          api_key: []
      summary: Patch waiting room
      tags:
        - Waiting Room
      x-api-token-group:
        - Waiting Rooms Write
      x-cfPlanAvailability:
        business: true
        enterprise: true
        free: false
        pro: false
    delete:
      description: Deletes a waiting room.
      operationId: waiting-room-delete-waiting-room
      parameters:
        - in: path
          name: waiting_room_id
          required: true
          schema:
            $ref: '#/components/schemas/waitingroom_waiting_room_id'
        - in: path
          name: zone_id
          required: true
          schema:
            $ref: '#/components/schemas/waitingroom_identifier'
      requestBody:
        content:
          application/json: {}
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/waitingroom_waiting_room_id_response'
          description: Delete waiting room response
        4XX:
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/waitingroom_waiting_room_id_response'
                  - $ref: >-
                      #/components/schemas/waitingroom_api-response-common-failure
                type: object
          description: Delete waiting room response failure
      security:
        - api_token: []
        - api_email: []
          api_key: []
      summary: Delete waiting room
      tags:
        - Waiting Room
      x-api-token-group:
        - Waiting Rooms Write
      x-cfPlanAvailability:
        business: true
        enterprise: true
        free: false
        pro: false
  /zones/{zone_id}/waiting_rooms/{waiting_room_id}/events:
    get:
      description: Lists events for a waiting room.
      operationId: waiting-room-list-events
      parameters:
        - in: path
          name: waiting_room_id
          required: true
          schema:
            $ref: '#/components/schemas/waitingroom_waiting_room_id'
        - in: path
          name: zone_id
          required: true
          schema:
            $ref: '#/components/schemas/waitingroom_identifier'
        - $ref: '#/components/parameters/waitingroom_page'
        - $ref: '#/components/parameters/waitingroom_per_page'
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/waitingroom_event_response_collection'
          description: List events response
        4XX:
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/waitingroom_event_response_collection'
                  - $ref: >-
                      #/components/schemas/waitingroom_api-response-common-failure
                type: object
          description: List events response failure
      security:
        - api_token: []
        - api_email: []
          api_key: []
      summary: List events
      tags:
        - Waiting Room
      x-api-token-group:
        - Waiting Rooms Read
        - Waiting Rooms Write
      x-cfPlanAvailability:
        business: false
        enterprise: true
        free: false
        pro: false
    post:
      description: >-
        Only available for the Waiting Room Advanced subscription. Creates an
        event for a waiting room. An event takes place during a specified period
        of time, temporarily changing the behavior of a waiting room. While the
        event is active, some of the properties in the event's configuration may
        either override or inherit from the waiting room's configuration. Note
        that events cannot overlap with each other, so only one event can be
        active at a time.
      operationId: waiting-room-create-event
      parameters:
        - in: path
          name: waiting_room_id
          required: true
          schema:
            $ref: '#/components/schemas/waitingroom_waiting_room_id'
        - in: path
          name: zone_id
          required: true
          schema:
            $ref: '#/components/schemas/waitingroom_identifier'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/waitingroom_query_event'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/waitingroom_event_response'
          description: Create event response
        4XX:
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/waitingroom_event_response'
                  - $ref: >-
                      #/components/schemas/waitingroom_api-response-common-failure
                type: object
          description: Create event response failure
      security:
        - api_token: []
        - api_email: []
          api_key: []
      summary: Create event
      tags:
        - Waiting Room
      x-cfPlanAvailability:
        business: false
        enterprise: true
        free: false
        pro: false
  /zones/{zone_id}/waiting_rooms/{waiting_room_id}/events/{event_id}:
    get:
      description: Fetches a single configured event for a waiting room.
      operationId: waiting-room-event-details
      parameters:
        - in: path
          name: event_id
          required: true
          schema:
            $ref: '#/components/schemas/waitingroom_event_id'
        - in: path
          name: waiting_room_id
          required: true
          schema:
            $ref: '#/components/schemas/waitingroom_waiting_room_id'
        - in: path
          name: zone_id
          required: true
          schema:
            $ref: '#/components/schemas/waitingroom_identifier'
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/waitingroom_event_response'
          description: Event details response
        4XX:
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/waitingroom_event_response'
                  - $ref: >-
                      #/components/schemas/waitingroom_api-response-common-failure
                type: object
          description: Event details response failure
      security:
        - api_token: []
        - api_email: []
          api_key: []
      summary: Event details
      tags:
        - Waiting Room
      x-api-token-group:
        - Waiting Rooms Read
        - Waiting Rooms Write
      x-cfPlanAvailability:
        business: false
        enterprise: true
        free: false
        pro: false
    put:
      description: Updates a configured event for a waiting room.
      operationId: waiting-room-update-event
      parameters:
        - in: path
          name: event_id
          required: true
          schema:
            $ref: '#/components/schemas/waitingroom_event_id'
        - in: path
          name: waiting_room_id
          required: true
          schema:
            $ref: '#/components/schemas/waitingroom_waiting_room_id'
        - in: path
          name: zone_id
          required: true
          schema:
            $ref: '#/components/schemas/waitingroom_identifier'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/waitingroom_query_event'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/waitingroom_event_response'
          description: Update event response
        4XX:
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/waitingroom_event_response'
                  - $ref: >-
                      #/components/schemas/waitingroom_api-response-common-failure
                type: object
          description: Update event response failure
      security:
        - api_token: []
        - api_email: []
          api_key: []
      summary: Update event
      tags:
        - Waiting Room
      x-api-token-group:
        - Waiting Rooms Write
      x-cfPlanAvailability:
        business: false
        enterprise: true
        free: false
        pro: false
    patch:
      description: Patches a configured event for a waiting room.
      operationId: waiting-room-patch-event
      parameters:
        - in: path
          name: event_id
          required: true
          schema:
            $ref: '#/components/schemas/waitingroom_event_id'
        - in: path
          name: waiting_room_id
          required: true
          schema:
            $ref: '#/components/schemas/waitingroom_waiting_room_id'
        - in: path
          name: zone_id
          required: true
          schema:
            $ref: '#/components/schemas/waitingroom_identifier'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/waitingroom_query_event'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/waitingroom_event_response'
          description: Patch event response
        4XX:
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/waitingroom_event_response'
                  - $ref: >-
                      #/components/schemas/waitingroom_api-response-common-failure
                type: object
          description: Patch event response failure
      security:
        - api_token: []
        - api_email: []
          api_key: []
      summary: Patch event
      tags:
        - Waiting Room
      x-api-token-group:
        - Waiting Rooms Write
      x-cfPlanAvailability:
        business: false
        enterprise: true
        free: false
        pro: false
    delete:
      description: Deletes an event for a waiting room.
      operationId: waiting-room-delete-event
      parameters:
        - in: path
          name: event_id
          required: true
          schema:
            $ref: '#/components/schemas/waitingroom_event_id'
        - in: path
          name: waiting_room_id
          required: true
          schema:
            $ref: '#/components/schemas/waitingroom_waiting_room_id'
        - in: path
          name: zone_id
          required: true
          schema:
            $ref: '#/components/schemas/waitingroom_identifier'
      requestBody:
        content:
          application/json: {}
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/waitingroom_event_id_response'
          description: Delete event response
        4XX:
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/waitingroom_event_id_response'
                  - $ref: >-
                      #/components/schemas/waitingroom_api-response-common-failure
                type: object
          description: Delete event response failure
      security:
        - api_token: []
        - api_email: []
          api_key: []
      summary: Delete event
      tags:
        - Waiting Room
      x-api-token-group:
        - Waiting Rooms Write
      x-cfPlanAvailability:
        business: false
        enterprise: true
        free: false
        pro: false
  /zones/{zone_id}/waiting_rooms/{waiting_room_id}/events/{event_id}/details:
    get:
      description: >-
        Previews an event's configuration as if it was active. Inherited fields
        from the waiting room will be displayed with their current values.
      operationId: waiting-room-preview-active-event-details
      parameters:
        - in: path
          name: event_id
          required: true
          schema:
            $ref: '#/components/schemas/waitingroom_event_id'
        - in: path
          name: waiting_room_id
          required: true
          schema:
            $ref: '#/components/schemas/waitingroom_waiting_room_id'
        - in: path
          name: zone_id
          required: true
          schema:
            $ref: '#/components/schemas/waitingroom_identifier'
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/waitingroom_event_details_response'
          description: Preview active event details response
        4XX:
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/waitingroom_event_details_response'
                  - $ref: >-
                      #/components/schemas/waitingroom_api-response-common-failure
                type: object
          description: Preview active event details response failure
      security:
        - api_token: []
        - api_email: []
          api_key: []
      summary: Preview active event details
      tags:
        - Waiting Room
      x-api-token-group:
        - Waiting Rooms Read
        - Waiting Rooms Write
      x-cfPlanAvailability:
        business: false
        enterprise: true
        free: false
        pro: false
  /zones/{zone_id}/waiting_rooms/{waiting_room_id}/rules:
    get:
      description: Lists rules for a waiting room.
      operationId: waiting-room-list-waiting-room-rules
      parameters:
        - in: path
          name: waiting_room_id
          required: true
          schema:
            $ref: '#/components/schemas/waitingroom_waiting_room_id'
        - in: path
          name: zone_id
          required: true
          schema:
            $ref: '#/components/schemas/waitingroom_identifier'
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/waitingroom_rules_response_collection'
          description: List Waiting Room Rules response
        4XX:
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/waitingroom_rules_response_collection'
                  - $ref: >-
                      #/components/schemas/waitingroom_api-response-common-failure
                type: object
          description: List Waiting Room Rules response failure
      security:
        - api_token: []
        - api_email: []
          api_key: []
      summary: List Waiting Room Rules
      tags:
        - Waiting Room
      x-api-token-group:
        - Waiting Rooms Read
        - Waiting Rooms Write
      x-cfPlanAvailability:
        business: false
        enterprise: true
        free: false
        pro: false
    post:
      description: >-
        Only available for the Waiting Room Advanced subscription. Creates a
        rule for a waiting room.
      operationId: waiting-room-create-waiting-room-rule
      parameters:
        - in: path
          name: waiting_room_id
          required: true
          schema:
            $ref: '#/components/schemas/waitingroom_waiting_room_id'
        - in: path
          name: zone_id
          required: true
          schema:
            $ref: '#/components/schemas/waitingroom_identifier'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/waitingroom_create_rule'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/waitingroom_rules_response_collection'
          description: Create Waiting Room Rule response
        4XX:
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/waitingroom_rules_response_collection'
                  - $ref: >-
                      #/components/schemas/waitingroom_api-response-common-failure
                type: object
          description: Create Waiting Room Rule response failure
      security:
        - api_token: []
        - api_email: []
          api_key: []
      summary: Create Waiting Room Rule
      tags:
        - Waiting Room
      x-cfPlanAvailability:
        business: false
        enterprise: true
        free: false
        pro: false
    put:
      description: >-
        Only available for the Waiting Room Advanced subscription. Replaces all
        rules for a waiting room.
      operationId: waiting-room-replace-waiting-room-rules
      parameters:
        - in: path
          name: waiting_room_id
          required: true
          schema:
            $ref: '#/components/schemas/waitingroom_waiting_room_id'
        - in: path
          name: zone_id
          required: true
          schema:
            $ref: '#/components/schemas/waitingroom_identifier'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/waitingroom_update_rules'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/waitingroom_rules_response_collection'
          description: Replace Waiting Room Rules response
        4XX:
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/waitingroom_rules_response_collection'
                  - $ref: >-
                      #/components/schemas/waitingroom_api-response-common-failure
                type: object
          description: Replace Waiting Room Rules response failure
      security:
        - api_token: []
        - api_email: []
          api_key: []
      summary: Replace Waiting Room Rules
      tags:
        - Waiting Room
      x-api-token-group:
        - Waiting Rooms Write
      x-cfPlanAvailability:
        business: false
        enterprise: true
        free: false
        pro: false
  /zones/{zone_id}/waiting_rooms/{waiting_room_id}/rules/{rule_id}:
    patch:
      description: Patches a rule for a waiting room.
      operationId: waiting-room-patch-waiting-room-rule
      parameters:
        - in: path
          name: rule_id
          required: true
          schema:
            $ref: '#/components/schemas/waitingroom_rule_id'
        - in: path
          name: waiting_room_id
          required: true
          schema:
            $ref: '#/components/schemas/waitingroom_waiting_room_id'
        - in: path
          name: zone_id
          required: true
          schema:
            $ref: '#/components/schemas/waitingroom_identifier'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/waitingroom_patch_rule'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/waitingroom_rules_response_collection'
          description: Patch Waiting Room Rule response
        4XX:
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/waitingroom_rules_response_collection'
                  - $ref: >-
                      #/components/schemas/waitingroom_api-response-common-failure
                type: object
          description: Patch Waiting Room Rule response failure
      security:
        - api_token: []
        - api_email: []
          api_key: []
      summary: Patch Waiting Room Rule
      tags:
        - Waiting Room
      x-api-token-group:
        - Waiting Rooms Write
      x-cfPlanAvailability:
        business: false
        enterprise: true
        free: false
        pro: false
    delete:
      description: Deletes a rule for a waiting room.
      operationId: waiting-room-delete-waiting-room-rule
      parameters:
        - in: path
          name: rule_id
          required: true
          schema:
            $ref: '#/components/schemas/waitingroom_rule_id'
        - in: path
          name: waiting_room_id
          required: true
          schema:
            $ref: '#/components/schemas/waitingroom_waiting_room_id'
        - in: path
          name: zone_id
          required: true
          schema:
            $ref: '#/components/schemas/waitingroom_identifier'
      requestBody:
        content:
          application/json: {}
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/waitingroom_rules_response_collection'
          description: Delete Waiting Room Rule response
        4XX:
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/waitingroom_rules_response_collection'
                  - $ref: >-
                      #/components/schemas/waitingroom_api-response-common-failure
                type: object
          description: Delete Waiting Room Rule response failure
      security:
        - api_token: []
        - api_email: []
          api_key: []
      summary: Delete Waiting Room Rule
      tags:
        - Waiting Room
      x-api-token-group:
        - Waiting Rooms Write
      x-cfPlanAvailability:
        business: false
        enterprise: true
        free: false
        pro: false
  /zones/{zone_id}/waiting_rooms/{waiting_room_id}/status:
    get:
      description: "Fetches the status of a configured waiting room. Response fields include:\n1. `status`: String indicating the status of the waiting room. The possible status are:\n\t- **not_queueing** indicates that the configured thresholds have not been met and all users are going through to the origin.\n\t- **queueing** indicates that the thresholds have been met and some users are held in the waiting room.\n\t- **event_prequeueing** indicates that an event is active and is currently prequeueing users before it starts.\n\t- **suspended** indicates that the room is suspended.\n2. `event_id`: String of the current event's `id` if an event is active, otherwise an empty string.\n3. `estimated_queued_users`: Integer of the estimated number of users currently waiting in the queue.\n4. `estimated_total_active_users`: Integer of the estimated number of users currently active on the origin.\n5. `max_estimated_time_minutes`: Integer of the maximum estimated time currently presented to the users."
      operationId: waiting-room-get-waiting-room-status
      parameters:
        - in: path
          name: waiting_room_id
          required: true
          schema:
            $ref: '#/components/schemas/waitingroom_waiting_room_id'
        - in: path
          name: zone_id
          required: true
          schema:
            $ref: '#/components/schemas/waitingroom_identifier'
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/waitingroom_status_response'
          description: Get waiting room status response
        4XX:
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/waitingroom_status_response'
                  - $ref: >-
                      #/components/schemas/waitingroom_api-response-common-failure
                type: object
          description: Get waiting room status response failure
      security:
        - api_token: []
        - api_email: []
          api_key: []
      summary: Get waiting room status
      tags:
        - Waiting Room
      x-api-token-group:
        - Waiting Rooms Read
        - Waiting Rooms Write
      x-cfPlanAvailability:
        business: true
        enterprise: true
        free: false
        pro: false
components:
  schemas:
    waitingroom_api-response-common-failure:
      properties:
        errors:
          allOf:
            - $ref: '#/components/schemas/waitingroom_messages'
          example:
            - code: 7003
              message: No route for the URI
          minLength: 1
        messages:
          allOf:
            - $ref: '#/components/schemas/waitingroom_messages'
          example: []
        result:
          enum:
            - null
          nullable: true
          type: object
        success:
          description: Whether the API call was successful.
          enum:
            - false
          example: false
          type: boolean
      required:
        - success
        - errors
        - messages
        - result
      type: object
    waitingroom_create_rule:
      properties:
        action:
          $ref: '#/components/schemas/waitingroom_rule_action'
        description:
          $ref: '#/components/schemas/waitingroom_rule_description'
        enabled:
          $ref: '#/components/schemas/waitingroom_rule_enabled'
        expression:
          $ref: '#/components/schemas/waitingroom_rule_expression'
      required:
        - action
        - expression
      type: object
    waitingroom_event_details_response:
      allOf:
        - $ref: '#/components/schemas/waitingroom_api-response-single'
        - properties:
            result:
              $ref: '#/components/schemas/waitingroom_event_details_result'
          type: object
      type: object
    waitingroom_event_id:
      example: 25756b2dfe6e378a06b033b670413757
      type: string
      x-auditable: true
    waitingroom_event_id_response:
      allOf:
        - $ref: '#/components/schemas/waitingroom_api-response-single'
        - properties:
            result:
              properties:
                id:
                  $ref: '#/components/schemas/waitingroom_event_id'
              type: object
          type: object
      type: object
    waitingroom_event_response:
      allOf:
        - $ref: '#/components/schemas/waitingroom_api-response-single'
        - properties:
            result:
              $ref: '#/components/schemas/waitingroom_event_result'
          type: object
      type: object
    waitingroom_event_response_collection:
      allOf:
        - $ref: '#/components/schemas/waitingroom_api-response-collection'
        - properties:
            result:
              items:
                $ref: '#/components/schemas/waitingroom_event_result'
              type: array
          type: object
      type: object
    waitingroom_identifier:
      description: Identifier.
      example: 023e105f4ecef8ad9ca31a8372d0c353
      maxLength: 32
      type: string
      x-auditable: true
    waitingroom_patch_rule:
      properties:
        action:
          $ref: '#/components/schemas/waitingroom_rule_action'
        description:
          $ref: '#/components/schemas/waitingroom_rule_description'
        enabled:
          $ref: '#/components/schemas/waitingroom_rule_enabled'
        expression:
          $ref: '#/components/schemas/waitingroom_rule_expression'
        position:
          $ref: '#/components/schemas/waitingroom_rule_position'
      required:
        - action
        - expression
      type: object
    waitingroom_preview_response:
      allOf:
        - $ref: '#/components/schemas/waitingroom_api-response-single'
        - properties:
            result:
              properties:
                preview_url:
                  $ref: '#/components/schemas/waitingroom_preview_url'
              type: object
          type: object
      type: object
    waitingroom_query_event:
      properties:
        custom_page_html:
          $ref: '#/components/schemas/waitingroom_event_custom_page_html'
        description:
          $ref: '#/components/schemas/waitingroom_event_description'
        disable_session_renewal:
          $ref: '#/components/schemas/waitingroom_event_disable_session_renewal'
        event_end_time:
          $ref: '#/components/schemas/waitingroom_event_end_time'
        event_start_time:
          $ref: '#/components/schemas/waitingroom_event_start_time'
        name:
          $ref: '#/components/schemas/waitingroom_event_name'
        new_users_per_minute:
          $ref: '#/components/schemas/waitingroom_event_new_users_per_minute'
        prequeue_start_time:
          $ref: '#/components/schemas/waitingroom_event_prequeue_start_time'
        queueing_method:
          $ref: '#/components/schemas/waitingroom_event_queueing_method'
        session_duration:
          $ref: '#/components/schemas/waitingroom_event_session_duration'
        shuffle_at_event_start:
          $ref: '#/components/schemas/waitingroom_event_shuffle_at_event_start'
        suspended:
          $ref: '#/components/schemas/waitingroom_event_suspended'
        total_active_users:
          $ref: '#/components/schemas/waitingroom_event_total_active_users'
        turnstile_action:
          $ref: '#/components/schemas/waitingroom_event_turnstile_action'
        turnstile_mode:
          $ref: '#/components/schemas/waitingroom_event_turnstile_mode'
      required:
        - name
        - event_start_time
        - event_end_time
      type: object
    waitingroom_query_preview:
      properties:
        custom_html:
          $ref: '#/components/schemas/waitingroom_custom_page_html'
      required:
        - custom_html
      type: object
    waitingroom_query_waitingroom:
      properties:
        additional_routes:
          $ref: '#/components/schemas/waitingroom_additional_routes'
        cookie_attributes:
          $ref: '#/components/schemas/waitingroom_cookie_attributes'
        cookie_suffix:
          $ref: '#/components/schemas/waitingroom_cookie_suffix'
        custom_page_html:
          $ref: '#/components/schemas/waitingroom_custom_page_html'
        default_template_language:
          $ref: '#/components/schemas/waitingroom_default_template_language'
        description:
          $ref: '#/components/schemas/waitingroom_description'
        disable_session_renewal:
          $ref: '#/components/schemas/waitingroom_disable_session_renewal'
        enabled_origin_commands:
          $ref: '#/components/schemas/waitingroom_enabled_origin_commands'
        host:
          $ref: '#/components/schemas/waitingroom_host'
        json_response_enabled:
          $ref: '#/components/schemas/waitingroom_json_response_enabled'
        name:
          $ref: '#/components/schemas/waitingroom_name'
        new_users_per_minute:
          $ref: '#/components/schemas/waitingroom_new_users_per_minute'
        path:
          $ref: '#/components/schemas/waitingroom_path'
        queue_all:
          $ref: '#/components/schemas/waitingroom_queue_all'
        queueing_method:
          $ref: '#/components/schemas/waitingroom_queueing_method'
        queueing_status_code:
          $ref: '#/components/schemas/waitingroom_queueing_status_code'
        session_duration:
          $ref: '#/components/schemas/waitingroom_session_duration'
        suspended:
          $ref: '#/components/schemas/waitingroom_suspended'
        total_active_users:
          $ref: '#/components/schemas/waitingroom_total_active_users'
        turnstile_action:
          $ref: '#/components/schemas/waitingroom_turnstile_action'
        turnstile_mode:
          $ref: '#/components/schemas/waitingroom_turnstile_mode'
      required:
        - name
        - host
        - new_users_per_minute
        - total_active_users
      type: object
    waitingroom_response_collection:
      allOf:
        - $ref: '#/components/schemas/waitingroom_api-response-collection'
        - properties:
            result:
              items:
                $ref: '#/components/schemas/waitingroom_waitingroom'
              type: array
          type: object
      type: object
    waitingroom_rule_id:
      description: The ID of the rule.
      example: 25756b2dfe6e378a06b033b670413757
      type: string
      x-auditable: true
    waitingroom_rules_response_collection:
      allOf:
        - $ref: '#/components/schemas/waitingroom_api-response-collection'
        - properties:
            result:
              items:
                $ref: '#/components/schemas/waitingroom_rule_result'
              type: array
          type: object
      type: object
    waitingroom_single_response:
      allOf:
        - $ref: '#/components/schemas/waitingroom_api-response-single'
        - properties:
            result:
              $ref: '#/components/schemas/waitingroom_waitingroom'
          type: object
      type: object
    waitingroom_status_response:
      allOf:
        - $ref: '#/components/schemas/waitingroom_api-response-single'
        - properties:
            result:
              properties:
                estimated_queued_users:
                  $ref: '#/components/schemas/waitingroom_estimated_queued_users'
                estimated_total_active_users:
                  $ref: >-
                    #/components/schemas/waitingroom_estimated_total_active_users
                event_id:
                  $ref: '#/components/schemas/waitingroom_status_event_id'
                max_estimated_time_minutes:
                  $ref: '#/components/schemas/waitingroom_max_estimated_time_minutes'
                status:
                  $ref: '#/components/schemas/waitingroom_status'
              type: object
          type: object
      type: object
    waitingroom_update_rules:
      items:
        $ref: '#/components/schemas/waitingroom_create_rule'
      type: array
    waitingroom_waiting_room_id:
      example: 699d98642c564d2e855e9661899b7252
      type: string
      x-auditable: true
    waitingroom_waiting_room_id_response:
      allOf:
        - $ref: '#/components/schemas/waitingroom_api-response-single'
        - properties:
            result:
              properties:
                id:
                  $ref: '#/components/schemas/waitingroom_waiting_room_id'
              type: object
          type: object
      type: object
    waitingroom_zone_settings:
      properties:
        search_engine_crawler_bypass:
          $ref: '#/components/schemas/waitingroom_search_engine_crawler_bypass'
      type: object
    waitingroom_zone_settings_response:
      allOf:
        - $ref: '#/components/schemas/waitingroom_api-response-single'
        - properties:
            result:
              properties:
                search_engine_crawler_bypass:
                  $ref: >-
                    #/components/schemas/waitingroom_search_engine_crawler_bypass
              required:
                - search_engine_crawler_bypass
              type: object
          required:
            - result
          type: object
      type: object
  parameters:
    waitingroom_page:
      description: Page number of paginated results.
      in: query
      name: page
      schema:
        default: 1
        minimum: 1
        type: number
    waitingroom_per_page:
      description: Maximum number of results per page. Must be a multiple of 5.
      in: query
      name: per_page
      schema:
        default: 25
        maximum: 1000
        minimum: 5
        type: number
