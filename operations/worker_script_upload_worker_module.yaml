openapi: 3.0.3
info:
  description: >-
    Welcome to Cloudflare's API documentation site. We are experimenting with an
    updated version of our API documentation - check out
    [developers.cloudflare.com/api-next/](https://developers.cloudflare.com/api-next/)
    to test out the new experience.


    To get started using Cloudflare's products and services via the API, refer
    to [how to interact with
    Cloudflare](https://developers.cloudflare.com/fundamentals/basic-tasks/interact-with-cloudflare/),
    which covers using tools like
    [Terraform](https://developers.cloudflare.com/terraform/#cloudflare-terraform)
    and the [official
    SDKs](https://developers.cloudflare.com/fundamentals/api/reference/sdks/) to
    maintain your Cloudflare resources.


    Using the Cloudflare API requires authentication so that Cloudflare knows
    who is making requests and what permissions you have. Create an API token to
    grant access to the API to perform actions. You can also authenticate with
    [API
    keys](https://developers.cloudflare.com/fundamentals/api/get-started/keys/),
    but these keys have [several
    limitations](https://developers.cloudflare.com/fundamentals/api/get-started/keys/#limitations)
    that make them less secure than API tokens. Whenever possible, use API
    tokens to interact with the Cloudflare API.


    To create an API token, from the Cloudflare dashboard, go to My Profile >
    API Tokens and select Create Token. For more information on how to create
    and troubleshoot API tokens, refer to

    our [API fundamentals](https://developers.cloudflare.com/fundamentals/api/).


    For information regarding rate limits, refer to our [API Rate
    Limits](https://developers.cloudflare.com/cloudflare-for-platforms/workers-for-platforms/platform/limits/#api-rate-limits).


    Totally new to Cloudflare? [Start
    here](https://developers.cloudflare.com/fundamentals/get-started/).
  license:
    name: BSD-3-Clause
    url: https://opensource.org/licenses/BSD-3-Clause
  title: Cloudflare API
  version: 4.0.0
servers:
  - description: Client API
    url: https://api.cloudflare.com/client/v4
paths:
  /accounts/{account_id}/workers/scripts/{script_name}:
    put:
      description: >-
        Upload a worker module. You can find more about the multipart metadata
        on our docs:
        https://developers.cloudflare.com/workers/configuration/multipart-upload-metadata/.
      operationId: worker-script-upload-worker-module
      parameters:
        - in: path
          name: account_id
          required: true
          schema:
            description: Identifier.
            example: 023e105f4ecef8ad9ca31a8372d0c353
            maxLength: 32
            type: string
            x-auditable: true
        - in: path
          name: script_name
          required: true
          schema:
            description: Name of the script, used in URLs and route configuration.
            example: this-is_my_script-01
            pattern: ^[a-z0-9_][a-z0-9-_]*$
            type: string
            x-auditable: true
      requestBody:
        content:
          application/javascript:
            schema:
              description: >-
                Raw javascript content comprising a Worker. Must be in service
                worker syntax.
              example: >-
                addEventListener('fetch', (event) => event.respondWith(new
                Response('OK')))
              type: string
          multipart/form-data:
            encoding:
              files:
                contentType: >-
                  application/javascript+module, text/javascript+module,
                  application/javascript, text/javascript, text/x-python,
                  text/x-python-requirement, application/wasm, text/plain,
                  application/octet-stream, application/source-map
            schema:
              example:
                files:
                  - |-
                    export default {
                      async fetch(request, env, ctx) {
                        return new Response("Hello, world!");
                      }
                    };
                metadata:
                  compatibility_date: {}
                  compatibility_flags:
                    - nodejs_compat
                  main_module: worker.js
              properties:
                files:
                  description: >-
                    An array of modules (often JavaScript files) comprising a
                    Worker script. At least one module must be present and
                    referenced in the metadata as `main_module` or `body_part`
                    by filename.<br/>Possible Content-Type(s) are:
                    `application/javascript+module`, `text/javascript+module`,
                    `application/javascript`, `text/javascript`,
                    `text/x-python`, `text/x-python-requirement`,
                    `application/wasm`, `text/plain`,
                    `application/octet-stream`, `application/source-map`.
                  items:
                    format: binary
                    type: string
                  type: array
                  x-stainless-collection-type: set
                metadata:
                  description: >-
                    JSON encoded metadata about the uploaded parts and Worker
                    configuration.
                  properties:
                    assets:
                      description: Configuration for assets within a Worker.
                      properties:
                        config:
                          description: Configuration for assets within a Worker.
                          properties:
                            _headers:
                              description: >-
                                The contents of a _headers file (used to attach
                                custom headers on asset responses).
                              example: |-
                                /dashboard/*
                                X-Frame-Options: DENY

                                /static/*
                                Access-Control-Allow-Origin: *
                              type: string
                            _redirects:
                              description: >-
                                The contents of a _redirects file (used to apply
                                redirects or proxy paths ahead of asset
                                serving).
                              example: |-
                                /foo /bar 301
                                /news/* /blog/:splat
                              type: string
                            html_handling:
                              description: >-
                                Determines the redirects and rewrites of
                                requests for HTML content.
                              enum:
                                - auto-trailing-slash
                                - force-trailing-slash
                                - drop-trailing-slash
                                - none
                              example: auto-trailing-slash
                              type: string
                            not_found_handling:
                              description: >-
                                Determines the response when a request does not
                                match a static asset, and there is no Worker
                                script.
                              enum:
                                - none
                                - 404-page
                                - single-page-application
                              example: 404-page
                              type: string
                            run_worker_first:
                              oneOf:
                                - description: >-
                                    Contains a list path rules to control
                                    routing to either the Worker or assets. Glob
                                    (*) and negative (!) rules are supported.
                                    Rules must start with either '/' or '!/'. At
                                    least one non-negative rule must be
                                    provided, and negative rules have higher
                                    precedence than non-negative rules.
                                  example: >-
                                    ["/api/*", "/oauth/callback",
                                    "!/api/assets/*"]
                                  items:
                                    type: string
                                  type: array
                                - description: >-
                                    Enables routing to always invoke the Worker
                                    script ahead of all requests. When true,
                                    this is equivalent to `["/*"]` in the string
                                    array version of this field.
                                  example: true
                                  type: boolean
                            serve_directly:
                              deprecated: true
                              description: >-
                                When true and the incoming request matches an
                                asset, that will be served instead of invoking
                                the Worker script. When false, requests will
                                always invoke the Worker script.
                              example: true
                              type: boolean
                          type: object
                        jwt:
                          description: >-
                            Token provided upon successful upload of all files
                            from a registered manifest.
                          type: string
                          x-sensitive: true
                      type: object
                    bindings:
                      description: >-
                        List of bindings attached to a Worker. You can find more
                        about bindings on our docs:
                        https://developers.cloudflare.com/workers/configuration/multipart-upload-metadata/#bindings.
                      example:
                        - name: MY_ENV_VAR
                          text: my_data
                          type: plain_text
                      items:
                        description: >-
                          A binding to allow the Worker to communicate with
                          resources.
                        discriminator:
                          mapping:
                            ai: '#/components/schemas/workers_binding_kind_ai'
                            analytics_engine: >-
                              #/components/schemas/workers_binding_kind_analytics_engine
                            assets: '#/components/schemas/workers_binding_kind_assets'
                            browser: '#/components/schemas/workers_binding_kind_browser'
                            d1: '#/components/schemas/workers_binding_kind_d1'
                            dispatch_namespace: >-
                              #/components/schemas/workers_binding_kind_dispatch_namespace
                            durable_object_namespace: >-
                              #/components/schemas/workers_binding_kind_durable_object_namespace
                            hyperdrive: >-
                              #/components/schemas/workers_binding_kind_hyperdrive
                            json: '#/components/schemas/workers_binding_kind_json'
                            kv_namespace: >-
                              #/components/schemas/workers_binding_kind_kv_namespace
                            mtls_certificate: >-
                              #/components/schemas/workers_binding_kind_mtls_certificate
                            pipelines: >-
                              #/components/schemas/workers_binding_kind_pipelines
                            plain_text: >-
                              #/components/schemas/workers_binding_kind_plain_text
                            queue: '#/components/schemas/workers_binding_kind_queue'
                            r2_bucket: >-
                              #/components/schemas/workers_binding_kind_r2_bucket
                            secret_key: >-
                              #/components/schemas/workers_binding_kind_secret_key
                            secret_text: >-
                              #/components/schemas/workers_binding_kind_secret_text
                            secrets_store_secret: >-
                              #/components/schemas/workers_binding_kind_secrets_store_secret
                            service: '#/components/schemas/workers_binding_kind_service'
                            tail_consumer: >-
                              #/components/schemas/workers_binding_kind_tail_consumer
                            vectorize: >-
                              #/components/schemas/workers_binding_kind_vectorize
                            version_metadata: >-
                              #/components/schemas/workers_binding_kind_version_metadata
                            workflow: '#/components/schemas/workers_binding_kind_workflow'
                          propertyName: type
                        oneOf:
                          - properties:
                              name:
                                description: A JavaScript variable name for the binding.
                                example: myBinding
                                type: string
                                x-auditable: true
                              type:
                                description: >-
                                  The kind of resource that the binding
                                  provides.
                                enum:
                                  - ai
                                type: string
                                x-auditable: true
                            required:
                              - name
                              - type
                            type: object
                          - properties:
                              dataset:
                                description: The name of the dataset to bind to.
                                example: some_dataset
                                type: string
                                x-auditable: true
                              name:
                                description: A JavaScript variable name for the binding.
                                example: myBinding
                                type: string
                                x-auditable: true
                              type:
                                description: >-
                                  The kind of resource that the binding
                                  provides.
                                enum:
                                  - analytics_engine
                                type: string
                                x-auditable: true
                            required:
                              - name
                              - type
                              - dataset
                            type: object
                          - properties:
                              name:
                                description: A JavaScript variable name for the binding.
                                example: myBinding
                                type: string
                                x-auditable: true
                              type:
                                description: >-
                                  The kind of resource that the binding
                                  provides.
                                enum:
                                  - assets
                                type: string
                                x-auditable: true
                            required:
                              - name
                              - type
                            type: object
                          - properties:
                              name:
                                description: A JavaScript variable name for the binding.
                                example: myBinding
                                type: string
                                x-auditable: true
                              type:
                                description: >-
                                  The kind of resource that the binding
                                  provides.
                                enum:
                                  - browser
                                type: string
                                x-auditable: true
                            required:
                              - name
                              - type
                            type: object
                          - properties:
                              id:
                                description: Identifier of the D1 database to bind to.
                                example: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx
                                type: string
                                x-auditable: true
                              name:
                                description: A JavaScript variable name for the binding.
                                example: myBinding
                                type: string
                                x-auditable: true
                              type:
                                description: >-
                                  The kind of resource that the binding
                                  provides.
                                enum:
                                  - d1
                                type: string
                                x-auditable: true
                            required:
                              - name
                              - type
                              - id
                            type: object
                          - properties:
                              name:
                                description: A JavaScript variable name for the binding.
                                example: myBinding
                                type: string
                                x-auditable: true
                              namespace:
                                description: Namespace to bind to.
                                example: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx
                                type: string
                                x-auditable: true
                              outbound:
                                description: Outbound worker.
                                properties:
                                  params:
                                    description: >-
                                      Pass information from the Dispatch Worker
                                      to the Outbound Worker through the
                                      parameters.
                                    items:
                                      example: url
                                      type: string
                                      x-auditable: true
                                    type: array
                                  worker:
                                    description: Outbound worker.
                                    properties:
                                      environment:
                                        description: Environment of the outbound worker.
                                        type: string
                                        x-auditable: true
                                      service:
                                        description: Name of the outbound worker.
                                        type: string
                                        x-auditable: true
                                    type: object
                                type: object
                              type:
                                description: >-
                                  The kind of resource that the binding
                                  provides.
                                enum:
                                  - dispatch_namespace
                                type: string
                                x-auditable: true
                            required:
                              - name
                              - type
                              - namespace
                            type: object
                          - properties:
                              class_name:
                                description: The exported class name of the Durable Object.
                                example: MyDurableObject
                                type: string
                                x-auditable: true
                                x-stainless-terraform-configurability: computed_optional
                              environment:
                                description: The environment of the script_name to bind to.
                                example: production
                                type: string
                                x-auditable: true
                              name:
                                description: A JavaScript variable name for the binding.
                                example: myBinding
                                type: string
                                x-auditable: true
                              namespace_id:
                                allOf:
                                  - description: Namespace identifier tag.
                                    example: 0f2ac74b498b48028cb68387c421e279
                                    maxLength: 32
                                    type: string
                                    x-auditable: true
                                  - type: string
                                    x-auditable: true
                                    x-stainless-terraform-configurability: computed_optional
                              script_name:
                                description: >-
                                  The script where the Durable Object is
                                  defined, if it is external to this Worker.
                                example: my-other-worker
                                type: string
                                x-auditable: true
                                x-stainless-terraform-configurability: computed_optional
                              type:
                                description: >-
                                  The kind of resource that the binding
                                  provides.
                                enum:
                                  - durable_object_namespace
                                type: string
                                x-auditable: true
                            required:
                              - name
                              - type
                            type: object
                          - properties:
                              id:
                                description: >-
                                  Identifier of the Hyperdrive connection to
                                  bind to.
                                example: 57b7076f58be42419276f058a8968187
                                type: string
                                x-auditable: true
                              name:
                                description: A JavaScript variable name for the binding.
                                example: myBinding
                                type: string
                                x-auditable: true
                              type:
                                description: >-
                                  The kind of resource that the binding
                                  provides.
                                enum:
                                  - hyperdrive
                                type: string
                                x-auditable: true
                            required:
                              - name
                              - type
                              - id
                            type: object
                          - properties:
                              json:
                                description: JSON data to use.
                                example: '{ "message": "Hello, world!" }'
                                type: string
                              name:
                                description: A JavaScript variable name for the binding.
                                example: myBinding
                                type: string
                                x-auditable: true
                              type:
                                description: >-
                                  The kind of resource that the binding
                                  provides.
                                enum:
                                  - json
                                type: string
                                x-auditable: true
                            required:
                              - name
                              - type
                              - json
                            type: object
                          - properties:
                              name:
                                description: A JavaScript variable name for the binding.
                                example: myBinding
                                type: string
                                x-auditable: true
                              namespace_id:
                                description: Namespace identifier tag.
                                example: 0f2ac74b498b48028cb68387c421e279
                                maxLength: 32
                                type: string
                                x-auditable: true
                              type:
                                description: >-
                                  The kind of resource that the binding
                                  provides.
                                enum:
                                  - kv_namespace
                                type: string
                                x-auditable: true
                            required:
                              - name
                              - type
                              - namespace_id
                            type: object
                          - properties:
                              certificate_id:
                                description: Identifier of the certificate to bind to.
                                example: efwu2n6s-q69d-2kr9-184j-4913e8h391k6
                                type: string
                                x-auditable: true
                              name:
                                description: A JavaScript variable name for the binding.
                                example: myBinding
                                type: string
                                x-auditable: true
                              type:
                                description: >-
                                  The kind of resource that the binding
                                  provides.
                                enum:
                                  - mtls_certificate
                                type: string
                                x-auditable: true
                            required:
                              - name
                              - type
                              - certificate_id
                            type: object
                          - properties:
                              name:
                                description: A JavaScript variable name for the binding.
                                example: myBinding
                                type: string
                                x-auditable: true
                              text:
                                description: The text value to use.
                                example: Hello, world!
                                type: string
                                x-auditable: true
                              type:
                                description: >-
                                  The kind of resource that the binding
                                  provides.
                                enum:
                                  - plain_text
                                type: string
                                x-auditable: true
                            required:
                              - name
                              - type
                              - text
                            type: object
                          - properties:
                              name:
                                description: A JavaScript variable name for the binding.
                                example: myBinding
                                type: string
                                x-auditable: true
                              pipeline:
                                description: Name of the Pipeline to bind to.
                                example: my-pipeline
                                type: string
                                x-auditable: true
                              type:
                                description: >-
                                  The kind of resource that the binding
                                  provides.
                                enum:
                                  - pipelines
                                type: string
                                x-auditable: true
                            required:
                              - name
                              - type
                              - pipeline
                            type: object
                          - properties:
                              name:
                                description: A JavaScript variable name for the binding.
                                example: myBinding
                                type: string
                                x-auditable: true
                              queue_name:
                                description: Name of the Queue to bind to.
                                example: my-queue
                                type: string
                              type:
                                description: >-
                                  The kind of resource that the binding
                                  provides.
                                enum:
                                  - queue
                                type: string
                                x-auditable: true
                            required:
                              - name
                              - type
                              - queue_name
                            type: object
                          - properties:
                              bucket_name:
                                description: R2 bucket to bind to.
                                example: my-r2-bucket
                                type: string
                                x-auditable: true
                              name:
                                description: A JavaScript variable name for the binding.
                                example: myBinding
                                type: string
                                x-auditable: true
                              type:
                                description: >-
                                  The kind of resource that the binding
                                  provides.
                                enum:
                                  - r2_bucket
                                type: string
                                x-auditable: true
                            required:
                              - name
                              - type
                              - bucket_name
                            type: object
                          - properties:
                              name:
                                description: A JavaScript variable name for the binding.
                                example: myBinding
                                type: string
                                x-auditable: true
                              text:
                                description: The secret value to use.
                                example: My secret.
                                type: string
                                writeOnly: true
                                x-sensitive: true
                              type:
                                description: >-
                                  The kind of resource that the binding
                                  provides.
                                enum:
                                  - secret_text
                                type: string
                                x-auditable: true
                            required:
                              - name
                              - type
                              - text
                            type: object
                          - properties:
                              environment:
                                description: >-
                                  Optional environment if the Worker utilizes
                                  one.
                                example: production
                                type: string
                                x-auditable: true
                              name:
                                description: A JavaScript variable name for the binding.
                                example: myBinding
                                type: string
                                x-auditable: true
                              service:
                                description: Name of Worker to bind to.
                                example: my-worker
                                type: string
                                x-auditable: true
                              type:
                                description: >-
                                  The kind of resource that the binding
                                  provides.
                                enum:
                                  - service
                                type: string
                                x-auditable: true
                            required:
                              - name
                              - type
                              - service
                              - environment
                            type: object
                          - properties:
                              name:
                                description: A JavaScript variable name for the binding.
                                example: myBinding
                                type: string
                                x-auditable: true
                              service:
                                description: Name of Tail Worker to bind to.
                                example: my-worker
                                type: string
                                x-auditable: true
                              type:
                                description: >-
                                  The kind of resource that the binding
                                  provides.
                                enum:
                                  - tail_consumer
                                type: string
                                x-auditable: true
                            required:
                              - name
                              - type
                              - service
                            type: object
                          - properties:
                              index_name:
                                description: Name of the Vectorize index to bind to.
                                example: my-index-name
                                type: string
                                x-auditable: true
                              name:
                                description: A JavaScript variable name for the binding.
                                example: myBinding
                                type: string
                                x-auditable: true
                              type:
                                description: >-
                                  The kind of resource that the binding
                                  provides.
                                enum:
                                  - vectorize
                                type: string
                                x-auditable: true
                            required:
                              - name
                              - type
                              - index_name
                            type: object
                          - properties:
                              name:
                                description: A JavaScript variable name for the binding.
                                example: myBinding
                                type: string
                                x-auditable: true
                              type:
                                description: >-
                                  The kind of resource that the binding
                                  provides.
                                enum:
                                  - version_metadata
                                type: string
                                x-auditable: true
                            required:
                              - name
                              - type
                            type: object
                          - properties:
                              name:
                                description: A JavaScript variable name for the binding.
                                example: myBinding
                                type: string
                                x-auditable: true
                              secret_name:
                                description: Name of the secret in the store.
                                example: my_secret
                                type: string
                                x-auditable: true
                              store_id:
                                description: ID of the store containing the secret.
                                example: 8c8b1387108e49be85669169793e7bd2
                                type: string
                                x-auditable: true
                              type:
                                description: >-
                                  The kind of resource that the binding
                                  provides.
                                enum:
                                  - secrets_store_secret
                                type: string
                                x-auditable: true
                            required:
                              - name
                              - type
                              - store_id
                              - secret_name
                            type: object
                          - properties:
                              algorithm:
                                description: >-
                                  Algorithm-specific key parameters. [Learn
                                  more](https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/importKey#algorithm).
                                type: object
                                x-auditable: true
                              format:
                                description: >-
                                  Data format of the key. [Learn
                                  more](https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/importKey#format).
                                enum:
                                  - raw
                                  - pkcs8
                                  - spki
                                  - jwk
                                example: raw
                                type: string
                                x-auditable: true
                              key_base64:
                                description: >-
                                  Base64-encoded key data. Required if `format`
                                  is "raw", "pkcs8", or "spki".
                                type: string
                                writeOnly: true
                                x-sensitive: true
                              key_jwk:
                                description: >-
                                  Key data in [JSON Web
                                  Key](https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/importKey#json_web_key)
                                  format. Required if `format` is "jwk".
                                type: object
                                writeOnly: true
                                x-sensitive: true
                              name:
                                description: A JavaScript variable name for the binding.
                                example: myBinding
                                type: string
                                x-auditable: true
                              type:
                                description: >-
                                  The kind of resource that the binding
                                  provides.
                                enum:
                                  - secret_key
                                type: string
                                x-auditable: true
                              usages:
                                description: >-
                                  Allowed operations with the key. [Learn
                                  more](https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/importKey#keyUsages).
                                example:
                                  - encrypt
                                  - decrypt
                                items:
                                  enum:
                                    - encrypt
                                    - decrypt
                                    - sign
                                    - verify
                                    - deriveKey
                                    - deriveBits
                                    - wrapKey
                                    - unwrapKey
                                  type: string
                                type: array
                                x-auditable: true
                                x-stainless-collection-type: set
                            required:
                              - name
                              - type
                              - format
                              - algorithm
                              - usages
                            type: object
                          - properties:
                              class_name:
                                description: >-
                                  Class name of the Workflow. Should only be
                                  provided if the Workflow belongs to this
                                  script.
                                example: my-workflow
                                type: string
                              name:
                                description: A JavaScript variable name for the binding.
                                example: myBinding
                                type: string
                                x-auditable: true
                              script_name:
                                description: >-
                                  Script name that contains the Workflow. If not
                                  provided, defaults to this script name.
                                example: my-workflow
                                type: string
                                x-auditable: true
                              type:
                                description: >-
                                  The kind of resource that the binding
                                  provides.
                                enum:
                                  - workflow
                                type: string
                              workflow_name:
                                description: Name of the Workflow to bind to.
                                example: my-workflow
                                type: string
                            required:
                              - name
                              - type
                              - workflow_name
                            type: object
                        type: object
                      type: array
                      x-stainless-collection-type: set
                    body_part:
                      description: >-
                        Name of the part in the multipart request that contains
                        the script (e.g. the file adding a listener to the
                        `fetch` event). Indicates a `service worker syntax`
                        Worker.
                      example: worker.js
                      type: string
                    compatibility_date:
                      description: >-
                        Date indicating targeted support in the Workers runtime.
                        Backwards incompatible fixes to the runtime following
                        this date will not affect this Worker.
                      example: '2021-01-01'
                      type: string
                      x-auditable: true
                    compatibility_flags:
                      default: []
                      description: >-
                        Flags that enable or disable certain features in the
                        Workers runtime. Used to enable upcoming features or opt
                        in or out of specific changes not included in a
                        `compatibility_date`.
                      example:
                        - nodejs_compat
                      items:
                        description: >-
                          Flag that enables or disables a specific feature in
                          the Workers runtime.
                        example: nodejs_compat
                        type: string
                        x-auditable: true
                      type: array
                      x-stainless-collection-type: set
                    keep_assets:
                      description: >-
                        Retain assets which exist for a previously uploaded
                        Worker version; used in lieu of providing a completion
                        token.
                      example: false
                      type: boolean
                    keep_bindings:
                      description: List of binding types to keep from previous_upload.
                      items:
                        type: string
                      type: array
                      x-stainless-collection-type: set
                    logpush:
                      default: false
                      description: Whether Logpush is turned on for the Worker.
                      example: false
                      type: boolean
                      x-auditable: true
                    main_module:
                      description: >-
                        Name of the part in the multipart request that contains
                        the main module (e.g. the file exporting a `fetch`
                        handler). Indicates a `module syntax` Worker.
                      example: worker.js
                      type: string
                    migrations:
                      description: >-
                        Migrations to apply for Durable Objects associated with
                        this Worker.
                      oneOf:
                        - allOf:
                            - properties:
                                new_tag:
                                  description: Tag to set as the latest migration tag.
                                  example: v2
                                  type: string
                                  writeOnly: true
                                  x-auditable: true
                                old_tag:
                                  description: >-
                                    Tag used to verify against the latest
                                    migration tag for this Worker. If they don't
                                    match, the upload is rejected.
                                  example: v1
                                  type: string
                                  writeOnly: true
                                  x-auditable: true
                              type: object
                            - properties:
                                deleted_classes:
                                  description: >-
                                    A list of classes to delete Durable Object
                                    namespaces from.
                                  items:
                                    type: string
                                    x-auditable: true
                                  type: array
                                  writeOnly: true
                                new_classes:
                                  description: >-
                                    A list of classes to create Durable Object
                                    namespaces from.
                                  items:
                                    type: string
                                    x-auditable: true
                                  type: array
                                  writeOnly: true
                                new_sqlite_classes:
                                  description: >-
                                    A list of classes to create Durable Object
                                    namespaces with SQLite from.
                                  items:
                                    type: string
                                    x-auditable: true
                                  type: array
                                  writeOnly: true
                                renamed_classes:
                                  description: >-
                                    A list of classes with Durable Object
                                    namespaces that were renamed.
                                  items:
                                    properties:
                                      from:
                                        type: string
                                        writeOnly: true
                                        x-auditable: true
                                      to:
                                        type: string
                                        writeOnly: true
                                        x-auditable: true
                                    type: object
                                  type: array
                                  writeOnly: true
                                transferred_classes:
                                  description: >-
                                    A list of transfers for Durable Object
                                    namespaces from a different Worker and class
                                    to a class defined in this Worker.
                                  items:
                                    properties:
                                      from:
                                        type: string
                                        writeOnly: true
                                        x-auditable: true
                                      from_script:
                                        type: string
                                        writeOnly: true
                                        x-auditable: true
                                      to:
                                        type: string
                                        writeOnly: true
                                        x-auditable: true
                                    type: object
                                  type: array
                                  writeOnly: true
                              type: object
                          description: A single set of migrations to apply.
                        - allOf:
                            - properties:
                                new_tag:
                                  description: Tag to set as the latest migration tag.
                                  example: v2
                                  type: string
                                  writeOnly: true
                                  x-auditable: true
                                old_tag:
                                  description: >-
                                    Tag used to verify against the latest
                                    migration tag for this Worker. If they don't
                                    match, the upload is rejected.
                                  example: v1
                                  type: string
                                  writeOnly: true
                                  x-auditable: true
                              type: object
                            - properties:
                                steps:
                                  description: Migrations to apply in order.
                                  items:
                                    properties:
                                      deleted_classes:
                                        description: >-
                                          A list of classes to delete Durable
                                          Object namespaces from.
                                        items:
                                          type: string
                                          x-auditable: true
                                        type: array
                                        writeOnly: true
                                      new_classes:
                                        description: >-
                                          A list of classes to create Durable
                                          Object namespaces from.
                                        items:
                                          type: string
                                          x-auditable: true
                                        type: array
                                        writeOnly: true
                                      new_sqlite_classes:
                                        description: >-
                                          A list of classes to create Durable
                                          Object namespaces with SQLite from.
                                        items:
                                          type: string
                                          x-auditable: true
                                        type: array
                                        writeOnly: true
                                      renamed_classes:
                                        description: >-
                                          A list of classes with Durable Object
                                          namespaces that were renamed.
                                        items:
                                          properties:
                                            from:
                                              type: string
                                              writeOnly: true
                                              x-auditable: true
                                            to:
                                              type: string
                                              writeOnly: true
                                              x-auditable: true
                                          type: object
                                        type: array
                                        writeOnly: true
                                      transferred_classes:
                                        description: >-
                                          A list of transfers for Durable Object
                                          namespaces from a different Worker and
                                          class to a class defined in this Worker.
                                        items:
                                          properties:
                                            from:
                                              type: string
                                              writeOnly: true
                                              x-auditable: true
                                            from_script:
                                              type: string
                                              writeOnly: true
                                              x-auditable: true
                                            to:
                                              type: string
                                              writeOnly: true
                                              x-auditable: true
                                          type: object
                                        type: array
                                        writeOnly: true
                                    type: object
                                  type: array
                                  writeOnly: true
                              type: object
                      writeOnly: true
                    observability:
                      description: Observability settings for the Worker.
                      properties:
                        enabled:
                          description: Whether observability is enabled for the Worker.
                          example: true
                          type: boolean
                          x-auditable: true
                        head_sampling_rate:
                          description: >-
                            The sampling rate for incoming requests. From 0 to 1
                            (1 = 100%, 0.1 = 10%). Default is 1.
                          example: 0.1
                          nullable: true
                          type: number
                          x-auditable: true
                        logs:
                          description: Log settings for the Worker.
                          nullable: true
                          properties:
                            enabled:
                              description: Whether logs are enabled for the Worker.
                              example: true
                              type: boolean
                              x-auditable: true
                            head_sampling_rate:
                              description: >-
                                The sampling rate for logs. From 0 to 1 (1 =
                                100%, 0.1 = 10%). Default is 1.
                              example: 0.1
                              nullable: true
                              type: number
                              x-auditable: true
                            invocation_logs:
                              description: >-
                                Whether [invocation
                                logs](https://developers.cloudflare.com/workers/observability/logs/workers-logs/#invocation-logs)
                                are enabled for the Worker.
                              example: true
                              type: boolean
                              x-auditable: true
                          required:
                            - enabled
                            - invocation_logs
                          type: object
                      required:
                        - enabled
                      type: object
                    placement:
                      description: >-
                        Configuration for [Smart
                        Placement](https://developers.cloudflare.com/workers/configuration/smart-placement).
                      properties:
                        last_analyzed_at:
                          description: >-
                            The last time the script was analyzed for [Smart
                            Placement](https://developers.cloudflare.com/workers/configuration/smart-placement).
                          example: '2025-01-01T00:00:00Z'
                          format: date-time
                          readOnly: true
                          type: string
                        mode:
                          description: >-
                            Enables [Smart
                            Placement](https://developers.cloudflare.com/workers/configuration/smart-placement).
                          enum:
                            - smart
                          type: string
                          x-auditable: true
                        status:
                          description: >-
                            Status of [Smart
                            Placement](https://developers.cloudflare.com/workers/configuration/smart-placement).
                          enum:
                            - SUCCESS
                            - UNSUPPORTED_APPLICATION
                            - INSUFFICIENT_INVOCATIONS
                          readOnly: true
                          type: string
                          x-auditable: true
                      type: object
                    tags:
                      description: List of strings to use as tags for this Worker.
                      items:
                        type: string
                      type: array
                      x-stainless-collection-type: set
                    tail_consumers:
                      description: >-
                        List of Workers that will consume logs from the attached
                        Worker.
                      items:
                        description: >-
                          A reference to a script that will consume logs from
                          the attached Worker.
                        properties:
                          environment:
                            description: Optional environment if the Worker utilizes one.
                            example: production
                            type: string
                            x-auditable: true
                          namespace:
                            description: Optional dispatch namespace the script belongs to.
                            example: my-namespace
                            type: string
                            x-auditable: true
                          service:
                            description: Name of Worker that is to be the consumer.
                            example: my-log-consumer
                            type: string
                            x-auditable: true
                        required:
                          - service
                        type: object
                      type: array
                      x-stainless-collection-type: set
                    usage_model:
                      default: standard
                      description: Usage model for the Worker invocations.
                      enum:
                        - standard
                      example: standard
                      type: string
                      x-auditable: true
                  type: object
              required:
                - metadata
              type: object
          text/javascript:
            schema:
              description: >-
                Raw javascript content comprising a Worker. Must be in service
                worker syntax.
              example: >-
                addEventListener('fetch', (event) => event.respondWith(new
                Response('OK')))
              type: string
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                allOf:
                  - allOf:
                      - properties:
                          errors:
                            example: []
                            items:
                              properties:
                                code:
                                  minimum: 1000
                                  type: integer
                                documentation_url:
                                  type: string
                                message:
                                  type: string
                                source:
                                  properties:
                                    pointer:
                                      type: string
                                  type: object
                              required:
                                - code
                                - message
                              type: object
                              uniqueItems: true
                            type: array
                          messages:
                            example: []
                            items:
                              properties:
                                code:
                                  minimum: 1000
                                  type: integer
                                documentation_url:
                                  type: string
                                message:
                                  type: string
                                source:
                                  properties:
                                    pointer:
                                      type: string
                                  type: object
                              required:
                                - code
                                - message
                              type: object
                              uniqueItems: true
                            type: array
                          success:
                            description: Whether the API call was successful.
                            enum:
                              - true
                            example: true
                            type: boolean
                        required:
                          - success
                          - errors
                          - messages
                        type: object
                      - properties:
                          result:
                            allOf:
                              - properties:
                                  created_on:
                                    description: When the script was created.
                                    example: '2017-01-01T00:00:00Z'
                                    format: date-time
                                    readOnly: true
                                    type: string
                                    x-auditable: true
                                  etag:
                                    description: >-
                                      Hashed script content, can be used in a
                                      If-None-Match header when updating.
                                    example: ea95132c15732412d22c1476fa83f27a
                                    readOnly: true
                                    type: string
                                  has_assets:
                                    description: Whether a Worker contains assets.
                                    example: false
                                    type: boolean
                                    x-auditable: true
                                  has_modules:
                                    description: Whether a Worker contains modules.
                                    example: false
                                    type: boolean
                                    x-auditable: true
                                  id:
                                    description: >-
                                      The id of the script in the Workers
                                      system. Usually the script name.
                                    example: my-workers-script
                                    readOnly: true
                                    type: string
                                    x-auditable: true
                                  logpush:
                                    default: false
                                    description: >-
                                      Whether Logpush is turned on for the
                                      Worker.
                                    example: false
                                    type: boolean
                                    x-auditable: true
                                  modified_on:
                                    description: When the script was last modified.
                                    example: '2017-01-01T00:00:00Z'
                                    format: date-time
                                    readOnly: true
                                    type: string
                                    x-auditable: true
                                  placement:
                                    description: >-
                                      Configuration for [Smart
                                      Placement](https://developers.cloudflare.com/workers/configuration/smart-placement).
                                    properties:
                                      last_analyzed_at:
                                        description: >-
                                          The last time the script was analyzed
                                          for [Smart
                                          Placement](https://developers.cloudflare.com/workers/configuration/smart-placement).
                                        example: '2025-01-01T00:00:00Z'
                                        format: date-time
                                        readOnly: true
                                        type: string
                                      mode:
                                        description: >-
                                          Enables [Smart
                                          Placement](https://developers.cloudflare.com/workers/configuration/smart-placement).
                                        enum:
                                          - smart
                                        type: string
                                        x-auditable: true
                                      status:
                                        description: >-
                                          Status of [Smart
                                          Placement](https://developers.cloudflare.com/workers/configuration/smart-placement).
                                        enum:
                                          - SUCCESS
                                          - UNSUPPORTED_APPLICATION
                                          - INSUFFICIENT_INVOCATIONS
                                        readOnly: true
                                        type: string
                                        x-auditable: true
                                    type: object
                                  placement_mode:
                                    allOf:
                                      - description: >-
                                          Enables [Smart
                                          Placement](https://developers.cloudflare.com/workers/configuration/smart-placement).
                                        enum:
                                          - smart
                                        type: string
                                        x-auditable: true
                                      - deprecated: true
                                        type: string
                                  placement_status:
                                    allOf:
                                      - description: >-
                                          Status of [Smart
                                          Placement](https://developers.cloudflare.com/workers/configuration/smart-placement).
                                        enum:
                                          - SUCCESS
                                          - UNSUPPORTED_APPLICATION
                                          - INSUFFICIENT_INVOCATIONS
                                        readOnly: true
                                        type: string
                                        x-auditable: true
                                      - deprecated: true
                                        type: string
                                  tail_consumers:
                                    description: >-
                                      List of Workers that will consume logs
                                      from the attached Worker.
                                    items:
                                      description: >-
                                        A reference to a script that will
                                        consume logs from the attached Worker.
                                      properties:
                                        environment:
                                          description: >-
                                            Optional environment if the Worker
                                            utilizes one.
                                          example: production
                                          type: string
                                          x-auditable: true
                                        namespace:
                                          description: >-
                                            Optional dispatch namespace the script
                                            belongs to.
                                          example: my-namespace
                                          type: string
                                          x-auditable: true
                                        service:
                                          description: >-
                                            Name of Worker that is to be the
                                            consumer.
                                          example: my-log-consumer
                                          type: string
                                          x-auditable: true
                                      required:
                                        - service
                                      type: object
                                    type: array
                                    x-stainless-collection-type: set
                                  usage_model:
                                    default: standard
                                    description: Usage model for the Worker invocations.
                                    enum:
                                      - standard
                                    example: standard
                                    type: string
                                    x-auditable: true
                              - properties:
                                  startup_time_ms:
                                    example: 10
                                    type: integer
                                    x-auditable: true
                                required:
                                  - startup_time_ms
                                type: object
                        required:
                          - result
                        type: object
                        x-cfLinkErrors:
                          '10001': Unsupported or unexpected Content Type
                          '10002': Unexpected internal server error
                          '10003': Missing required URL parameter
                          '10004': Malformed URL parameter
                          '10006': Unparseable script body
                          '10007': Resource not found (similar to HTTP 404)
                          '10014': Internal error while attempting authorization checks
                          '10015': The current account is not authorized to use workers
                          '10018': >-
                            Attempted to update a script where the e-tag does
                            not match
                          '10021': >-
                            Script content failed validation checks, but was
                            otherwise parseable
                          '10023': Unauthorized access attempt
                          '10027': Script body was too large
                          '10075': Requires a Workers Paid plan
                  - example:
                      errors: []
                      messages: []
                      result:
                        created_on: '2022-05-05T05:15:11.602148Z'
                        etag: >-
                          777f24a43bef5f69174aa69ceaf1dea67968d510a31d1vw3e49d34a0187c06d1
                        handlers:
                          - fetch
                        id: this-is_my_script-01
                        logpush: false
                        modified_on: '2022-05-20T19:02:56.446492Z'
                        placement_mode: smart
                        startup_time_ms: 10
                        tail_consumers:
                          - environment: production
                            service: my-log-consumer
                        usage_model: standard
                      success: true
                    type: object
          description: Upload Worker Module response.
        4XX:
          content:
            application/json:
              schema:
                properties:
                  errors:
                    allOf:
                      - example: []
                        items:
                          properties:
                            code:
                              minimum: 1000
                              type: integer
                            documentation_url:
                              type: string
                            message:
                              type: string
                            source:
                              properties:
                                pointer:
                                  type: string
                              type: object
                          required:
                            - code
                            - message
                          type: object
                          uniqueItems: true
                        type: array
                    example:
                      - code: 7003
                        message: No route for the URI
                    minLength: 1
                  messages:
                    allOf:
                      - example: []
                        items:
                          properties:
                            code:
                              minimum: 1000
                              type: integer
                            documentation_url:
                              type: string
                            message:
                              type: string
                            source:
                              properties:
                                pointer:
                                  type: string
                              type: object
                          required:
                            - code
                            - message
                          type: object
                          uniqueItems: true
                        type: array
                    example: []
                  result:
                    enum:
                      - null
                    nullable: true
                    type: object
                  success:
                    description: Whether the API call was successful.
                    enum:
                      - false
                    example: false
                    type: boolean
                required:
                  - success
                  - errors
                  - messages
                  - result
                type: object
          description: Upload Worker Module response failure.
      security:
        - api_token: []
        - api_email: []
          api_key: []
      summary: Upload Worker Module
      tags:
        - Worker Script
      x-api-token-group:
        - Workers Scripts Write
