openapi: 3.0.3
info:
  description: >-
    Welcome to Cloudflare's API documentation site. We are experimenting with an
    updated version of our API documentation - check out
    [developers.cloudflare.com/api-next/](https://developers.cloudflare.com/api-next/)
    to test out the new experience.


    To get started using Cloudflare's products and services via the API, refer
    to [how to interact with
    Cloudflare](https://developers.cloudflare.com/fundamentals/basic-tasks/interact-with-cloudflare/),
    which covers using tools like
    [Terraform](https://developers.cloudflare.com/terraform/#cloudflare-terraform)
    and the [official
    SDKs](https://developers.cloudflare.com/fundamentals/api/reference/sdks/) to
    maintain your Cloudflare resources.


    Using the Cloudflare API requires authentication so that Cloudflare knows
    who is making requests and what permissions you have. Create an API token to
    grant access to the API to perform actions. You can also authenticate with
    [API
    keys](https://developers.cloudflare.com/fundamentals/api/get-started/keys/),
    but these keys have [several
    limitations](https://developers.cloudflare.com/fundamentals/api/get-started/keys/#limitations)
    that make them less secure than API tokens. Whenever possible, use API
    tokens to interact with the Cloudflare API.


    To create an API token, from the Cloudflare dashboard, go to My Profile >
    API Tokens and select Create Token. For more information on how to create
    and troubleshoot API tokens, refer to

    our [API fundamentals](https://developers.cloudflare.com/fundamentals/api/).


    For information regarding rate limits, refer to our [API Rate
    Limits](https://developers.cloudflare.com/cloudflare-for-platforms/workers-for-platforms/platform/limits/#api-rate-limits).


    Totally new to Cloudflare? [Start
    here](https://developers.cloudflare.com/fundamentals/get-started/).
  license:
    name: BSD-3-Clause
    url: https://opensource.org/licenses/BSD-3-Clause
  title: Cloudflare API
  version: 4.0.0
servers:
  - description: Client API
    url: https://api.cloudflare.com/client/v4
paths:
  /accounts/{account_id}/cfd_tunnel/{tunnel_id}/configurations:
    get:
      description: Gets the configuration for a remotely-managed tunnel
      operationId: cloudflare-tunnel-configuration-get-configuration
      parameters:
        - in: path
          name: account_id
          required: true
          schema:
            description: Identifier.
            example: 023e105f4ecef8ad9ca31a8372d0c353
            maxLength: 32
            type: string
            x-auditable: true
        - in: path
          name: tunnel_id
          required: true
          schema:
            description: UUID of the tunnel.
            example: f70ff985-a4ef-4643-bbbc-4a0ed4fc8415
            format: uuid
            maxLength: 36
            readOnly: true
            type: string
      responses:
        '200':
          content:
            application/json:
              schema:
                allOf:
                  - allOf:
                      - properties:
                          errors:
                            example: []
                            items:
                              properties:
                                code:
                                  minimum: 1000
                                  type: integer
                                documentation_url:
                                  type: string
                                message:
                                  type: string
                                source:
                                  properties:
                                    pointer:
                                      type: string
                                  type: object
                              required:
                                - code
                                - message
                              type: object
                              uniqueItems: true
                            type: array
                          messages:
                            example: []
                            items:
                              properties:
                                code:
                                  minimum: 1000
                                  type: integer
                                documentation_url:
                                  type: string
                                message:
                                  type: string
                                source:
                                  properties:
                                    pointer:
                                      type: string
                                  type: object
                              required:
                                - code
                                - message
                              type: object
                              uniqueItems: true
                            type: array
                          success:
                            description: Whether the API call was successful.
                            enum:
                              - true
                            example: true
                            type: boolean
                        required:
                          - success
                          - errors
                          - messages
                        type: object
                    type: object
                  - properties:
                      result:
                        description: Cloudflare Tunnel configuration
                        properties:
                          account_id:
                            description: Identifier.
                            example: 023e105f4ecef8ad9ca31a8372d0c353
                            maxLength: 32
                            type: string
                            x-auditable: true
                          config:
                            description: The tunnel configuration and ingress rules.
                            properties:
                              ingress:
                                description: >-
                                  List of public hostname definitions. At least
                                  one ingress rule needs to be defined for the
                                  tunnel.
                                items:
                                  description: Public hostname
                                  properties:
                                    hostname:
                                      description: Public hostname for this service.
                                      example: tunnel.example.com
                                      type: string
                                    originRequest:
                                      description: >-
                                        Configuration parameters for the public
                                        hostname specific connection settings
                                        between cloudflared and origin server.
                                      properties:
                                        access:
                                          description: >-
                                            For all L7 requests to this hostname,
                                            cloudflared will validate each request's
                                            Cf-Access-Jwt-Assertion request header.
                                          properties:
                                            audTag:
                                              description: >-
                                                Access applications that are allowed to
                                                reach this hostname for this Tunnel.
                                                Audience tags can be identified in the
                                                dashboard or via the List Access
                                                policies API.
                                              items:
                                                type: string
                                              type: array
                                            required:
                                              description: >-
                                                Deny traffic that has not fulfilled
                                                Access authorization.
                                              example: false
                                              type: boolean
                                            teamName:
                                              example: zero-trust-organization-name
                                              type: string
                                          required:
                                            - audTag
                                            - teamName
                                          type: object
                                        caPool:
                                          description: >-
                                            Path to the certificate authority (CA)
                                            for the certificate of your origin. This
                                            option should be used only if your
                                            certificate is not signed by Cloudflare.
                                          type: string
                                        connectTimeout:
                                          description: >-
                                            Timeout for establishing a new TCP
                                            connection to your origin server. This
                                            excludes the time taken to establish
                                            TLS, which is controlled by tlsTimeout.
                                          example: 10
                                          type: integer
                                        disableChunkedEncoding:
                                          description: >-
                                            Disables chunked transfer encoding.
                                            Useful if you are running a WSGI server.
                                          type: boolean
                                        http2Origin:
                                          description: >-
                                            Attempt to connect to origin using
                                            HTTP2. Origin must be configured as
                                            https.
                                          type: boolean
                                        httpHostHeader:
                                          description: >-
                                            Sets the HTTP Host header on requests
                                            sent to the local service.
                                          type: string
                                        keepAliveConnections:
                                          description: >-
                                            Maximum number of idle keepalive
                                            connections between Tunnel and your
                                            origin. This does not restrict the total
                                            number of concurrent connections.
                                          example: 100
                                          type: integer
                                        keepAliveTimeout:
                                          description: >-
                                            Timeout after which an idle keepalive
                                            connection can be discarded.
                                          example: 90
                                          type: integer
                                        noHappyEyeballs:
                                          description: >-
                                            Disable the “happy eyeballs” algorithm
                                            for IPv4/IPv6 fallback if your local
                                            network has misconfigured one of the
                                            protocols.
                                          example: false
                                          type: boolean
                                        noTLSVerify:
                                          description: >-
                                            Disables TLS verification of the
                                            certificate presented by your origin.
                                            Will allow any certificate from the
                                            origin to be accepted.
                                          example: false
                                          type: boolean
                                        originServerName:
                                          description: >-
                                            Hostname that cloudflared should expect
                                            from your origin server certificate.
                                          type: string
                                        proxyType:
                                          description: >
                                            cloudflared starts a proxy server to
                                            translate HTTP traffic into TCP when
                                            proxying, for example, SSH or RDP. This
                                            configures what type of proxy will be
                                            started. Valid options are: "" for the
                                            regular proxy and "socks" for a SOCKS5
                                            proxy.
                                          type: string
                                        tcpKeepAlive:
                                          description: >-
                                            The timeout after which a TCP keepalive
                                            packet is sent on a connection between
                                            Tunnel and the origin server.
                                          example: 30
                                          type: integer
                                        tlsTimeout:
                                          description: >-
                                            Timeout for completing a TLS handshake
                                            to your origin server, if you have
                                            chosen to connect Tunnel to an HTTPS
                                            server.
                                          example: 10
                                          type: integer
                                      type: object
                                    path:
                                      description: >-
                                        Requests with this path route to this
                                        public hostname.
                                      example: subpath
                                      type: string
                                    service:
                                      description: >
                                        Protocol and address of destination
                                        server. Supported protocols: http://,
                                        https://, unix://, tcp://, ssh://,
                                        rdp://, unix+tls://, smb://.
                                        Alternatively can return a HTTP status
                                        code http_status:[code] e.g.
                                        'http_status:404'.
                                      example: https://localhost:8001
                                      type: string
                                  required:
                                    - hostname
                                    - service
                                  type: object
                                minItems: 1
                                type: array
                              originRequest:
                                description: >-
                                  Configuration parameters for the public
                                  hostname specific connection settings between
                                  cloudflared and origin server.
                                properties:
                                  access:
                                    description: >-
                                      For all L7 requests to this hostname,
                                      cloudflared will validate each request's
                                      Cf-Access-Jwt-Assertion request header.
                                    properties:
                                      audTag:
                                        description: >-
                                          Access applications that are allowed to
                                          reach this hostname for this Tunnel.
                                          Audience tags can be identified in the
                                          dashboard or via the List Access
                                          policies API.
                                        items:
                                          type: string
                                        type: array
                                      required:
                                        description: >-
                                          Deny traffic that has not fulfilled
                                          Access authorization.
                                        example: false
                                        type: boolean
                                      teamName:
                                        example: zero-trust-organization-name
                                        type: string
                                    required:
                                      - audTag
                                      - teamName
                                    type: object
                                  caPool:
                                    description: >-
                                      Path to the certificate authority (CA) for
                                      the certificate of your origin. This
                                      option should be used only if your
                                      certificate is not signed by Cloudflare.
                                    type: string
                                  connectTimeout:
                                    description: >-
                                      Timeout for establishing a new TCP
                                      connection to your origin server. This
                                      excludes the time taken to establish TLS,
                                      which is controlled by tlsTimeout.
                                    example: 10
                                    type: integer
                                  disableChunkedEncoding:
                                    description: >-
                                      Disables chunked transfer encoding. Useful
                                      if you are running a WSGI server.
                                    type: boolean
                                  http2Origin:
                                    description: >-
                                      Attempt to connect to origin using HTTP2.
                                      Origin must be configured as https.
                                    type: boolean
                                  httpHostHeader:
                                    description: >-
                                      Sets the HTTP Host header on requests sent
                                      to the local service.
                                    type: string
                                  keepAliveConnections:
                                    description: >-
                                      Maximum number of idle keepalive
                                      connections between Tunnel and your
                                      origin. This does not restrict the total
                                      number of concurrent connections.
                                    example: 100
                                    type: integer
                                  keepAliveTimeout:
                                    description: >-
                                      Timeout after which an idle keepalive
                                      connection can be discarded.
                                    example: 90
                                    type: integer
                                  noHappyEyeballs:
                                    description: >-
                                      Disable the “happy eyeballs” algorithm for
                                      IPv4/IPv6 fallback if your local network
                                      has misconfigured one of the protocols.
                                    example: false
                                    type: boolean
                                  noTLSVerify:
                                    description: >-
                                      Disables TLS verification of the
                                      certificate presented by your origin. Will
                                      allow any certificate from the origin to
                                      be accepted.
                                    example: false
                                    type: boolean
                                  originServerName:
                                    description: >-
                                      Hostname that cloudflared should expect
                                      from your origin server certificate.
                                    type: string
                                  proxyType:
                                    description: >
                                      cloudflared starts a proxy server to
                                      translate HTTP traffic into TCP when
                                      proxying, for example, SSH or RDP. This
                                      configures what type of proxy will be
                                      started. Valid options are: "" for the
                                      regular proxy and "socks" for a SOCKS5
                                      proxy.
                                    type: string
                                  tcpKeepAlive:
                                    description: >-
                                      The timeout after which a TCP keepalive
                                      packet is sent on a connection between
                                      Tunnel and the origin server.
                                    example: 30
                                    type: integer
                                  tlsTimeout:
                                    description: >-
                                      Timeout for completing a TLS handshake to
                                      your origin server, if you have chosen to
                                      connect Tunnel to an HTTPS server.
                                    example: 10
                                    type: integer
                                type: object
                              warp-routing:
                                description: >-
                                  Enable private network access from WARP users
                                  to private network routes. This is enabled if
                                  the tunnel has an assigned route.
                                properties:
                                  enabled:
                                    type: boolean
                                readOnly: true
                                type: object
                            type: object
                          created_at:
                            example: '2014-01-01T05:20:00.12345Z'
                            format: date-time
                            type: string
                            x-auditable: true
                          source:
                            description: >-
                              Indicates if this is a locally or remotely
                              configured tunnel. If `local`, manage the tunnel
                              using a YAML file on the origin machine. If
                              `cloudflare`, manage the tunnel's configuration on
                              the Zero Trust dashboard.
                            enum:
                              - local
                              - cloudflare
                            example: cloudflare
                            type: string
                            x-stainless-terraform-configurability: computed_optional
                          tunnel_id:
                            description: UUID of the tunnel.
                            example: f70ff985-a4ef-4643-bbbc-4a0ed4fc8415
                            format: uuid
                            maxLength: 36
                            readOnly: true
                            type: string
                          version:
                            description: The version of the Tunnel Configuration.
                            type: integer
                        type: object
          description: Get configuration response
        4XX:
          content:
            application/json:
              schema:
                properties:
                  errors:
                    allOf:
                      - example: []
                        items:
                          properties:
                            code:
                              minimum: 1000
                              type: integer
                            documentation_url:
                              type: string
                            message:
                              type: string
                            source:
                              properties:
                                pointer:
                                  type: string
                              type: object
                          required:
                            - code
                            - message
                          type: object
                          uniqueItems: true
                        type: array
                    example:
                      - code: 7003
                        message: No route for the URI
                    minLength: 1
                  messages:
                    allOf:
                      - example: []
                        items:
                          properties:
                            code:
                              minimum: 1000
                              type: integer
                            documentation_url:
                              type: string
                            message:
                              type: string
                            source:
                              properties:
                                pointer:
                                  type: string
                              type: object
                          required:
                            - code
                            - message
                          type: object
                          uniqueItems: true
                        type: array
                    example: []
                  result:
                    enum:
                      - null
                    nullable: true
                    type: object
                  success:
                    description: Whether the API call was successful.
                    enum:
                      - false
                    example: false
                    type: boolean
                required:
                  - success
                  - errors
                  - messages
                  - result
                type: object
          description: Get configuration response failure
      security:
        - api_email: []
          api_key: []
        - api_token: []
        - user_service_key: []
      summary: Get configuration
      tags:
        - Cloudflare Tunnel Configuration
      x-api-token-group:
        - Cloudflare One Connectors Write
        - Cloudflare One Connectors Read
        - 'Cloudflare One Connector: cloudflared Write'
        - 'Cloudflare One Connector: cloudflared Read'
        - Cloudflare Tunnel Write
        - Cloudflare Tunnel Read
