openapi: 3.0.3
info:
  description: >-
    Welcome to Cloudflare's API documentation site. We are experimenting with an
    updated version of our API documentation - check out
    [developers.cloudflare.com/api-next/](https://developers.cloudflare.com/api-next/)
    to test out the new experience.


    To get started using Cloudflare's products and services via the API, refer
    to [how to interact with
    Cloudflare](https://developers.cloudflare.com/fundamentals/basic-tasks/interact-with-cloudflare/),
    which covers using tools like
    [Terraform](https://developers.cloudflare.com/terraform/#cloudflare-terraform)
    and the [official
    SDKs](https://developers.cloudflare.com/fundamentals/api/reference/sdks/) to
    maintain your Cloudflare resources.


    Using the Cloudflare API requires authentication so that Cloudflare knows
    who is making requests and what permissions you have. Create an API token to
    grant access to the API to perform actions. You can also authenticate with
    [API
    keys](https://developers.cloudflare.com/fundamentals/api/get-started/keys/),
    but these keys have [several
    limitations](https://developers.cloudflare.com/fundamentals/api/get-started/keys/#limitations)
    that make them less secure than API tokens. Whenever possible, use API
    tokens to interact with the Cloudflare API.


    To create an API token, from the Cloudflare dashboard, go to My Profile >
    API Tokens and select Create Token. For more information on how to create
    and troubleshoot API tokens, refer to

    our [API fundamentals](https://developers.cloudflare.com/fundamentals/api/).


    For information regarding rate limits, refer to our [API Rate
    Limits](https://developers.cloudflare.com/cloudflare-for-platforms/workers-for-platforms/platform/limits/#api-rate-limits).


    Totally new to Cloudflare? [Start
    here](https://developers.cloudflare.com/fundamentals/get-started/).
  license:
    name: BSD-3-Clause
    url: https://opensource.org/licenses/BSD-3-Clause
  title: Cloudflare API
  version: 4.0.0
servers:
  - description: Client API
    url: https://api.cloudflare.com/client/v4
paths:
  /accounts/{account_id}/pages/projects/{project_name}/deployments/{deployment_id}:
    get:
      description: Fetch information about a deployment.
      operationId: pages-deployment-get-deployment-info
      parameters:
        - in: path
          name: deployment_id
          required: true
          schema:
            description: Identifier
            example: 023e105f4ecef8ad9ca31a8372d0c353
            maxLength: 32
            readOnly: true
            type: string
            x-auditable: true
        - in: path
          name: project_name
          required: true
          schema:
            description: Name of the project.
            example: this-is-my-project-01
            pattern: ^[a-z0-9][a-z0-9-]*$
            type: string
            x-auditable: true
        - in: path
          name: account_id
          required: true
          schema:
            description: Identifier
            example: 023e105f4ecef8ad9ca31a8372d0c353
            maxLength: 32
            readOnly: true
            type: string
            x-auditable: true
      responses:
        '200':
          content:
            application/json:
              schema:
                allOf:
                  - properties:
                      errors:
                        example: []
                        items:
                          properties:
                            code:
                              minimum: 1000
                              type: integer
                            message:
                              type: string
                          required:
                            - code
                            - message
                          type: object
                          uniqueItems: true
                        type: array
                      messages:
                        example: []
                        items:
                          properties:
                            code:
                              minimum: 1000
                              type: integer
                            message:
                              type: string
                          required:
                            - code
                            - message
                          type: object
                          uniqueItems: true
                        type: array
                      success:
                        description: Whether the API call was successful
                        enum:
                          - false
                          - true
                        example: true
                        type: boolean
                    required:
                      - success
                      - errors
                      - messages
                      - result
                    type: object
                  - properties:
                      result:
                        properties:
                          aliases:
                            description: A list of alias URLs pointing to this deployment.
                            example:
                              - https://branchname.projectname.pages.dev
                            items:
                              type: string
                              x-auditable: true
                            nullable: true
                            readOnly: true
                            type: array
                          build_config:
                            description: Configs for the project build process.
                            properties:
                              build_caching:
                                description: Enable build caching for the project.
                                example: true
                                nullable: true
                                type: boolean
                                x-auditable: true
                              build_command:
                                description: Command used to build project.
                                example: npm run build
                                nullable: true
                                type: string
                                x-auditable: true
                              destination_dir:
                                description: Output directory of the build.
                                example: build
                                nullable: true
                                type: string
                                x-auditable: true
                              root_dir:
                                description: Directory to run the command.
                                example: /
                                nullable: true
                                type: string
                                x-auditable: true
                              web_analytics_tag:
                                description: The classifying tag for analytics.
                                example: cee1c73f6e4743d0b5e6bb1a0bcaabcc
                                nullable: true
                                type: string
                                x-auditable: true
                              web_analytics_token:
                                description: The auth token for analytics.
                                example: 021e1057c18547eca7b79f2516f06o7x
                                nullable: true
                                type: string
                                x-sensitive: true
                            type: object
                          created_on:
                            description: When the deployment was created.
                            example: '2021-03-09T00:55:03.923456Z'
                            format: date-time
                            readOnly: true
                            type: string
                            x-auditable: true
                          deployment_trigger:
                            description: Info about what caused the deployment.
                            properties:
                              metadata:
                                description: Additional info about the trigger.
                                properties:
                                  branch:
                                    description: Where the trigger happened.
                                    example: main
                                    readOnly: true
                                    type: string
                                    x-auditable: true
                                  commit_hash:
                                    description: Hash of the deployment trigger commit.
                                    example: ad9ccd918a81025731e10e40267e11273a263421
                                    readOnly: true
                                    type: string
                                    x-auditable: true
                                  commit_message:
                                    description: Message of the deployment trigger commit.
                                    example: Update index.html
                                    readOnly: true
                                    type: string
                                    x-auditable: true
                                type: object
                              type:
                                description: What caused the deployment.
                                enum:
                                  - push
                                  - ad_hoc
                                example: ad_hoc
                                readOnly: true
                                type: string
                                x-auditable: true
                            readOnly: true
                            type: object
                          env_vars:
                            additionalProperties:
                              discriminator:
                                mapping:
                                  plain_text: >-
                                    #/components/schemas/pages_plain_text_env_var
                                  secret_text: >-
                                    #/components/schemas/pages_secret_text_env_var
                                propertyName: type
                              oneOf:
                                - description: A plaintext environment variable.
                                  example:
                                    type: plain_text
                                    value: hello world
                                  nullable: true
                                  properties:
                                    type:
                                      enum:
                                        - plain_text
                                      type: string
                                      x-auditable: true
                                    value:
                                      description: Environment variable value.
                                      type: string
                                  required:
                                    - type
                                    - value
                                  type: object
                                - description: An encrypted environment variable.
                                  example:
                                    type: secret_text
                                    value: ''
                                  nullable: true
                                  properties:
                                    type:
                                      enum:
                                        - secret_text
                                      type: string
                                      x-auditable: true
                                    value:
                                      description: Secret value.
                                      type: string
                                      x-sensitive: true
                                  required:
                                    - type
                                    - value
                                  type: object
                            description: >-
                              Environment variables used for builds and Pages
                              Functions.
                            type: object
                          environment:
                            description: Type of deploy.
                            enum:
                              - preview
                              - production
                            example: preview
                            readOnly: true
                            type: string
                            x-auditable: true
                          id:
                            description: Id of the deployment.
                            example: f64788e9-fccd-4d4a-a28a-cb84f88f6
                            readOnly: true
                            type: string
                            x-auditable: true
                          is_skipped:
                            description: If the deployment has been skipped.
                            example: true
                            readOnly: true
                            type: boolean
                            x-auditable: true
                          latest_stage:
                            description: The status of the deployment.
                            properties:
                              ended_on:
                                description: When the stage ended.
                                example: '2021-03-09T00:58:59.045655'
                                format: date-time
                                nullable: true
                                readOnly: true
                                type: string
                                x-auditable: true
                              name:
                                description: The current build stage.
                                enum:
                                  - queued
                                  - initialize
                                  - clone_repo
                                  - build
                                  - deploy
                                example: deploy
                                type: string
                                x-auditable: true
                              started_on:
                                description: When the stage started.
                                example: '2021-03-09T00:55:03.923456Z'
                                format: date-time
                                nullable: true
                                readOnly: true
                                type: string
                                x-auditable: true
                              status:
                                description: State of the current stage.
                                enum:
                                  - success
                                  - idle
                                  - active
                                  - failure
                                  - canceled
                                example: success
                                readOnly: true
                                type: string
                                x-auditable: true
                            readOnly: true
                            type: object
                          modified_on:
                            description: When the deployment was last modified.
                            example: '2021-03-09T00:58:59.045655'
                            format: date-time
                            readOnly: true
                            type: string
                            x-auditable: true
                          project_id:
                            description: Id of the project.
                            example: 7b162ea7-7367-4d67-bcde-1160995d5
                            readOnly: true
                            type: string
                            x-auditable: true
                          project_name:
                            description: Name of the project.
                            example: ninjakittens
                            readOnly: true
                            type: string
                            x-auditable: true
                          short_id:
                            description: Short Id (8 character) of the deployment.
                            example: f64788e9
                            readOnly: true
                            type: string
                            x-auditable: true
                          source:
                            properties:
                              config:
                                properties:
                                  deployments_enabled:
                                    type: boolean
                                    x-auditable: true
                                  owner:
                                    type: string
                                    x-auditable: true
                                  path_excludes:
                                    items:
                                      type: string
                                      x-auditable: true
                                    type: array
                                  path_includes:
                                    items:
                                      type: string
                                      x-auditable: true
                                    type: array
                                  pr_comments_enabled:
                                    type: boolean
                                    x-auditable: true
                                  preview_branch_excludes:
                                    items:
                                      type: string
                                      x-auditable: true
                                    type: array
                                  preview_branch_includes:
                                    items:
                                      type: string
                                      x-auditable: true
                                    type: array
                                  preview_deployment_setting:
                                    enum:
                                      - all
                                      - none
                                      - custom
                                    type: string
                                    x-auditable: true
                                  production_branch:
                                    type: string
                                    x-auditable: true
                                  production_deployments_enabled:
                                    type: boolean
                                    x-auditable: true
                                  repo_name:
                                    type: string
                                    x-auditable: true
                                type: object
                              type:
                                type: string
                                x-auditable: true
                            type: object
                          stages:
                            description: List of past stages.
                            example:
                              - ended_on: '2021-06-03T15:39:03.134378Z'
                                name: queued
                                started_on: '2021-06-03T15:38:15.608194Z'
                                status: active
                              - ended_on: null
                                name: initialize
                                started_on: null
                                status: idle
                              - ended_on: null
                                name: clone_repo
                                started_on: null
                                status: idle
                              - ended_on: null
                                name: build
                                started_on: null
                                status: idle
                              - ended_on: null
                                name: deploy
                                started_on: null
                                status: idle
                            items:
                              description: The status of the deployment.
                              properties:
                                ended_on:
                                  description: When the stage ended.
                                  example: '2021-03-09T00:58:59.045655'
                                  format: date-time
                                  nullable: true
                                  readOnly: true
                                  type: string
                                  x-auditable: true
                                name:
                                  description: The current build stage.
                                  enum:
                                    - queued
                                    - initialize
                                    - clone_repo
                                    - build
                                    - deploy
                                  example: deploy
                                  type: string
                                  x-auditable: true
                                started_on:
                                  description: When the stage started.
                                  example: '2021-03-09T00:55:03.923456Z'
                                  format: date-time
                                  nullable: true
                                  readOnly: true
                                  type: string
                                  x-auditable: true
                                status:
                                  description: State of the current stage.
                                  enum:
                                    - success
                                    - idle
                                    - active
                                    - failure
                                    - canceled
                                  example: success
                                  readOnly: true
                                  type: string
                                  x-auditable: true
                              readOnly: true
                              type: object
                            readOnly: true
                            type: array
                          url:
                            description: The live URL to view this deployment.
                            example: https://f64788e9.ninjakittens.pages.dev
                            readOnly: true
                            type: string
                            x-auditable: true
                        type: object
          description: Get deployment info response.
        4XX:
          content:
            application/json:
              schema:
                allOf:
                  - allOf:
                      - properties:
                          errors:
                            example: []
                            items:
                              properties:
                                code:
                                  minimum: 1000
                                  type: integer
                                message:
                                  type: string
                              required:
                                - code
                                - message
                              type: object
                              uniqueItems: true
                            type: array
                          messages:
                            example: []
                            items:
                              properties:
                                code:
                                  minimum: 1000
                                  type: integer
                                message:
                                  type: string
                              required:
                                - code
                                - message
                              type: object
                              uniqueItems: true
                            type: array
                          success:
                            description: Whether the API call was successful
                            enum:
                              - false
                              - true
                            example: true
                            type: boolean
                        required:
                          - success
                          - errors
                          - messages
                          - result
                        type: object
                      - properties:
                          result:
                            properties:
                              aliases:
                                description: >-
                                  A list of alias URLs pointing to this
                                  deployment.
                                example:
                                  - https://branchname.projectname.pages.dev
                                items:
                                  type: string
                                  x-auditable: true
                                nullable: true
                                readOnly: true
                                type: array
                              build_config:
                                description: Configs for the project build process.
                                properties:
                                  build_caching:
                                    description: Enable build caching for the project.
                                    example: true
                                    nullable: true
                                    type: boolean
                                    x-auditable: true
                                  build_command:
                                    description: Command used to build project.
                                    example: npm run build
                                    nullable: true
                                    type: string
                                    x-auditable: true
                                  destination_dir:
                                    description: Output directory of the build.
                                    example: build
                                    nullable: true
                                    type: string
                                    x-auditable: true
                                  root_dir:
                                    description: Directory to run the command.
                                    example: /
                                    nullable: true
                                    type: string
                                    x-auditable: true
                                  web_analytics_tag:
                                    description: The classifying tag for analytics.
                                    example: cee1c73f6e4743d0b5e6bb1a0bcaabcc
                                    nullable: true
                                    type: string
                                    x-auditable: true
                                  web_analytics_token:
                                    description: The auth token for analytics.
                                    example: 021e1057c18547eca7b79f2516f06o7x
                                    nullable: true
                                    type: string
                                    x-sensitive: true
                                type: object
                              created_on:
                                description: When the deployment was created.
                                example: '2021-03-09T00:55:03.923456Z'
                                format: date-time
                                readOnly: true
                                type: string
                                x-auditable: true
                              deployment_trigger:
                                description: Info about what caused the deployment.
                                properties:
                                  metadata:
                                    description: Additional info about the trigger.
                                    properties:
                                      branch:
                                        description: Where the trigger happened.
                                        example: main
                                        readOnly: true
                                        type: string
                                        x-auditable: true
                                      commit_hash:
                                        description: Hash of the deployment trigger commit.
                                        example: ad9ccd918a81025731e10e40267e11273a263421
                                        readOnly: true
                                        type: string
                                        x-auditable: true
                                      commit_message:
                                        description: >-
                                          Message of the deployment trigger
                                          commit.
                                        example: Update index.html
                                        readOnly: true
                                        type: string
                                        x-auditable: true
                                    type: object
                                  type:
                                    description: What caused the deployment.
                                    enum:
                                      - push
                                      - ad_hoc
                                    example: ad_hoc
                                    readOnly: true
                                    type: string
                                    x-auditable: true
                                readOnly: true
                                type: object
                              env_vars:
                                additionalProperties:
                                  discriminator:
                                    mapping:
                                      plain_text: >-
                                        #/components/schemas/pages_plain_text_env_var
                                      secret_text: >-
                                        #/components/schemas/pages_secret_text_env_var
                                    propertyName: type
                                  oneOf:
                                    - description: A plaintext environment variable.
                                      example:
                                        type: plain_text
                                        value: hello world
                                      nullable: true
                                      properties:
                                        type:
                                          enum:
                                            - plain_text
                                          type: string
                                          x-auditable: true
                                        value:
                                          description: Environment variable value.
                                          type: string
                                      required:
                                        - type
                                        - value
                                      type: object
                                    - description: An encrypted environment variable.
                                      example:
                                        type: secret_text
                                        value: ''
                                      nullable: true
                                      properties:
                                        type:
                                          enum:
                                            - secret_text
                                          type: string
                                          x-auditable: true
                                        value:
                                          description: Secret value.
                                          type: string
                                          x-sensitive: true
                                      required:
                                        - type
                                        - value
                                      type: object
                                description: >-
                                  Environment variables used for builds and
                                  Pages Functions.
                                type: object
                              environment:
                                description: Type of deploy.
                                enum:
                                  - preview
                                  - production
                                example: preview
                                readOnly: true
                                type: string
                                x-auditable: true
                              id:
                                description: Id of the deployment.
                                example: f64788e9-fccd-4d4a-a28a-cb84f88f6
                                readOnly: true
                                type: string
                                x-auditable: true
                              is_skipped:
                                description: If the deployment has been skipped.
                                example: true
                                readOnly: true
                                type: boolean
                                x-auditable: true
                              latest_stage:
                                description: The status of the deployment.
                                properties:
                                  ended_on:
                                    description: When the stage ended.
                                    example: '2021-03-09T00:58:59.045655'
                                    format: date-time
                                    nullable: true
                                    readOnly: true
                                    type: string
                                    x-auditable: true
                                  name:
                                    description: The current build stage.
                                    enum:
                                      - queued
                                      - initialize
                                      - clone_repo
                                      - build
                                      - deploy
                                    example: deploy
                                    type: string
                                    x-auditable: true
                                  started_on:
                                    description: When the stage started.
                                    example: '2021-03-09T00:55:03.923456Z'
                                    format: date-time
                                    nullable: true
                                    readOnly: true
                                    type: string
                                    x-auditable: true
                                  status:
                                    description: State of the current stage.
                                    enum:
                                      - success
                                      - idle
                                      - active
                                      - failure
                                      - canceled
                                    example: success
                                    readOnly: true
                                    type: string
                                    x-auditable: true
                                readOnly: true
                                type: object
                              modified_on:
                                description: When the deployment was last modified.
                                example: '2021-03-09T00:58:59.045655'
                                format: date-time
                                readOnly: true
                                type: string
                                x-auditable: true
                              project_id:
                                description: Id of the project.
                                example: 7b162ea7-7367-4d67-bcde-1160995d5
                                readOnly: true
                                type: string
                                x-auditable: true
                              project_name:
                                description: Name of the project.
                                example: ninjakittens
                                readOnly: true
                                type: string
                                x-auditable: true
                              short_id:
                                description: Short Id (8 character) of the deployment.
                                example: f64788e9
                                readOnly: true
                                type: string
                                x-auditable: true
                              source:
                                properties:
                                  config:
                                    properties:
                                      deployments_enabled:
                                        type: boolean
                                        x-auditable: true
                                      owner:
                                        type: string
                                        x-auditable: true
                                      path_excludes:
                                        items:
                                          type: string
                                          x-auditable: true
                                        type: array
                                      path_includes:
                                        items:
                                          type: string
                                          x-auditable: true
                                        type: array
                                      pr_comments_enabled:
                                        type: boolean
                                        x-auditable: true
                                      preview_branch_excludes:
                                        items:
                                          type: string
                                          x-auditable: true
                                        type: array
                                      preview_branch_includes:
                                        items:
                                          type: string
                                          x-auditable: true
                                        type: array
                                      preview_deployment_setting:
                                        enum:
                                          - all
                                          - none
                                          - custom
                                        type: string
                                        x-auditable: true
                                      production_branch:
                                        type: string
                                        x-auditable: true
                                      production_deployments_enabled:
                                        type: boolean
                                        x-auditable: true
                                      repo_name:
                                        type: string
                                        x-auditable: true
                                    type: object
                                  type:
                                    type: string
                                    x-auditable: true
                                type: object
                              stages:
                                description: List of past stages.
                                example:
                                  - ended_on: '2021-06-03T15:39:03.134378Z'
                                    name: queued
                                    started_on: '2021-06-03T15:38:15.608194Z'
                                    status: active
                                  - ended_on: null
                                    name: initialize
                                    started_on: null
                                    status: idle
                                  - ended_on: null
                                    name: clone_repo
                                    started_on: null
                                    status: idle
                                  - ended_on: null
                                    name: build
                                    started_on: null
                                    status: idle
                                  - ended_on: null
                                    name: deploy
                                    started_on: null
                                    status: idle
                                items:
                                  description: The status of the deployment.
                                  properties:
                                    ended_on:
                                      description: When the stage ended.
                                      example: '2021-03-09T00:58:59.045655'
                                      format: date-time
                                      nullable: true
                                      readOnly: true
                                      type: string
                                      x-auditable: true
                                    name:
                                      description: The current build stage.
                                      enum:
                                        - queued
                                        - initialize
                                        - clone_repo
                                        - build
                                        - deploy
                                      example: deploy
                                      type: string
                                      x-auditable: true
                                    started_on:
                                      description: When the stage started.
                                      example: '2021-03-09T00:55:03.923456Z'
                                      format: date-time
                                      nullable: true
                                      readOnly: true
                                      type: string
                                      x-auditable: true
                                    status:
                                      description: State of the current stage.
                                      enum:
                                        - success
                                        - idle
                                        - active
                                        - failure
                                        - canceled
                                      example: success
                                      readOnly: true
                                      type: string
                                      x-auditable: true
                                  readOnly: true
                                  type: object
                                readOnly: true
                                type: array
                              url:
                                description: The live URL to view this deployment.
                                example: https://f64788e9.ninjakittens.pages.dev
                                readOnly: true
                                type: string
                                x-auditable: true
                            type: object
                  - properties:
                      errors:
                        allOf:
                          - example: []
                            items:
                              properties:
                                code:
                                  minimum: 1000
                                  type: integer
                                message:
                                  type: string
                              required:
                                - code
                                - message
                              type: object
                              uniqueItems: true
                            type: array
                        example:
                          - code: 7003
                            message: No route for the URI.
                        minLength: 1
                      messages:
                        allOf:
                          - example: []
                            items:
                              properties:
                                code:
                                  minimum: 1000
                                  type: integer
                                message:
                                  type: string
                              required:
                                - code
                                - message
                              type: object
                              uniqueItems: true
                            type: array
                        example: []
                      result:
                        nullable: true
                        type: object
                      success:
                        description: Whether the API call was successful.
                        enum:
                          - false
                        example: false
                        type: boolean
                    required:
                      - success
                      - errors
                      - messages
                      - result
                    type: object
          description: Get deployment info response failure.
      security:
        - api_token: []
        - api_email: []
          api_key: []
      summary: Get deployment info
      tags:
        - Pages Deployment
      x-api-token-group:
        - Pages Read
        - Pages Write
