openapi: 3.0.3
info:
  description: >-
    Welcome to Cloudflare's API documentation site. We are experimenting with an
    updated version of our API documentation - check out
    [developers.cloudflare.com/api-next/](https://developers.cloudflare.com/api-next/)
    to test out the new experience.


    To get started using Cloudflare's products and services via the API, refer
    to [how to interact with
    Cloudflare](https://developers.cloudflare.com/fundamentals/basic-tasks/interact-with-cloudflare/),
    which covers using tools like
    [Terraform](https://developers.cloudflare.com/terraform/#cloudflare-terraform)
    and the [official
    SDKs](https://developers.cloudflare.com/fundamentals/api/reference/sdks/) to
    maintain your Cloudflare resources.


    Using the Cloudflare API requires authentication so that Cloudflare knows
    who is making requests and what permissions you have. Create an API token to
    grant access to the API to perform actions. You can also authenticate with
    [API
    keys](https://developers.cloudflare.com/fundamentals/api/get-started/keys/),
    but these keys have [several
    limitations](https://developers.cloudflare.com/fundamentals/api/get-started/keys/#limitations)
    that make them less secure than API tokens. Whenever possible, use API
    tokens to interact with the Cloudflare API.


    To create an API token, from the Cloudflare dashboard, go to My Profile >
    API Tokens and select Create Token. For more information on how to create
    and troubleshoot API tokens, refer to

    our [API fundamentals](https://developers.cloudflare.com/fundamentals/api/).


    For information regarding rate limits, refer to our [API Rate
    Limits](https://developers.cloudflare.com/cloudflare-for-platforms/workers-for-platforms/platform/limits/#api-rate-limits).


    Totally new to Cloudflare? [Start
    here](https://developers.cloudflare.com/fundamentals/get-started/).
  license:
    name: BSD-3-Clause
    url: https://opensource.org/licenses/BSD-3-Clause
  title: Cloudflare API
  version: 4.0.0
servers:
  - description: Client API
    url: https://api.cloudflare.com/client/v4
paths:
  /accounts/{account_id}/gateway/locations/{location_id}:
    put:
      description: Updates a configured Zero Trust Gateway location.
      operationId: zero-trust-gateway-locations-update-zero-trust-gateway-location
      parameters:
        - in: path
          name: location_id
          required: true
          schema:
            example: ed35569b41ce4d1facfe683550f54086
            type: string
            x-auditable: true
        - in: path
          name: account_id
          required: true
          schema:
            example: 699d98642c564d2e855e9661899b7252
            type: string
            x-auditable: true
      requestBody:
        content:
          application/json:
            schema:
              properties:
                client_default:
                  default: false
                  description: True if the location is the default location.
                  example: false
                  type: boolean
                  x-auditable: true
                dns_destination_ips_id:
                  description: >-
                    The identifier of the pair of IPv4 addresses assigned to
                    this location. When creating a location, if this field is
                    absent or set with null, the pair of shared IPv4 addresses
                    (0e4a32c6-6fb8-4858-9296-98f51631e8e6) is auto-assigned.
                    When updating a location, if the field is absent or set with
                    null, the pre-assigned pair remains unchanged.
                  example: 0e4a32c6-6fb8-4858-9296-98f51631e8e6
                  type: string
                  x-auditable: true
                  x-stainless-terraform-configurability: computed_optional
                ecs_support:
                  default: false
                  description: True if the location needs to resolve EDNS queries.
                  example: false
                  type: boolean
                  x-auditable: true
                endpoints:
                  description: >-
                    The destination endpoints configured for this location. When
                    updating a location, if this field is absent or set with
                    null, the endpoints configuration remains unchanged.
                  nullable: true
                  properties:
                    doh:
                      properties:
                        enabled:
                          description: True if the endpoint is enabled for this location.
                          example: true
                          type: boolean
                          x-auditable: true
                          x-stainless-terraform-configurability: computed_optional
                        networks:
                          description: >-
                            A list of allowed source IP network ranges for this
                            endpoint. When empty, all source IPs are allowed. A
                            non-empty list is only effective if the endpoint is
                            enabled for this location.
                          items:
                            properties:
                              network:
                                description: The IP address or IP CIDR.
                                example: 2001:85a3::/64
                                type: string
                                x-auditable: true
                            required:
                              - network
                            type: object
                          nullable: true
                          type: array
                          x-stainless-terraform-configurability: computed_optional
                        require_token:
                          description: >-
                            True if the endpoint requires [user
                            identity](https://developers.cloudflare.com/cloudflare-one/connections/connect-devices/agentless/dns/dns-over-https/#filter-doh-requests-by-user)
                            authentication.
                          example: true
                          type: boolean
                          x-auditable: true
                          x-stainless-terraform-configurability: computed_optional
                      type: object
                    dot:
                      properties:
                        enabled:
                          description: True if the endpoint is enabled for this location.
                          example: true
                          type: boolean
                          x-auditable: true
                          x-stainless-terraform-configurability: computed_optional
                        networks:
                          description: >-
                            A list of allowed source IP network ranges for this
                            endpoint. When empty, all source IPs are allowed. A
                            non-empty list is only effective if the endpoint is
                            enabled for this location.
                          items:
                            properties:
                              network:
                                description: The IP address or IP CIDR.
                                example: 2001:85a3::/64
                                type: string
                                x-auditable: true
                            required:
                              - network
                            type: object
                          nullable: true
                          type: array
                          x-stainless-terraform-configurability: computed_optional
                      type: object
                    ipv4:
                      properties:
                        enabled:
                          description: True if the endpoint is enabled for this location.
                          example: true
                          type: boolean
                          x-auditable: true
                          x-stainless-terraform-configurability: computed_optional
                      type: object
                    ipv6:
                      properties:
                        enabled:
                          description: True if the endpoint is enabled for this location.
                          example: true
                          type: boolean
                          x-auditable: true
                          x-stainless-terraform-configurability: computed_optional
                        networks:
                          description: >-
                            A list of allowed source IPv6 network ranges for
                            this endpoint. When empty, all source IPs are
                            allowed. A non-empty list is only effective if the
                            endpoint is enabled for this location.
                          items:
                            properties:
                              network:
                                description: The IPv6 address or IPv6 CIDR.
                                example: 2001:85a3::/64
                                type: string
                                x-auditable: true
                            required:
                              - network
                            type: object
                          nullable: true
                          type: array
                          x-stainless-terraform-configurability: computed_optional
                      type: object
                  required:
                    - ipv4
                    - ipv6
                    - doh
                    - dot
                  type: object
                  x-stainless-terraform-configurability: optional
                name:
                  description: The name of the location.
                  example: Austin Office Location
                  type: string
                  x-auditable: true
                networks:
                  description: >-
                    A list of network ranges that requests from this location
                    would originate from. A non-empty list is only effective if
                    the ipv4 endpoint is enabled for this location.
                  items:
                    properties:
                      network:
                        description: >-
                          The IPv4 address or IPv4 CIDR. IPv4 CIDRs are limited
                          to a maximum of /24.
                        example: 192.0.2.1/32
                        type: string
                        x-auditable: true
                    required:
                      - network
                    type: object
                  nullable: true
                  type: array
                  x-stainless-terraform-configurability: computed_optional
              required:
                - name
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                allOf:
                  - allOf:
                      - properties:
                          errors:
                            example: []
                            items:
                              properties:
                                code:
                                  minimum: 1000
                                  type: integer
                                message:
                                  type: string
                              required:
                                - code
                                - message
                              type: object
                              uniqueItems: true
                            type: array
                          messages:
                            example: []
                            items:
                              properties:
                                code:
                                  minimum: 1000
                                  type: integer
                                message:
                                  type: string
                              required:
                                - code
                                - message
                              type: object
                              uniqueItems: true
                            type: array
                          success:
                            description: Whether the API call was successful
                            enum:
                              - true
                            example: true
                            type: boolean
                        required:
                          - success
                          - errors
                          - messages
                        type: object
                    type: object
                  - properties:
                      result:
                        properties:
                          client_default:
                            default: false
                            description: True if the location is the default location.
                            example: false
                            type: boolean
                            x-auditable: true
                          created_at:
                            example: '2014-01-01T05:20:00.12345Z'
                            format: date-time
                            readOnly: true
                            type: string
                          dns_destination_ips_id:
                            default: 0e4a32c6-6fb8-4858-9296-98f51631e8e6
                            description: >-
                              The identifier of the pair of IPv4 addresses
                              assigned to this location.
                            example: 0e4a32c6-6fb8-4858-9296-98f51631e8e6
                            type: string
                            x-auditable: true
                            x-stainless-terraform-configurability: computed_optional
                          dns_destination_ipv6_block_id:
                            description: >-
                              The uuid identifier of the IPv6 block brought to
                              the gateway, so that this location's IPv6 address
                              is allocated from the Bring Your Own Ipv6(BYOIPv6)
                              block and not from the standard Cloudflare IPv6
                              block.
                            example: b08f7231-d458-495c-98ef-190604c9ee83
                            nullable: true
                            type: string
                            x-auditable: true
                            x-stainless-terraform-configurability: computed_optional
                          doh_subdomain:
                            description: >-
                              The DNS over HTTPS domain to send DNS requests to.
                              This field is auto-generated by Gateway.
                            example: oli3n9zkz5
                            readOnly: true
                            type: string
                            x-auditable: true
                          ecs_support:
                            default: false
                            description: >-
                              True if the location needs to resolve EDNS
                              queries.
                            example: false
                            type: boolean
                            x-auditable: true
                          endpoints:
                            description: >-
                              The destination endpoints configured for this
                              location. When updating a location, if this field
                              is absent or set with null, the endpoints
                              configuration remains unchanged.
                            nullable: true
                            properties:
                              doh:
                                properties:
                                  enabled:
                                    description: >-
                                      True if the endpoint is enabled for this
                                      location.
                                    example: true
                                    type: boolean
                                    x-auditable: true
                                    x-stainless-terraform-configurability: computed_optional
                                  networks:
                                    description: >-
                                      A list of allowed source IP network ranges
                                      for this endpoint. When empty, all source
                                      IPs are allowed. A non-empty list is only
                                      effective if the endpoint is enabled for
                                      this location.
                                    items:
                                      properties:
                                        network:
                                          description: The IP address or IP CIDR.
                                          example: 2001:85a3::/64
                                          type: string
                                          x-auditable: true
                                      required:
                                        - network
                                      type: object
                                    nullable: true
                                    type: array
                                    x-stainless-terraform-configurability: computed_optional
                                  require_token:
                                    description: >-
                                      True if the endpoint requires [user
                                      identity](https://developers.cloudflare.com/cloudflare-one/connections/connect-devices/agentless/dns/dns-over-https/#filter-doh-requests-by-user)
                                      authentication.
                                    example: true
                                    type: boolean
                                    x-auditable: true
                                    x-stainless-terraform-configurability: computed_optional
                                type: object
                              dot:
                                properties:
                                  enabled:
                                    description: >-
                                      True if the endpoint is enabled for this
                                      location.
                                    example: true
                                    type: boolean
                                    x-auditable: true
                                    x-stainless-terraform-configurability: computed_optional
                                  networks:
                                    description: >-
                                      A list of allowed source IP network ranges
                                      for this endpoint. When empty, all source
                                      IPs are allowed. A non-empty list is only
                                      effective if the endpoint is enabled for
                                      this location.
                                    items:
                                      properties:
                                        network:
                                          description: The IP address or IP CIDR.
                                          example: 2001:85a3::/64
                                          type: string
                                          x-auditable: true
                                      required:
                                        - network
                                      type: object
                                    nullable: true
                                    type: array
                                    x-stainless-terraform-configurability: computed_optional
                                type: object
                              ipv4:
                                properties:
                                  enabled:
                                    description: >-
                                      True if the endpoint is enabled for this
                                      location.
                                    example: true
                                    type: boolean
                                    x-auditable: true
                                    x-stainless-terraform-configurability: computed_optional
                                type: object
                              ipv6:
                                properties:
                                  enabled:
                                    description: >-
                                      True if the endpoint is enabled for this
                                      location.
                                    example: true
                                    type: boolean
                                    x-auditable: true
                                    x-stainless-terraform-configurability: computed_optional
                                  networks:
                                    description: >-
                                      A list of allowed source IPv6 network
                                      ranges for this endpoint. When empty, all
                                      source IPs are allowed. A non-empty list
                                      is only effective if the endpoint is
                                      enabled for this location.
                                    items:
                                      properties:
                                        network:
                                          description: The IPv6 address or IPv6 CIDR.
                                          example: 2001:85a3::/64
                                          type: string
                                          x-auditable: true
                                      required:
                                        - network
                                      type: object
                                    nullable: true
                                    type: array
                                    x-stainless-terraform-configurability: computed_optional
                                type: object
                            required:
                              - ipv4
                              - ipv6
                              - doh
                              - dot
                            type: object
                            x-stainless-terraform-configurability: optional
                          id:
                            example: ed35569b41ce4d1facfe683550f54086
                            type: string
                            x-auditable: true
                          ip:
                            description: >-
                              IPV6 destination ip assigned to this location. DNS
                              requests sent to this IP will counted as the
                              request under this location. This field is
                              auto-generated by Gateway.
                            example: 2001:0db8:85a3:0000:0000:8a2e:0370:7334
                            readOnly: true
                            type: string
                            x-auditable: true
                          ipv4_destination:
                            description: >-
                              The primary destination IPv4 address from the pair
                              identified by the dns_destination_ips_id. This
                              field is read-only.
                            example: 172.64.36.1
                            readOnly: true
                            type: string
                          ipv4_destination_backup:
                            description: >-
                              The backup destination IPv4 address from the pair
                              identified by the dns_destination_ips_id. This
                              field is read-only.
                            example: 172.64.36.2
                            readOnly: true
                            type: string
                          name:
                            description: The name of the location.
                            example: Austin Office Location
                            type: string
                            x-auditable: true
                          networks:
                            description: >-
                              A list of network ranges that requests from this
                              location would originate from. A non-empty list is
                              only effective if the ipv4 endpoint is enabled for
                              this location.
                            items:
                              properties:
                                network:
                                  description: >-
                                    The IPv4 address or IPv4 CIDR. IPv4 CIDRs
                                    are limited to a maximum of /24.
                                  example: 192.0.2.1/32
                                  type: string
                                  x-auditable: true
                              required:
                                - network
                              type: object
                            nullable: true
                            type: array
                            x-stainless-terraform-configurability: computed_optional
                          updated_at:
                            example: '2014-01-01T05:20:00.12345Z'
                            format: date-time
                            readOnly: true
                            type: string
                        type: object
                type: object
          description: Update a Zero Trust Gateway location response
        4XX:
          content:
            application/json:
              schema:
                allOf:
                  - allOf:
                      - allOf:
                          - properties:
                              errors:
                                example: []
                                items:
                                  properties:
                                    code:
                                      minimum: 1000
                                      type: integer
                                    message:
                                      type: string
                                  required:
                                    - code
                                    - message
                                  type: object
                                  uniqueItems: true
                                type: array
                              messages:
                                example: []
                                items:
                                  properties:
                                    code:
                                      minimum: 1000
                                      type: integer
                                    message:
                                      type: string
                                  required:
                                    - code
                                    - message
                                  type: object
                                  uniqueItems: true
                                type: array
                              success:
                                description: Whether the API call was successful
                                enum:
                                  - true
                                example: true
                                type: boolean
                            required:
                              - success
                              - errors
                              - messages
                            type: object
                        type: object
                      - properties:
                          result:
                            properties:
                              client_default:
                                default: false
                                description: True if the location is the default location.
                                example: false
                                type: boolean
                                x-auditable: true
                              created_at:
                                example: '2014-01-01T05:20:00.12345Z'
                                format: date-time
                                readOnly: true
                                type: string
                              dns_destination_ips_id:
                                default: 0e4a32c6-6fb8-4858-9296-98f51631e8e6
                                description: >-
                                  The identifier of the pair of IPv4 addresses
                                  assigned to this location.
                                example: 0e4a32c6-6fb8-4858-9296-98f51631e8e6
                                type: string
                                x-auditable: true
                                x-stainless-terraform-configurability: computed_optional
                              dns_destination_ipv6_block_id:
                                description: >-
                                  The uuid identifier of the IPv6 block brought
                                  to the gateway, so that this location's IPv6
                                  address is allocated from the Bring Your Own
                                  Ipv6(BYOIPv6) block and not from the standard
                                  Cloudflare IPv6 block.
                                example: b08f7231-d458-495c-98ef-190604c9ee83
                                nullable: true
                                type: string
                                x-auditable: true
                                x-stainless-terraform-configurability: computed_optional
                              doh_subdomain:
                                description: >-
                                  The DNS over HTTPS domain to send DNS requests
                                  to. This field is auto-generated by Gateway.
                                example: oli3n9zkz5
                                readOnly: true
                                type: string
                                x-auditable: true
                              ecs_support:
                                default: false
                                description: >-
                                  True if the location needs to resolve EDNS
                                  queries.
                                example: false
                                type: boolean
                                x-auditable: true
                              endpoints:
                                description: >-
                                  The destination endpoints configured for this
                                  location. When updating a location, if this
                                  field is absent or set with null, the
                                  endpoints configuration remains unchanged.
                                nullable: true
                                properties:
                                  doh:
                                    properties:
                                      enabled:
                                        description: >-
                                          True if the endpoint is enabled for this
                                          location.
                                        example: true
                                        type: boolean
                                        x-auditable: true
                                        x-stainless-terraform-configurability: computed_optional
                                      networks:
                                        description: >-
                                          A list of allowed source IP network
                                          ranges for this endpoint. When empty,
                                          all source IPs are allowed. A non-empty
                                          list is only effective if the endpoint
                                          is enabled for this location.
                                        items:
                                          properties:
                                            network:
                                              description: The IP address or IP CIDR.
                                              example: 2001:85a3::/64
                                              type: string
                                              x-auditable: true
                                          required:
                                            - network
                                          type: object
                                        nullable: true
                                        type: array
                                        x-stainless-terraform-configurability: computed_optional
                                      require_token:
                                        description: >-
                                          True if the endpoint requires [user
                                          identity](https://developers.cloudflare.com/cloudflare-one/connections/connect-devices/agentless/dns/dns-over-https/#filter-doh-requests-by-user)
                                          authentication.
                                        example: true
                                        type: boolean
                                        x-auditable: true
                                        x-stainless-terraform-configurability: computed_optional
                                    type: object
                                  dot:
                                    properties:
                                      enabled:
                                        description: >-
                                          True if the endpoint is enabled for this
                                          location.
                                        example: true
                                        type: boolean
                                        x-auditable: true
                                        x-stainless-terraform-configurability: computed_optional
                                      networks:
                                        description: >-
                                          A list of allowed source IP network
                                          ranges for this endpoint. When empty,
                                          all source IPs are allowed. A non-empty
                                          list is only effective if the endpoint
                                          is enabled for this location.
                                        items:
                                          properties:
                                            network:
                                              description: The IP address or IP CIDR.
                                              example: 2001:85a3::/64
                                              type: string
                                              x-auditable: true
                                          required:
                                            - network
                                          type: object
                                        nullable: true
                                        type: array
                                        x-stainless-terraform-configurability: computed_optional
                                    type: object
                                  ipv4:
                                    properties:
                                      enabled:
                                        description: >-
                                          True if the endpoint is enabled for this
                                          location.
                                        example: true
                                        type: boolean
                                        x-auditable: true
                                        x-stainless-terraform-configurability: computed_optional
                                    type: object
                                  ipv6:
                                    properties:
                                      enabled:
                                        description: >-
                                          True if the endpoint is enabled for this
                                          location.
                                        example: true
                                        type: boolean
                                        x-auditable: true
                                        x-stainless-terraform-configurability: computed_optional
                                      networks:
                                        description: >-
                                          A list of allowed source IPv6 network
                                          ranges for this endpoint. When empty,
                                          all source IPs are allowed. A non-empty
                                          list is only effective if the endpoint
                                          is enabled for this location.
                                        items:
                                          properties:
                                            network:
                                              description: The IPv6 address or IPv6 CIDR.
                                              example: 2001:85a3::/64
                                              type: string
                                              x-auditable: true
                                          required:
                                            - network
                                          type: object
                                        nullable: true
                                        type: array
                                        x-stainless-terraform-configurability: computed_optional
                                    type: object
                                required:
                                  - ipv4
                                  - ipv6
                                  - doh
                                  - dot
                                type: object
                                x-stainless-terraform-configurability: optional
                              id:
                                example: ed35569b41ce4d1facfe683550f54086
                                type: string
                                x-auditable: true
                              ip:
                                description: >-
                                  IPV6 destination ip assigned to this location.
                                  DNS requests sent to this IP will counted as
                                  the request under this location. This field is
                                  auto-generated by Gateway.
                                example: 2001:0db8:85a3:0000:0000:8a2e:0370:7334
                                readOnly: true
                                type: string
                                x-auditable: true
                              ipv4_destination:
                                description: >-
                                  The primary destination IPv4 address from the
                                  pair identified by the dns_destination_ips_id.
                                  This field is read-only.
                                example: 172.64.36.1
                                readOnly: true
                                type: string
                              ipv4_destination_backup:
                                description: >-
                                  The backup destination IPv4 address from the
                                  pair identified by the dns_destination_ips_id.
                                  This field is read-only.
                                example: 172.64.36.2
                                readOnly: true
                                type: string
                              name:
                                description: The name of the location.
                                example: Austin Office Location
                                type: string
                                x-auditable: true
                              networks:
                                description: >-
                                  A list of network ranges that requests from
                                  this location would originate from. A
                                  non-empty list is only effective if the ipv4
                                  endpoint is enabled for this location.
                                items:
                                  properties:
                                    network:
                                      description: >-
                                        The IPv4 address or IPv4 CIDR. IPv4
                                        CIDRs are limited to a maximum of /24.
                                      example: 192.0.2.1/32
                                      type: string
                                      x-auditable: true
                                  required:
                                    - network
                                  type: object
                                nullable: true
                                type: array
                                x-stainless-terraform-configurability: computed_optional
                              updated_at:
                                example: '2014-01-01T05:20:00.12345Z'
                                format: date-time
                                readOnly: true
                                type: string
                            type: object
                    type: object
                  - properties:
                      errors:
                        allOf:
                          - example: []
                            items:
                              properties:
                                code:
                                  minimum: 1000
                                  type: integer
                                message:
                                  type: string
                              required:
                                - code
                                - message
                              type: object
                              uniqueItems: true
                            type: array
                        example:
                          - code: 7003
                            message: No route for the URI
                        minLength: 1
                        type: object
                      messages:
                        allOf:
                          - example: []
                            items:
                              properties:
                                code:
                                  minimum: 1000
                                  type: integer
                                message:
                                  type: string
                              required:
                                - code
                                - message
                              type: object
                              uniqueItems: true
                            type: array
                        example: []
                        type: object
                      result:
                        enum:
                          - null
                        nullable: true
                        type: object
                      success:
                        description: Whether the API call was successful
                        enum:
                          - false
                        example: false
                        type: boolean
                    required:
                      - success
                      - errors
                      - messages
                      - result
                    type: object
                type: object
          description: Update a Zero Trust Gateway location response failure
      security:
        - api_email: []
          api_key: []
          api_token: []
      summary: Update a Zero Trust Gateway location
      tags:
        - Zero Trust Gateway locations
      x-api-token-group:
        - Cloudflare Zero Trust Secure DNS Locations Write
        - Zero Trust Write
