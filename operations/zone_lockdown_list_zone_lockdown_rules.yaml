openapi: 3.0.3
info:
  description: >-
    Welcome to Cloudflare's API documentation site. We are experimenting with an
    updated version of our API documentation - check out
    [developers.cloudflare.com/api-next/](https://developers.cloudflare.com/api-next/)
    to test out the new experience.


    To get started using Cloudflare's products and services via the API, refer
    to [how to interact with
    Cloudflare](https://developers.cloudflare.com/fundamentals/basic-tasks/interact-with-cloudflare/),
    which covers using tools like
    [Terraform](https://developers.cloudflare.com/terraform/#cloudflare-terraform)
    and the [official
    SDKs](https://developers.cloudflare.com/fundamentals/api/reference/sdks/) to
    maintain your Cloudflare resources.


    Using the Cloudflare API requires authentication so that Cloudflare knows
    who is making requests and what permissions you have. Create an API token to
    grant access to the API to perform actions. You can also authenticate with
    [API
    keys](https://developers.cloudflare.com/fundamentals/api/get-started/keys/),
    but these keys have [several
    limitations](https://developers.cloudflare.com/fundamentals/api/get-started/keys/#limitations)
    that make them less secure than API tokens. Whenever possible, use API
    tokens to interact with the Cloudflare API.


    To create an API token, from the Cloudflare dashboard, go to My Profile >
    API Tokens and select Create Token. For more information on how to create
    and troubleshoot API tokens, refer to

    our [API fundamentals](https://developers.cloudflare.com/fundamentals/api/).


    For information regarding rate limits, refer to our [API Rate
    Limits](https://developers.cloudflare.com/cloudflare-for-platforms/workers-for-platforms/platform/limits/#api-rate-limits).


    Totally new to Cloudflare? [Start
    here](https://developers.cloudflare.com/fundamentals/get-started/).
  license:
    name: BSD-3-Clause
    url: https://opensource.org/licenses/BSD-3-Clause
  title: Cloudflare API
  version: 4.0.0
servers:
  - description: Client API
    url: https://api.cloudflare.com/client/v4
paths:
  /zones/{zone_id}/firewall/lockdowns:
    get:
      description: >-
        Fetches Zone Lockdown rules. You can filter the results using several
        optional parameters.
      operationId: zone-lockdown-list-zone-lockdown-rules
      parameters:
        - in: path
          name: zone_id
          required: true
          schema:
            description: Defines an identifier.
            example: 023e105f4ecef8ad9ca31a8372d0c353
            maxLength: 32
            readOnly: true
            type: string
        - in: query
          name: page
          schema:
            default: 1
            description: Page number of paginated results.
            minimum: 1
            type: number
        - in: query
          name: description
          schema:
            allOf:
              - description: A string to search for in the description of existing rules.
                example: endpoints
                type: string
                x-auditable: true
        - in: query
          name: modified_on
          schema:
            allOf:
              - description: The timestamp of when the rule was last modified.
                example: '2014-01-01T05:20:00.12345Z'
                format: date-time
                readOnly: true
                type: string
                x-auditable: true
        - in: query
          name: ip
          schema:
            allOf:
              - description: A single IP address to search for in existing rules.
                example: 1.2.3.4
                type: string
        - in: query
          name: priority
          schema:
            allOf:
              - description: >-
                  The priority of the rule to control the processing order. A
                  lower number indicates higher priority. If not provided, any
                  rules with a configured priority will be processed before
                  rules without a priority.
                example: 5
                type: number
                x-auditable: true
        - in: query
          name: uri_search
          schema:
            allOf:
              - description: >-
                  A single URI to search for in the list of URLs of existing
                  rules.
                example: /some/path
                type: string
                x-auditable: true
        - in: query
          name: ip_range_search
          schema:
            allOf:
              - description: A single IP address range to search for in existing rules.
                example: 1.2.3.0/16
                type: string
                x-auditable: true
        - in: query
          name: per_page
          schema:
            default: 20
            description: >-
              The maximum number of results per page. You can only set the value
              to `1` or to a multiple of 5 such as `5`, `10`, `15`, or `20`.
            maximum: 1000
            minimum: 1
            type: number
        - in: query
          name: created_on
          schema:
            description: The timestamp of when the rule was created.
            example: '2014-01-01T05:20:00.12345Z'
            format: date-time
            readOnly: true
            type: string
        - in: query
          name: description_search
          schema:
            description: A string to search for in the description of existing rules.
            example: endpoints
            type: string
        - in: query
          name: ip_search
          schema:
            description: A single IP address to search for in existing rules.
            example: 1.2.3.4
            type: string
      responses:
        '200':
          content:
            application/json:
              schema:
                allOf:
                  - allOf:
                      - properties:
                          errors:
                            example: []
                            items:
                              properties:
                                code:
                                  minimum: 1000
                                  type: integer
                                message:
                                  type: string
                              required:
                                - code
                                - message
                              type: object
                              uniqueItems: true
                            type: array
                          messages:
                            example: []
                            items:
                              properties:
                                code:
                                  minimum: 1000
                                  type: integer
                                message:
                                  type: string
                              required:
                                - code
                                - message
                              type: object
                              uniqueItems: true
                            type: array
                          result:
                            anyOf:
                              - type: object
                              - items:
                                  type: object
                                type: array
                              - type: string
                          success:
                            description: Defines whether the API call was successful.
                            enum:
                              - true
                            example: true
                            type: boolean
                        required:
                          - success
                          - errors
                          - messages
                          - result
                        type: object
                      - properties:
                          result:
                            items:
                              type: object
                            nullable: true
                            type: array
                          result_info:
                            properties:
                              count:
                                description: >-
                                  Defines the total number of results for the
                                  requested service.
                                example: 1
                                type: number
                              page:
                                description: >-
                                  Defines the current page within paginated list
                                  of results.
                                example: 1
                                type: number
                              per_page:
                                description: >-
                                  Defines the number of results per page of
                                  results.
                                example: 20
                                type: number
                              total_count:
                                description: >-
                                  Defines the total results available without
                                  any search parameters.
                                example: 2000
                                type: number
                            type: object
                        type: object
                    type: object
                  - properties:
                      result:
                        items:
                          additionalProperties: false
                          properties:
                            configurations:
                              description: >-
                                A list of IP addresses or CIDR ranges that will
                                be allowed to access the URLs specified in the
                                Zone Lockdown rule. You can include any number
                                of `ip` or `ip_range` configurations.
                              items:
                                anyOf:
                                  - properties:
                                      target:
                                        description: >-
                                          The configuration target. You must set
                                          the target to `ip` when specifying an IP
                                          address in the Zone Lockdown rule.
                                        enum:
                                          - ip
                                        example: ip
                                        type: string
                                      value:
                                        description: >-
                                          The IP address to match. This address
                                          will be compared to the IP address of
                                          incoming requests.
                                        example: 198.51.100.4
                                        type: string
                                    title: An IP address configuration.
                                    type: object
                                  - properties:
                                      target:
                                        description: >-
                                          The configuration target. You must set
                                          the target to `ip_range` when specifying
                                          an IP address range in the Zone Lockdown
                                          rule.
                                        enum:
                                          - ip_range
                                        example: ip_range
                                        type: string
                                      value:
                                        description: >-
                                          The IP address range to match. You can
                                          only use prefix lengths `/16` and `/24`.
                                        example: 198.51.100.4/16
                                        type: string
                                    title: An IP address range configuration.
                                    type: object
                              type: array
                            created_on:
                              description: The timestamp of when the rule was created.
                              example: '2014-01-01T05:20:00.12345Z'
                              format: date-time
                              readOnly: true
                              type: string
                              x-auditable: true
                            description:
                              description: An informative summary of the rule.
                              example: >-
                                Restrict access to these endpoints to requests
                                from a known IP address
                              maxLength: 1024
                              type: string
                            id:
                              description: The unique identifier of the Zone Lockdown rule.
                              example: 372e67954025e0ba6aaa6d586b9e0b59
                              maxLength: 32
                              readOnly: true
                              type: string
                              x-auditable: true
                            modified_on:
                              description: >-
                                The timestamp of when the rule was last
                                modified.
                              example: '2014-01-01T05:20:00.12345Z'
                              format: date-time
                              readOnly: true
                              type: string
                              x-auditable: true
                            paused:
                              description: >-
                                When true, indicates that the rule is currently
                                paused.
                              example: false
                              type: boolean
                              x-auditable: true
                            urls:
                              description: >-
                                The URLs to include in the rule definition. You
                                can use wildcards. Each entered URL will be
                                escaped before use, which means you can only use
                                simple wildcard patterns.
                              items:
                                example: api.mysite.com/some/endpoint*
                                type: string
                                x-auditable: true
                              type: array
                          required:
                            - id
                            - created_on
                            - modified_on
                            - paused
                            - description
                            - urls
                            - configurations
                          type: object
                        type: array
                    required:
                      - result
                    type: object
          description: List Zone Lockdown rules response
        4XX:
          content:
            application/json:
              schema:
                allOf:
                  - allOf:
                      - allOf:
                          - properties:
                              errors:
                                example: []
                                items:
                                  properties:
                                    code:
                                      minimum: 1000
                                      type: integer
                                    message:
                                      type: string
                                  required:
                                    - code
                                    - message
                                  type: object
                                  uniqueItems: true
                                type: array
                              messages:
                                example: []
                                items:
                                  properties:
                                    code:
                                      minimum: 1000
                                      type: integer
                                    message:
                                      type: string
                                  required:
                                    - code
                                    - message
                                  type: object
                                  uniqueItems: true
                                type: array
                              result:
                                anyOf:
                                  - type: object
                                  - items:
                                      type: object
                                    type: array
                                  - type: string
                              success:
                                description: Defines whether the API call was successful.
                                enum:
                                  - true
                                example: true
                                type: boolean
                            required:
                              - success
                              - errors
                              - messages
                              - result
                            type: object
                          - properties:
                              result:
                                items:
                                  type: object
                                nullable: true
                                type: array
                              result_info:
                                properties:
                                  count:
                                    description: >-
                                      Defines the total number of results for
                                      the requested service.
                                    example: 1
                                    type: number
                                  page:
                                    description: >-
                                      Defines the current page within paginated
                                      list of results.
                                    example: 1
                                    type: number
                                  per_page:
                                    description: >-
                                      Defines the number of results per page of
                                      results.
                                    example: 20
                                    type: number
                                  total_count:
                                    description: >-
                                      Defines the total results available
                                      without any search parameters.
                                    example: 2000
                                    type: number
                                type: object
                            type: object
                        type: object
                      - properties:
                          result:
                            items:
                              additionalProperties: false
                              properties:
                                configurations:
                                  description: >-
                                    A list of IP addresses or CIDR ranges that
                                    will be allowed to access the URLs specified
                                    in the Zone Lockdown rule. You can include
                                    any number of `ip` or `ip_range`
                                    configurations.
                                  items:
                                    anyOf:
                                      - properties:
                                          target:
                                            description: >-
                                              The configuration target. You must set
                                              the target to `ip` when specifying an IP
                                              address in the Zone Lockdown rule.
                                            enum:
                                              - ip
                                            example: ip
                                            type: string
                                          value:
                                            description: >-
                                              The IP address to match. This address
                                              will be compared to the IP address of
                                              incoming requests.
                                            example: 198.51.100.4
                                            type: string
                                        title: An IP address configuration.
                                        type: object
                                      - properties:
                                          target:
                                            description: >-
                                              The configuration target. You must set
                                              the target to `ip_range` when specifying
                                              an IP address range in the Zone Lockdown
                                              rule.
                                            enum:
                                              - ip_range
                                            example: ip_range
                                            type: string
                                          value:
                                            description: >-
                                              The IP address range to match. You can
                                              only use prefix lengths `/16` and `/24`.
                                            example: 198.51.100.4/16
                                            type: string
                                        title: An IP address range configuration.
                                        type: object
                                  type: array
                                created_on:
                                  description: The timestamp of when the rule was created.
                                  example: '2014-01-01T05:20:00.12345Z'
                                  format: date-time
                                  readOnly: true
                                  type: string
                                  x-auditable: true
                                description:
                                  description: An informative summary of the rule.
                                  example: >-
                                    Restrict access to these endpoints to
                                    requests from a known IP address
                                  maxLength: 1024
                                  type: string
                                id:
                                  description: >-
                                    The unique identifier of the Zone Lockdown
                                    rule.
                                  example: 372e67954025e0ba6aaa6d586b9e0b59
                                  maxLength: 32
                                  readOnly: true
                                  type: string
                                  x-auditable: true
                                modified_on:
                                  description: >-
                                    The timestamp of when the rule was last
                                    modified.
                                  example: '2014-01-01T05:20:00.12345Z'
                                  format: date-time
                                  readOnly: true
                                  type: string
                                  x-auditable: true
                                paused:
                                  description: >-
                                    When true, indicates that the rule is
                                    currently paused.
                                  example: false
                                  type: boolean
                                  x-auditable: true
                                urls:
                                  description: >-
                                    The URLs to include in the rule definition.
                                    You can use wildcards. Each entered URL will
                                    be escaped before use, which means you can
                                    only use simple wildcard patterns.
                                  items:
                                    example: api.mysite.com/some/endpoint*
                                    type: string
                                    x-auditable: true
                                  type: array
                              required:
                                - id
                                - created_on
                                - modified_on
                                - paused
                                - description
                                - urls
                                - configurations
                              type: object
                            type: array
                        required:
                          - result
                        type: object
                  - properties:
                      errors:
                        allOf:
                          - example: []
                            items:
                              properties:
                                code:
                                  minimum: 1000
                                  type: integer
                                message:
                                  type: string
                              required:
                                - code
                                - message
                              type: object
                              uniqueItems: true
                            type: array
                        example:
                          - code: 7003
                            message: No route for the URI
                        minLength: 1
                      messages:
                        allOf:
                          - example: []
                            items:
                              properties:
                                code:
                                  minimum: 1000
                                  type: integer
                                message:
                                  type: string
                              required:
                                - code
                                - message
                              type: object
                              uniqueItems: true
                            type: array
                        example: []
                      result:
                        enum:
                          - null
                        nullable: true
                        type: object
                      success:
                        description: Defines whether the API call was successful.
                        enum:
                          - false
                        example: false
                        type: boolean
                    required:
                      - success
                      - errors
                      - messages
                      - result
                    type: object
          description: List Zone Lockdown rules response failure
      security:
        - api_email: []
          api_key: []
          api_token: []
      summary: List Zone Lockdown rules
      tags:
        - Zone Lockdown
      x-api-token-group:
        - Firewall Services Write
        - Firewall Services Read
      x-cfPlanAvailability:
        business: true
        enterprise: true
        free: false
        pro: true
