openapi: 3.0.3
info:
  description: >-
    Welcome to Cloudflare's API documentation site. We are experimenting with an
    updated version of our API documentation - check out
    [developers.cloudflare.com/api-next/](https://developers.cloudflare.com/api-next/)
    to test out the new experience.


    To get started using Cloudflare's products and services via the API, refer
    to [how to interact with
    Cloudflare](https://developers.cloudflare.com/fundamentals/basic-tasks/interact-with-cloudflare/),
    which covers using tools like
    [Terraform](https://developers.cloudflare.com/terraform/#cloudflare-terraform)
    and the [official
    SDKs](https://developers.cloudflare.com/fundamentals/api/reference/sdks/) to
    maintain your Cloudflare resources.


    Using the Cloudflare API requires authentication so that Cloudflare knows
    who is making requests and what permissions you have. Create an API token to
    grant access to the API to perform actions. You can also authenticate with
    [API
    keys](https://developers.cloudflare.com/fundamentals/api/get-started/keys/),
    but these keys have [several
    limitations](https://developers.cloudflare.com/fundamentals/api/get-started/keys/#limitations)
    that make them less secure than API tokens. Whenever possible, use API
    tokens to interact with the Cloudflare API.


    To create an API token, from the Cloudflare dashboard, go to My Profile >
    API Tokens and select Create Token. For more information on how to create
    and troubleshoot API tokens, refer to

    our [API fundamentals](https://developers.cloudflare.com/fundamentals/api/).


    For information regarding rate limits, refer to our [API Rate
    Limits](https://developers.cloudflare.com/cloudflare-for-platforms/workers-for-platforms/platform/limits/#api-rate-limits).


    Totally new to Cloudflare? [Start
    here](https://developers.cloudflare.com/fundamentals/get-started/).
  license:
    name: BSD-3-Clause
    url: https://opensource.org/licenses/BSD-3-Clause
  title: Cloudflare API
  version: 4.0.0
servers:
  - description: Client API
    url: https://api.cloudflare.com/client/v4
paths:
  /accounts/{account_id}/email-security/settings/trusted_domains/batch:
    post:
      description: Send a Batch of Trusted Domains API calls to be executed together.
      operationId: email_security_batch_trusted_domains
      parameters:
        - in: path
          name: account_id
          required: true
          schema:
            description: Account Identifier
            example: 023e105f4ecef8ad9ca31a8372d0c353
            maxLength: 32
            minLength: 32
            readOnly: true
            title: account_id
            type: string
      requestBody:
        content:
          application/json:
            schema:
              properties:
                deletes:
                  items:
                    properties:
                      id:
                        description: The unique identifier for the trusted domain.
                        example: 2401
                        format: int32
                        title: identifier
                        type: integer
                    required:
                      - id
                    type: object
                  type: array
                patches:
                  items:
                    allOf:
                      - additionalProperties: false
                        properties:
                          comments:
                            maxLength: 1024
                            type: string
                            x-auditable: true
                          is_recent:
                            description: >-
                              Select to prevent recently registered domains from
                              triggering a

                              Suspicious or Malicious disposition.
                            type: boolean
                            x-auditable: true
                          is_regex:
                            type: boolean
                            x-auditable: true
                          is_similarity:
                            description: >-
                              Select for partner or other approved domains that
                              have similar

                              spelling to your connected domains. Prevents
                              listed domains from

                              triggering a Spoof disposition.
                            type: boolean
                            x-auditable: true
                          pattern:
                            maxLength: 1024
                            minLength: 1
                            type: string
                            x-auditable: true
                        type: object
                      - properties:
                          id:
                            description: The unique identifier for the trusted domain.
                            example: 2401
                            format: int32
                            title: identifier
                            type: integer
                        required:
                          - id
                        type: object
                  type: array
                posts:
                  items:
                    additionalProperties: false
                    example:
                      comments: null
                      is_recent: true
                      is_regex: false
                      is_similarity: false
                      pattern: example.com
                    properties:
                      comments:
                        maxLength: 1024
                        nullable: true
                        type: string
                        x-auditable: true
                      is_recent:
                        description: >-
                          Select to prevent recently registered domains from
                          triggering a

                          Suspicious or Malicious disposition.
                        type: boolean
                        x-auditable: true
                      is_regex:
                        type: boolean
                        x-auditable: true
                      is_similarity:
                        description: >-
                          Select for partner or other approved domains that have
                          similar

                          spelling to your connected domains. Prevents listed
                          domains from

                          triggering a Spoof disposition.
                        type: boolean
                        x-auditable: true
                      pattern:
                        maxLength: 1024
                        minLength: 1
                        type: string
                        x-auditable: true
                    required:
                      - is_recent
                      - is_similarity
                      - is_regex
                      - pattern
                    type: object
                  type: array
                puts:
                  items:
                    allOf:
                      - additionalProperties: false
                        example:
                          comments: null
                          is_recent: true
                          is_regex: false
                          is_similarity: false
                          pattern: example.com
                        properties:
                          comments:
                            maxLength: 1024
                            nullable: true
                            type: string
                            x-auditable: true
                          is_recent:
                            description: >-
                              Select to prevent recently registered domains from
                              triggering a

                              Suspicious or Malicious disposition.
                            type: boolean
                            x-auditable: true
                          is_regex:
                            type: boolean
                            x-auditable: true
                          is_similarity:
                            description: >-
                              Select for partner or other approved domains that
                              have similar

                              spelling to your connected domains. Prevents
                              listed domains from

                              triggering a Spoof disposition.
                            type: boolean
                            x-auditable: true
                          pattern:
                            maxLength: 1024
                            minLength: 1
                            type: string
                            x-auditable: true
                        required:
                          - is_recent
                          - is_similarity
                          - is_regex
                          - pattern
                        type: object
                      - properties:
                          id:
                            description: The unique identifier for the trusted domain.
                            example: 2401
                            format: int32
                            title: identifier
                            type: integer
                        required:
                          - id
                        type: object
                  type: array
              required:
                - deletes
                - patches
                - puts
                - posts
              type: object
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                allOf:
                  - properties:
                      errors:
                        example: []
                        items:
                          properties:
                            code:
                              format: int32
                              minimum: 1000
                              type: integer
                            message:
                              type: string
                          required:
                            - code
                            - message
                          type: object
                        type: array
                      messages:
                        example: []
                        items:
                          properties:
                            code:
                              format: int32
                              minimum: 1000
                              type: integer
                            message:
                              type: string
                          required:
                            - code
                            - message
                          type: object
                        type: array
                      success:
                        example: true
                        type: boolean
                    required:
                      - success
                      - errors
                      - messages
                    type: object
                  - properties:
                      result:
                        properties:
                          deletes:
                            items:
                              properties:
                                id:
                                  description: >-
                                    The unique identifier for the trusted
                                    domain.
                                  example: 2401
                                  format: int32
                                  title: identifier
                                  type: integer
                              required:
                                - id
                              type: object
                            type: array
                          patches:
                            items:
                              allOf:
                                - additionalProperties: false
                                  example:
                                    comments: null
                                    is_recent: true
                                    is_regex: false
                                    is_similarity: false
                                    pattern: example.com
                                  properties:
                                    comments:
                                      maxLength: 1024
                                      nullable: true
                                      type: string
                                      x-auditable: true
                                    is_recent:
                                      description: >-
                                        Select to prevent recently registered
                                        domains from triggering a

                                        Suspicious or Malicious disposition.
                                      type: boolean
                                      x-auditable: true
                                    is_regex:
                                      type: boolean
                                      x-auditable: true
                                    is_similarity:
                                      description: >-
                                        Select for partner or other approved
                                        domains that have similar

                                        spelling to your connected domains.
                                        Prevents listed domains from

                                        triggering a Spoof disposition.
                                      type: boolean
                                      x-auditable: true
                                    pattern:
                                      maxLength: 1024
                                      minLength: 1
                                      type: string
                                      x-auditable: true
                                  required:
                                    - is_recent
                                    - is_similarity
                                    - is_regex
                                    - pattern
                                  type: object
                                - properties:
                                    created_at:
                                      format: date-time
                                      type: string
                                      x-auditable: true
                                    id:
                                      description: >-
                                        The unique identifier for the trusted
                                        domain.
                                      example: 2401
                                      format: int32
                                      title: identifier
                                      type: integer
                                    last_modified:
                                      format: date-time
                                      type: string
                                      x-auditable: true
                                  required:
                                    - id
                                    - created_at
                                    - last_modified
                                  type: object
                              example:
                                comments: null
                                created_at: '2023-11-14T22:13:20Z'
                                id: 2401
                                is_recent: true
                                is_regex: false
                                is_similarity: false
                                last_modified: '2023-11-14T22:13:20Z'
                                pattern: example.com
                            type: array
                          posts:
                            items:
                              allOf:
                                - additionalProperties: false
                                  example:
                                    comments: null
                                    is_recent: true
                                    is_regex: false
                                    is_similarity: false
                                    pattern: example.com
                                  properties:
                                    comments:
                                      maxLength: 1024
                                      nullable: true
                                      type: string
                                      x-auditable: true
                                    is_recent:
                                      description: >-
                                        Select to prevent recently registered
                                        domains from triggering a

                                        Suspicious or Malicious disposition.
                                      type: boolean
                                      x-auditable: true
                                    is_regex:
                                      type: boolean
                                      x-auditable: true
                                    is_similarity:
                                      description: >-
                                        Select for partner or other approved
                                        domains that have similar

                                        spelling to your connected domains.
                                        Prevents listed domains from

                                        triggering a Spoof disposition.
                                      type: boolean
                                      x-auditable: true
                                    pattern:
                                      maxLength: 1024
                                      minLength: 1
                                      type: string
                                      x-auditable: true
                                  required:
                                    - is_recent
                                    - is_similarity
                                    - is_regex
                                    - pattern
                                  type: object
                                - properties:
                                    created_at:
                                      format: date-time
                                      type: string
                                      x-auditable: true
                                    id:
                                      description: >-
                                        The unique identifier for the trusted
                                        domain.
                                      example: 2401
                                      format: int32
                                      title: identifier
                                      type: integer
                                    last_modified:
                                      format: date-time
                                      type: string
                                      x-auditable: true
                                  required:
                                    - id
                                    - created_at
                                    - last_modified
                                  type: object
                              example:
                                comments: null
                                created_at: '2023-11-14T22:13:20Z'
                                id: 2401
                                is_recent: true
                                is_regex: false
                                is_similarity: false
                                last_modified: '2023-11-14T22:13:20Z'
                                pattern: example.com
                            type: array
                          puts:
                            items:
                              allOf:
                                - additionalProperties: false
                                  example:
                                    comments: null
                                    is_recent: true
                                    is_regex: false
                                    is_similarity: false
                                    pattern: example.com
                                  properties:
                                    comments:
                                      maxLength: 1024
                                      nullable: true
                                      type: string
                                      x-auditable: true
                                    is_recent:
                                      description: >-
                                        Select to prevent recently registered
                                        domains from triggering a

                                        Suspicious or Malicious disposition.
                                      type: boolean
                                      x-auditable: true
                                    is_regex:
                                      type: boolean
                                      x-auditable: true
                                    is_similarity:
                                      description: >-
                                        Select for partner or other approved
                                        domains that have similar

                                        spelling to your connected domains.
                                        Prevents listed domains from

                                        triggering a Spoof disposition.
                                      type: boolean
                                      x-auditable: true
                                    pattern:
                                      maxLength: 1024
                                      minLength: 1
                                      type: string
                                      x-auditable: true
                                  required:
                                    - is_recent
                                    - is_similarity
                                    - is_regex
                                    - pattern
                                  type: object
                                - properties:
                                    created_at:
                                      format: date-time
                                      type: string
                                      x-auditable: true
                                    id:
                                      description: >-
                                        The unique identifier for the trusted
                                        domain.
                                      example: 2401
                                      format: int32
                                      title: identifier
                                      type: integer
                                    last_modified:
                                      format: date-time
                                      type: string
                                      x-auditable: true
                                  required:
                                    - id
                                    - created_at
                                    - last_modified
                                  type: object
                              example:
                                comments: null
                                created_at: '2023-11-14T22:13:20Z'
                                id: 2401
                                is_recent: true
                                is_regex: false
                                is_similarity: false
                                last_modified: '2023-11-14T22:13:20Z'
                                pattern: example.com
                            type: array
                        required:
                          - deletes
                          - patches
                          - puts
                          - posts
                        type: object
                    required:
                      - result
                    type: object
          description: ''
        4XX:
          content:
            application/json:
              schema:
                properties:
                  errors:
                    example:
                      - code: 7003
                        message: No route for the URI
                    items:
                      properties:
                        code:
                          format: int32
                          minimum: 1000
                          type: integer
                        message:
                          type: string
                      required:
                        - code
                        - message
                      type: object
                    type: array
                  messages:
                    example: []
                    items:
                      properties:
                        code:
                          format: int32
                          minimum: 1000
                          type: integer
                        message:
                          type: string
                      required:
                        - code
                        - message
                      type: object
                    type: array
                  result:
                    nullable: true
                    type: object
                  success:
                    example: false
                    type: boolean
                required:
                  - result
                  - success
                  - errors
                  - messages
                type: object
          description: Client Error
      security:
        - api_email: []
          api_key: []
      summary: Batch Trusted Domains
      tags:
        - Email Security Settings
      x-api-token-group:
        - 'Cloud Email Security: Write'
