openapi: 3.0.3
info:
  description: >-
    Welcome to Cloudflare's API documentation site. We are experimenting with an
    updated version of our API documentation - check out
    [developers.cloudflare.com/api-next/](https://developers.cloudflare.com/api-next/)
    to test out the new experience.


    To get started using Cloudflare's products and services via the API, refer
    to [how to interact with
    Cloudflare](https://developers.cloudflare.com/fundamentals/basic-tasks/interact-with-cloudflare/),
    which covers using tools like
    [Terraform](https://developers.cloudflare.com/terraform/#cloudflare-terraform)
    and the [official
    SDKs](https://developers.cloudflare.com/fundamentals/api/reference/sdks/) to
    maintain your Cloudflare resources.


    Using the Cloudflare API requires authentication so that Cloudflare knows
    who is making requests and what permissions you have. Create an API token to
    grant access to the API to perform actions. You can also authenticate with
    [API
    keys](https://developers.cloudflare.com/fundamentals/api/get-started/keys/),
    but these keys have [several
    limitations](https://developers.cloudflare.com/fundamentals/api/get-started/keys/#limitations)
    that make them less secure than API tokens. Whenever possible, use API
    tokens to interact with the Cloudflare API.


    To create an API token, from the Cloudflare dashboard, go to My Profile >
    API Tokens and select Create Token. For more information on how to create
    and troubleshoot API tokens, refer to

    our [API fundamentals](https://developers.cloudflare.com/fundamentals/api/).


    For information regarding rate limits, refer to our [API Rate
    Limits](https://developers.cloudflare.com/cloudflare-for-platforms/workers-for-platforms/platform/limits/#api-rate-limits).


    Totally new to Cloudflare? [Start
    here](https://developers.cloudflare.com/fundamentals/get-started/).
  license:
    name: BSD-3-Clause
    url: https://opensource.org/licenses/BSD-3-Clause
  title: Cloudflare API
  version: 4.0.0
servers:
  - description: Client API
    url: https://api.cloudflare.com/client/v4
paths:
  /zones/{zone_id}/firewall/rules:
    put:
      deprecated: true
      description: Updates one or more existing firewall rules.
      operationId: firewall-rules-update-firewall-rules
      parameters:
        - in: path
          name: zone_id
          required: true
          schema:
            description: Defines an identifier.
            example: 023e105f4ecef8ad9ca31a8372d0c353
            maxLength: 32
            readOnly: true
            type: string
      requestBody:
        content:
          application/json:
            schema:
              required:
                - id
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                allOf:
                  - allOf:
                      - properties:
                          errors:
                            example: []
                            items:
                              properties:
                                code:
                                  minimum: 1000
                                  type: integer
                                message:
                                  type: string
                              required:
                                - code
                                - message
                              type: object
                              uniqueItems: true
                            type: array
                          messages:
                            example: []
                            items:
                              properties:
                                code:
                                  minimum: 1000
                                  type: integer
                                message:
                                  type: string
                              required:
                                - code
                                - message
                              type: object
                              uniqueItems: true
                            type: array
                          result:
                            anyOf:
                              - type: object
                              - items:
                                  type: object
                                type: array
                              - type: string
                          success:
                            description: Defines whether the API call was successful.
                            enum:
                              - true
                            example: true
                            type: boolean
                        required:
                          - success
                          - errors
                          - messages
                          - result
                        type: object
                      - properties:
                          result:
                            items:
                              type: object
                            nullable: true
                            type: array
                          result_info:
                            properties:
                              count:
                                description: >-
                                  Defines the total number of results for the
                                  requested service.
                                example: 1
                                type: number
                              page:
                                description: >-
                                  Defines the current page within paginated list
                                  of results.
                                example: 1
                                type: number
                              per_page:
                                description: >-
                                  Defines the number of results per page of
                                  results.
                                example: 20
                                type: number
                              total_count:
                                description: >-
                                  Defines the total results available without
                                  any search parameters.
                                example: 2000
                                type: number
                            type: object
                        type: object
                    type: object
                  - properties:
                      result:
                        items:
                          allOf:
                            - properties:
                                action:
                                  description: >-
                                    The action to apply to a matched request.
                                    The `log` action is only available on an
                                    Enterprise plan.
                                  enum:
                                    - block
                                    - challenge
                                    - js_challenge
                                    - managed_challenge
                                    - allow
                                    - log
                                    - bypass
                                  example: block
                                  type: string
                                description:
                                  description: An informative summary of the firewall rule.
                                  example: >-
                                    Blocks traffic identified during
                                    investigation for MIR-31
                                  maxLength: 500
                                  type: string
                                id:
                                  description: The unique identifier of the firewall rule.
                                  example: 372e67954025e0ba6aaa6d586b9e0b60
                                  maxLength: 32
                                  readOnly: true
                                  type: string
                                paused:
                                  description: >-
                                    When true, indicates that the firewall rule
                                    is currently paused.
                                  example: false
                                  type: boolean
                                priority:
                                  description: >-
                                    The priority of the rule. Optional value
                                    used to define the processing order. A lower
                                    number indicates a higher priority. If not
                                    provided, rules with a defined priority will
                                    be processed before rules without a
                                    priority.
                                  example: 50
                                  maximum: 2147483647
                                  minimum: 0
                                  type: number
                                products:
                                  items:
                                    description: >-
                                      A list of products to bypass for a request
                                      when using the `bypass` action.
                                    enum:
                                      - zoneLockdown
                                      - uaBlock
                                      - bic
                                      - hot
                                      - securityLevel
                                      - rateLimit
                                      - waf
                                    example: waf
                                    type: string
                                  type: array
                                ref:
                                  description: >-
                                    A short reference tag. Allows you to select
                                    related firewall rules.
                                  example: MIR-31
                                  maxLength: 50
                                  type: string
                              type: object
                            - properties:
                                filter:
                                  oneOf:
                                    - additionalProperties: false
                                      properties:
                                        description:
                                          description: An informative summary of the filter.
                                          example: >-
                                            Restrict access from these browsers on
                                            this address range.
                                          maxLength: 500
                                          type: string
                                        expression:
                                          description: >-
                                            The filter expression. For more
                                            information, refer to
                                            [Expressions](https://developers.cloudflare.com/ruleset-engine/rules-language/expressions/).
                                          example: >-
                                            (http.request.uri.path ~
                                            ".*wp-login.php" or
                                            http.request.uri.path ~ ".*xmlrpc.php")
                                            and ip.addr ne 172.16.22.155
                                          type: string
                                        id:
                                          description: The unique identifier of the filter.
                                          example: 372e67954025e0ba6aaa6d586b9e0b61
                                          maxLength: 32
                                          minLength: 32
                                          readOnly: true
                                          type: string
                                        paused:
                                          description: >-
                                            When true, indicates that the filter is
                                            currently paused.
                                          example: false
                                          type: boolean
                                        ref:
                                          description: >-
                                            A short reference tag. Allows you to
                                            select related filters.
                                          example: FIL-100
                                          maxLength: 50
                                          type: string
                                      type: object
                                    - additionalProperties: false
                                      properties:
                                        deleted:
                                          description: >-
                                            When true, indicates that the firewall
                                            rule was deleted.
                                          example: true
                                          type: boolean
                                        id:
                                          description: The unique identifier of the filter.
                                          example: 372e67954025e0ba6aaa6d586b9e0b61
                                          maxLength: 32
                                          minLength: 32
                                          readOnly: true
                                          type: string
                                      required:
                                        - id
                                        - deleted
                                      type: object
                              type: object
                          type: object
                        type: array
                    required:
                      - result
                    type: object
          description: Update firewall rules response
        4XX:
          content:
            application/json:
              schema:
                allOf:
                  - allOf:
                      - allOf:
                          - properties:
                              errors:
                                example: []
                                items:
                                  properties:
                                    code:
                                      minimum: 1000
                                      type: integer
                                    message:
                                      type: string
                                  required:
                                    - code
                                    - message
                                  type: object
                                  uniqueItems: true
                                type: array
                              messages:
                                example: []
                                items:
                                  properties:
                                    code:
                                      minimum: 1000
                                      type: integer
                                    message:
                                      type: string
                                  required:
                                    - code
                                    - message
                                  type: object
                                  uniqueItems: true
                                type: array
                              result:
                                anyOf:
                                  - type: object
                                  - items:
                                      type: object
                                    type: array
                                  - type: string
                              success:
                                description: Defines whether the API call was successful.
                                enum:
                                  - true
                                example: true
                                type: boolean
                            required:
                              - success
                              - errors
                              - messages
                              - result
                            type: object
                          - properties:
                              result:
                                items:
                                  type: object
                                nullable: true
                                type: array
                              result_info:
                                properties:
                                  count:
                                    description: >-
                                      Defines the total number of results for
                                      the requested service.
                                    example: 1
                                    type: number
                                  page:
                                    description: >-
                                      Defines the current page within paginated
                                      list of results.
                                    example: 1
                                    type: number
                                  per_page:
                                    description: >-
                                      Defines the number of results per page of
                                      results.
                                    example: 20
                                    type: number
                                  total_count:
                                    description: >-
                                      Defines the total results available
                                      without any search parameters.
                                    example: 2000
                                    type: number
                                type: object
                            type: object
                        type: object
                      - properties:
                          result:
                            items:
                              allOf:
                                - properties:
                                    action:
                                      description: >-
                                        The action to apply to a matched
                                        request. The `log` action is only
                                        available on an Enterprise plan.
                                      enum:
                                        - block
                                        - challenge
                                        - js_challenge
                                        - managed_challenge
                                        - allow
                                        - log
                                        - bypass
                                      example: block
                                      type: string
                                    description:
                                      description: >-
                                        An informative summary of the firewall
                                        rule.
                                      example: >-
                                        Blocks traffic identified during
                                        investigation for MIR-31
                                      maxLength: 500
                                      type: string
                                    id:
                                      description: >-
                                        The unique identifier of the firewall
                                        rule.
                                      example: 372e67954025e0ba6aaa6d586b9e0b60
                                      maxLength: 32
                                      readOnly: true
                                      type: string
                                    paused:
                                      description: >-
                                        When true, indicates that the firewall
                                        rule is currently paused.
                                      example: false
                                      type: boolean
                                    priority:
                                      description: >-
                                        The priority of the rule. Optional value
                                        used to define the processing order. A
                                        lower number indicates a higher
                                        priority. If not provided, rules with a
                                        defined priority will be processed
                                        before rules without a priority.
                                      example: 50
                                      maximum: 2147483647
                                      minimum: 0
                                      type: number
                                    products:
                                      items:
                                        description: >-
                                          A list of products to bypass for a
                                          request when using the `bypass` action.
                                        enum:
                                          - zoneLockdown
                                          - uaBlock
                                          - bic
                                          - hot
                                          - securityLevel
                                          - rateLimit
                                          - waf
                                        example: waf
                                        type: string
                                      type: array
                                    ref:
                                      description: >-
                                        A short reference tag. Allows you to
                                        select related firewall rules.
                                      example: MIR-31
                                      maxLength: 50
                                      type: string
                                  type: object
                                - properties:
                                    filter:
                                      oneOf:
                                        - additionalProperties: false
                                          properties:
                                            description:
                                              description: An informative summary of the filter.
                                              example: >-
                                                Restrict access from these browsers on
                                                this address range.
                                              maxLength: 500
                                              type: string
                                            expression:
                                              description: >-
                                                The filter expression. For more
                                                information, refer to
                                                [Expressions](https://developers.cloudflare.com/ruleset-engine/rules-language/expressions/).
                                              example: >-
                                                (http.request.uri.path ~
                                                ".*wp-login.php" or
                                                http.request.uri.path ~ ".*xmlrpc.php")
                                                and ip.addr ne 172.16.22.155
                                              type: string
                                            id:
                                              description: The unique identifier of the filter.
                                              example: 372e67954025e0ba6aaa6d586b9e0b61
                                              maxLength: 32
                                              minLength: 32
                                              readOnly: true
                                              type: string
                                            paused:
                                              description: >-
                                                When true, indicates that the filter is
                                                currently paused.
                                              example: false
                                              type: boolean
                                            ref:
                                              description: >-
                                                A short reference tag. Allows you to
                                                select related filters.
                                              example: FIL-100
                                              maxLength: 50
                                              type: string
                                          type: object
                                        - additionalProperties: false
                                          properties:
                                            deleted:
                                              description: >-
                                                When true, indicates that the firewall
                                                rule was deleted.
                                              example: true
                                              type: boolean
                                            id:
                                              description: The unique identifier of the filter.
                                              example: 372e67954025e0ba6aaa6d586b9e0b61
                                              maxLength: 32
                                              minLength: 32
                                              readOnly: true
                                              type: string
                                          required:
                                            - id
                                            - deleted
                                          type: object
                                  type: object
                              type: object
                            type: array
                        required:
                          - result
                        type: object
                  - properties:
                      errors:
                        allOf:
                          - example: []
                            items:
                              properties:
                                code:
                                  minimum: 1000
                                  type: integer
                                message:
                                  type: string
                              required:
                                - code
                                - message
                              type: object
                              uniqueItems: true
                            type: array
                        example:
                          - code: 7003
                            message: No route for the URI
                        minLength: 1
                      messages:
                        allOf:
                          - example: []
                            items:
                              properties:
                                code:
                                  minimum: 1000
                                  type: integer
                                message:
                                  type: string
                              required:
                                - code
                                - message
                              type: object
                              uniqueItems: true
                            type: array
                        example: []
                      result:
                        enum:
                          - null
                        nullable: true
                        type: object
                      success:
                        description: Defines whether the API call was successful.
                        enum:
                          - false
                        example: false
                        type: boolean
                    required:
                      - success
                      - errors
                      - messages
                      - result
                    type: object
          description: Update firewall rules response failure
      security:
        - api_email: []
          api_key: []
          api_token: []
      summary: Update firewall rules
      tags:
        - Firewall rules
      x-api-token-group:
        - Firewall Services Write
      x-cfPlanAvailability:
        business: true
        enterprise: true
        free: true
        pro: true
