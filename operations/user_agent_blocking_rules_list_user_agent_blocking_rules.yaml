openapi: 3.0.3
info:
  description: >-
    Welcome to Cloudflare's API documentation site. We are experimenting with an
    updated version of our API documentation - check out
    [developers.cloudflare.com/api-next/](https://developers.cloudflare.com/api-next/)
    to test out the new experience.


    To get started using Cloudflare's products and services via the API, refer
    to [how to interact with
    Cloudflare](https://developers.cloudflare.com/fundamentals/basic-tasks/interact-with-cloudflare/),
    which covers using tools like
    [Terraform](https://developers.cloudflare.com/terraform/#cloudflare-terraform)
    and the [official
    SDKs](https://developers.cloudflare.com/fundamentals/api/reference/sdks/) to
    maintain your Cloudflare resources.


    Using the Cloudflare API requires authentication so that Cloudflare knows
    who is making requests and what permissions you have. Create an API token to
    grant access to the API to perform actions. You can also authenticate with
    [API
    keys](https://developers.cloudflare.com/fundamentals/api/get-started/keys/),
    but these keys have [several
    limitations](https://developers.cloudflare.com/fundamentals/api/get-started/keys/#limitations)
    that make them less secure than API tokens. Whenever possible, use API
    tokens to interact with the Cloudflare API.


    To create an API token, from the Cloudflare dashboard, go to My Profile >
    API Tokens and select Create Token. For more information on how to create
    and troubleshoot API tokens, refer to

    our [API fundamentals](https://developers.cloudflare.com/fundamentals/api/).


    For information regarding rate limits, refer to our [API Rate
    Limits](https://developers.cloudflare.com/cloudflare-for-platforms/workers-for-platforms/platform/limits/#api-rate-limits).


    Totally new to Cloudflare? [Start
    here](https://developers.cloudflare.com/fundamentals/get-started/).
  license:
    name: BSD-3-Clause
    url: https://opensource.org/licenses/BSD-3-Clause
  title: Cloudflare API
  version: 4.0.0
servers:
  - description: Client API
    url: https://api.cloudflare.com/client/v4
paths:
  /zones/{zone_id}/firewall/ua_rules:
    get:
      description: >-
        Fetches User Agent Blocking rules in a zone. You can filter the results
        using several optional parameters.
      operationId: user-agent-blocking-rules-list-user-agent-blocking-rules
      parameters:
        - in: path
          name: zone_id
          required: true
          schema:
            description: Defines an identifier.
            example: 023e105f4ecef8ad9ca31a8372d0c353
            maxLength: 32
            readOnly: true
            type: string
        - in: query
          name: page
          schema:
            default: 1
            description: Page number of paginated results.
            minimum: 1
            type: number
        - in: query
          name: description
          schema:
            allOf:
              - description: A string to search for in the description of existing rules.
                example: abusive
                type: string
                x-auditable: true
        - in: query
          name: per_page
          schema:
            default: 20
            description: >-
              The maximum number of results per page. You can only set the value
              to `1` or to a multiple of 5 such as `5`, `10`, `15`, or `20`.
            maximum: 1000
            minimum: 1
            type: number
        - in: query
          name: user_agent
          schema:
            description: A string to search for in the user agent values of existing rules.
            example: Safari
            type: string
        - in: query
          name: paused
          schema:
            description: When true, indicates that the rule is currently paused.
            example: false
            type: boolean
      responses:
        '200':
          content:
            application/json:
              schema:
                allOf:
                  - properties:
                      result:
                        items:
                          properties:
                            configuration:
                              description: The configuration object for the current rule.
                              properties:
                                target:
                                  description: >-
                                    The configuration target for this rule. You
                                    must set the target to `ua` for User Agent
                                    Blocking rules.
                                  example: ua
                                  type: string
                                value:
                                  description: >-
                                    The exact user agent string to match. This
                                    value will be compared to the received
                                    `User-Agent` HTTP header value.
                                  example: >-
                                    Mozilla/5.0 (Macintosh; Intel Mac OS X
                                    10_12_5) AppleWebKit/603.2.4 (KHTML, like
                                    Gecko) Version/10.1.1 Safari/603.2.4
                                  type: string
                              type: object
                            description:
                              description: An informative summary of the rule.
                              example: >-
                                Prevent access from abusive clients identified
                                by this User Agent to mitigate a DDoS attack
                              maxLength: 1024
                              type: string
                            id:
                              description: >-
                                The unique identifier of the User Agent Blocking
                                rule.
                              example: 372e67954025e0ba6aaa6d586b9e0b59
                              maxLength: 32
                              readOnly: true
                              type: string
                              x-auditable: true
                            mode:
                              description: The action to apply to a matched request.
                              enum:
                                - block
                                - challenge
                                - js_challenge
                                - managed_challenge
                              example: js_challenge
                              maxLength: 12
                            paused:
                              description: >-
                                When true, indicates that the rule is currently
                                paused.
                              example: false
                              type: boolean
                              x-auditable: true
                          type: object
                        type: array
                    type: object
                  - allOf:
                      - properties:
                          errors:
                            example: []
                            items:
                              properties:
                                code:
                                  minimum: 1000
                                  type: integer
                                message:
                                  type: string
                              required:
                                - code
                                - message
                              type: object
                              uniqueItems: true
                            type: array
                          messages:
                            example: []
                            items:
                              properties:
                                code:
                                  minimum: 1000
                                  type: integer
                                message:
                                  type: string
                              required:
                                - code
                                - message
                              type: object
                              uniqueItems: true
                            type: array
                          result:
                            anyOf:
                              - type: object
                              - items:
                                  type: object
                                type: array
                              - type: string
                          success:
                            description: Defines whether the API call was successful.
                            enum:
                              - true
                            example: true
                            type: boolean
                        required:
                          - success
                          - errors
                          - messages
                          - result
                        type: object
                      - properties:
                          result:
                            items:
                              type: object
                            nullable: true
                            type: array
                          result_info:
                            properties:
                              count:
                                description: >-
                                  Defines the total number of results for the
                                  requested service.
                                example: 1
                                type: number
                              page:
                                description: >-
                                  Defines the current page within paginated list
                                  of results.
                                example: 1
                                type: number
                              per_page:
                                description: >-
                                  Defines the number of results per page of
                                  results.
                                example: 20
                                type: number
                              total_count:
                                description: >-
                                  Defines the total results available without
                                  any search parameters.
                                example: 2000
                                type: number
                            type: object
                        type: object
                    type: object
          description: List User Agent Blocking rules response
        4XX:
          content:
            application/json:
              schema:
                allOf:
                  - allOf:
                      - properties:
                          result:
                            items:
                              properties:
                                configuration:
                                  description: >-
                                    The configuration object for the current
                                    rule.
                                  properties:
                                    target:
                                      description: >-
                                        The configuration target for this rule.
                                        You must set the target to `ua` for User
                                        Agent Blocking rules.
                                      example: ua
                                      type: string
                                    value:
                                      description: >-
                                        The exact user agent string to match.
                                        This value will be compared to the
                                        received `User-Agent` HTTP header value.
                                      example: >-
                                        Mozilla/5.0 (Macintosh; Intel Mac OS X
                                        10_12_5) AppleWebKit/603.2.4 (KHTML,
                                        like Gecko) Version/10.1.1
                                        Safari/603.2.4
                                      type: string
                                  type: object
                                description:
                                  description: An informative summary of the rule.
                                  example: >-
                                    Prevent access from abusive clients
                                    identified by this User Agent to mitigate a
                                    DDoS attack
                                  maxLength: 1024
                                  type: string
                                id:
                                  description: >-
                                    The unique identifier of the User Agent
                                    Blocking rule.
                                  example: 372e67954025e0ba6aaa6d586b9e0b59
                                  maxLength: 32
                                  readOnly: true
                                  type: string
                                  x-auditable: true
                                mode:
                                  description: The action to apply to a matched request.
                                  enum:
                                    - block
                                    - challenge
                                    - js_challenge
                                    - managed_challenge
                                  example: js_challenge
                                  maxLength: 12
                                paused:
                                  description: >-
                                    When true, indicates that the rule is
                                    currently paused.
                                  example: false
                                  type: boolean
                                  x-auditable: true
                              type: object
                            type: array
                        type: object
                      - allOf:
                          - properties:
                              errors:
                                example: []
                                items:
                                  properties:
                                    code:
                                      minimum: 1000
                                      type: integer
                                    message:
                                      type: string
                                  required:
                                    - code
                                    - message
                                  type: object
                                  uniqueItems: true
                                type: array
                              messages:
                                example: []
                                items:
                                  properties:
                                    code:
                                      minimum: 1000
                                      type: integer
                                    message:
                                      type: string
                                  required:
                                    - code
                                    - message
                                  type: object
                                  uniqueItems: true
                                type: array
                              result:
                                anyOf:
                                  - type: object
                                  - items:
                                      type: object
                                    type: array
                                  - type: string
                              success:
                                description: Defines whether the API call was successful.
                                enum:
                                  - true
                                example: true
                                type: boolean
                            required:
                              - success
                              - errors
                              - messages
                              - result
                            type: object
                          - properties:
                              result:
                                items:
                                  type: object
                                nullable: true
                                type: array
                              result_info:
                                properties:
                                  count:
                                    description: >-
                                      Defines the total number of results for
                                      the requested service.
                                    example: 1
                                    type: number
                                  page:
                                    description: >-
                                      Defines the current page within paginated
                                      list of results.
                                    example: 1
                                    type: number
                                  per_page:
                                    description: >-
                                      Defines the number of results per page of
                                      results.
                                    example: 20
                                    type: number
                                  total_count:
                                    description: >-
                                      Defines the total results available
                                      without any search parameters.
                                    example: 2000
                                    type: number
                                type: object
                            type: object
                        type: object
                  - properties:
                      errors:
                        allOf:
                          - example: []
                            items:
                              properties:
                                code:
                                  minimum: 1000
                                  type: integer
                                message:
                                  type: string
                              required:
                                - code
                                - message
                              type: object
                              uniqueItems: true
                            type: array
                        example:
                          - code: 7003
                            message: No route for the URI
                        minLength: 1
                      messages:
                        allOf:
                          - example: []
                            items:
                              properties:
                                code:
                                  minimum: 1000
                                  type: integer
                                message:
                                  type: string
                              required:
                                - code
                                - message
                              type: object
                              uniqueItems: true
                            type: array
                        example: []
                      result:
                        enum:
                          - null
                        nullable: true
                        type: object
                      success:
                        description: Defines whether the API call was successful.
                        enum:
                          - false
                        example: false
                        type: boolean
                    required:
                      - success
                      - errors
                      - messages
                      - result
                    type: object
          description: List User Agent Blocking rules response failure
      security:
        - api_email: []
          api_key: []
          api_token: []
      summary: List User Agent Blocking rules
      tags:
        - User Agent Blocking rules
      x-api-token-group:
        - Firewall Services Write
        - Firewall Services Read
      x-cfPlanAvailability:
        business: true
        enterprise: true
        free: true
        pro: true
