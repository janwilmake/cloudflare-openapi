openapi: 3.0.3
info:
  description: >-
    Welcome to Cloudflare's API documentation site. We are experimenting with an
    updated version of our API documentation - check out
    [developers.cloudflare.com/api-next/](https://developers.cloudflare.com/api-next/)
    to test out the new experience.


    To get started using Cloudflare's products and services via the API, refer
    to [how to interact with
    Cloudflare](https://developers.cloudflare.com/fundamentals/basic-tasks/interact-with-cloudflare/),
    which covers using tools like
    [Terraform](https://developers.cloudflare.com/terraform/#cloudflare-terraform)
    and the [official
    SDKs](https://developers.cloudflare.com/fundamentals/api/reference/sdks/) to
    maintain your Cloudflare resources.


    Using the Cloudflare API requires authentication so that Cloudflare knows
    who is making requests and what permissions you have. Create an API token to
    grant access to the API to perform actions. You can also authenticate with
    [API
    keys](https://developers.cloudflare.com/fundamentals/api/get-started/keys/),
    but these keys have [several
    limitations](https://developers.cloudflare.com/fundamentals/api/get-started/keys/#limitations)
    that make them less secure than API tokens. Whenever possible, use API
    tokens to interact with the Cloudflare API.


    To create an API token, from the Cloudflare dashboard, go to My Profile >
    API Tokens and select Create Token. For more information on how to create
    and troubleshoot API tokens, refer to

    our [API fundamentals](https://developers.cloudflare.com/fundamentals/api/).


    For information regarding rate limits, refer to our [API Rate
    Limits](https://developers.cloudflare.com/cloudflare-for-platforms/workers-for-platforms/platform/limits/#api-rate-limits).


    Totally new to Cloudflare? [Start
    here](https://developers.cloudflare.com/fundamentals/get-started/).
  license:
    name: BSD-3-Clause
    url: https://opensource.org/licenses/BSD-3-Clause
  title: Cloudflare API
  version: 4.0.0
servers:
  - description: Client API
    url: https://api.cloudflare.com/client/v4
paths:
  /accounts/{account_id}/dex/fleet-status/devices:
    get:
      description: List details for devices using WARP
      operationId: dex-fleet-status-devices
      parameters:
        - description: Unique identifier for account
          in: path
          name: account_id
          required: true
          schema:
            example: 01a7362d577a6c3019a474fd6f485823
            maxLength: 32
            readOnly: true
            type: string
        - description: Time range end in ISO format
          in: query
          name: to
          required: true
          schema:
            description: Timestamp in ISO format
            example: '2023-10-11T00:00:00Z'
            type: string
        - description: Time range beginning in ISO format
          in: query
          name: from
          required: true
          schema:
            description: Timestamp in ISO format
            example: '2023-10-11T00:00:00Z'
            type: string
        - description: Page number
          in: query
          name: page
          required: true
          schema:
            default: 1
            description: Page number of paginated results
            example: 1
            minimum: 1
            type: number
        - description: Number of results per page
          in: query
          name: per_page
          required: true
          schema:
            description: Number of items per page
            example: 10
            maximum: 50
            minimum: 1
            type: number
        - description: Dimension to sort results by
          in: query
          name: sort_by
          schema:
            default: timestamp
            description: Dimension to sort results by
            enum:
              - colo
              - device_id
              - mode
              - platform
              - status
              - timestamp
              - version
            type: string
        - description: Cloudflare colo
          in: query
          name: colo
          schema:
            description: Cloudflare colo
            example: SJC
            type: string
        - description: Device-specific ID, given as UUID v4
          in: query
          name: device_id
          schema:
            description: Device-specific ID, given as UUID v4
            example: cb49c27f-7f97-49c5-b6f3-f7c01ead0fd7
            type: string
        - description: The mode under which the WARP client is run
          in: query
          name: mode
          schema:
            description: The mode under which the WARP client is run
            example: proxy
            type: string
        - description: Network status
          in: query
          name: status
          schema:
            description: Network status
            example: connected
            type: string
        - description: Operating system
          in: query
          name: platform
          schema:
            description: Operating system
            example: windows
            type: string
        - description: WARP client version
          in: query
          name: version
          schema:
            description: WARP client version
            example: 1.0.0
            type: string
        - description: |
            Source:
              * `hourly` - device details aggregated hourly, up to 7 days prior
              * `last_seen` - device details, up to 24 hours prior
              * `raw` - device details, up to 7 days prior
          in: query
          name: source
          schema:
            default: last_seen
            description: Specifies fleet status details source
            enum:
              - last_seen
              - hourly
              - raw
            example: last_seen
            type: string
      responses:
        '200':
          content:
            application/json:
              schema:
                allOf:
                  - allOf:
                      - properties:
                          errors:
                            example: []
                            items:
                              properties:
                                code:
                                  minimum: 1000
                                  type: integer
                                documentation_url:
                                  type: string
                                message:
                                  type: string
                                source:
                                  properties:
                                    pointer:
                                      type: string
                                  type: object
                              required:
                                - code
                                - message
                              type: object
                              uniqueItems: true
                            type: array
                          messages:
                            example: []
                            items:
                              properties:
                                code:
                                  minimum: 1000
                                  type: integer
                                documentation_url:
                                  type: string
                                message:
                                  type: string
                                source:
                                  properties:
                                    pointer:
                                      type: string
                                  type: object
                              required:
                                - code
                                - message
                              type: object
                              uniqueItems: true
                            type: array
                          success:
                            description: Whether the API call was successful.
                            enum:
                              - true
                            example: true
                            type: boolean
                        required:
                          - success
                          - errors
                          - messages
                        type: object
                      - properties:
                          result_info:
                            properties:
                              count:
                                description: >-
                                  Total number of results for the requested
                                  service.
                                example: 1
                                type: number
                              page:
                                description: Current page within paginated list of results.
                                example: 1
                                type: number
                              per_page:
                                description: Number of results per page of results.
                                example: 20
                                type: number
                              total_count:
                                description: >-
                                  Total results available without any search
                                  parameters.
                                example: 2000
                                type: number
                            type: object
                        type: object
                    type: object
                  - properties:
                      result:
                        items:
                          properties:
                            alwaysOn:
                              nullable: true
                              type: boolean
                            batteryCharging:
                              nullable: true
                              type: boolean
                            batteryCycles:
                              format: int64
                              nullable: true
                              type: integer
                            batteryPct:
                              format: float
                              nullable: true
                              type: number
                            colo:
                              description: Cloudflare colo
                              example: SJC
                              type: string
                            connectionType:
                              nullable: true
                              type: string
                            cpuPct:
                              format: float
                              nullable: true
                              type: number
                            cpuPctByApp:
                              items:
                                items:
                                  properties:
                                    cpu_pct:
                                      format: float
                                      type: number
                                    name:
                                      type: string
                                  type: object
                                type: array
                              nullable: true
                              type: array
                            deviceId:
                              description: Device identifier (UUID v4)
                              type: string
                            deviceIpv4:
                              properties:
                                address:
                                  nullable: true
                                  type: string
                                asn:
                                  nullable: true
                                  type: integer
                                aso:
                                  nullable: true
                                  type: string
                                location:
                                  properties:
                                    city:
                                      nullable: true
                                      type: string
                                    country_iso:
                                      nullable: true
                                      type: string
                                    state_iso:
                                      nullable: true
                                      type: string
                                    zip:
                                      nullable: true
                                      type: string
                                  type: object
                                netmask:
                                  nullable: true
                                  type: string
                                version:
                                  nullable: true
                                  type: string
                              type: object
                            deviceIpv6:
                              properties:
                                address:
                                  nullable: true
                                  type: string
                                asn:
                                  nullable: true
                                  type: integer
                                aso:
                                  nullable: true
                                  type: string
                                location:
                                  properties:
                                    city:
                                      nullable: true
                                      type: string
                                    country_iso:
                                      nullable: true
                                      type: string
                                    state_iso:
                                      nullable: true
                                      type: string
                                    zip:
                                      nullable: true
                                      type: string
                                  type: object
                                netmask:
                                  nullable: true
                                  type: string
                                version:
                                  nullable: true
                                  type: string
                              type: object
                            deviceName:
                              description: Device identifier (human readable)
                              type: string
                            diskReadBps:
                              format: int64
                              nullable: true
                              type: integer
                            diskUsagePct:
                              format: float
                              nullable: true
                              type: number
                            diskWriteBps:
                              format: int64
                              nullable: true
                              type: integer
                            dohSubdomain:
                              nullable: true
                              type: string
                            estimatedLossPct:
                              format: float
                              nullable: true
                              type: number
                            firewallEnabled:
                              nullable: true
                              type: boolean
                            gatewayIpv4:
                              properties:
                                address:
                                  nullable: true
                                  type: string
                                asn:
                                  nullable: true
                                  type: integer
                                aso:
                                  nullable: true
                                  type: string
                                location:
                                  properties:
                                    city:
                                      nullable: true
                                      type: string
                                    country_iso:
                                      nullable: true
                                      type: string
                                    state_iso:
                                      nullable: true
                                      type: string
                                    zip:
                                      nullable: true
                                      type: string
                                  type: object
                                netmask:
                                  nullable: true
                                  type: string
                                version:
                                  nullable: true
                                  type: string
                              type: object
                            gatewayIpv6:
                              properties:
                                address:
                                  nullable: true
                                  type: string
                                asn:
                                  nullable: true
                                  type: integer
                                aso:
                                  nullable: true
                                  type: string
                                location:
                                  properties:
                                    city:
                                      nullable: true
                                      type: string
                                    country_iso:
                                      nullable: true
                                      type: string
                                    state_iso:
                                      nullable: true
                                      type: string
                                    zip:
                                      nullable: true
                                      type: string
                                  type: object
                                netmask:
                                  nullable: true
                                  type: string
                                version:
                                  nullable: true
                                  type: string
                              type: object
                            handshakeLatencyMs:
                              format: int64
                              nullable: true
                              type: number
                            ispIpv4:
                              properties:
                                address:
                                  nullable: true
                                  type: string
                                asn:
                                  nullable: true
                                  type: integer
                                aso:
                                  nullable: true
                                  type: string
                                location:
                                  properties:
                                    city:
                                      nullable: true
                                      type: string
                                    country_iso:
                                      nullable: true
                                      type: string
                                    state_iso:
                                      nullable: true
                                      type: string
                                    zip:
                                      nullable: true
                                      type: string
                                  type: object
                                netmask:
                                  nullable: true
                                  type: string
                                version:
                                  nullable: true
                                  type: string
                              type: object
                            ispIpv6:
                              properties:
                                address:
                                  nullable: true
                                  type: string
                                asn:
                                  nullable: true
                                  type: integer
                                aso:
                                  nullable: true
                                  type: string
                                location:
                                  properties:
                                    city:
                                      nullable: true
                                      type: string
                                    country_iso:
                                      nullable: true
                                      type: string
                                    state_iso:
                                      nullable: true
                                      type: string
                                    zip:
                                      nullable: true
                                      type: string
                                  type: object
                                netmask:
                                  nullable: true
                                  type: string
                                version:
                                  nullable: true
                                  type: string
                              type: object
                            metal:
                              nullable: true
                              type: string
                            mode:
                              description: The mode under which the WARP client is run
                              example: proxy
                              type: string
                            networkRcvdBps:
                              format: int64
                              nullable: true
                              type: integer
                            networkSentBps:
                              format: int64
                              nullable: true
                              type: integer
                            networkSsid:
                              nullable: true
                              type: string
                            personEmail:
                              description: User contact email address
                              type: string
                            platform:
                              description: Operating system
                              example: windows
                              type: string
                            ramAvailableKb:
                              format: int64
                              nullable: true
                              type: integer
                            ramUsedPct:
                              format: float
                              nullable: true
                              type: number
                            ramUsedPctByApp:
                              items:
                                items:
                                  properties:
                                    name:
                                      type: string
                                    ram_used_pct:
                                      format: float
                                      type: number
                                  type: object
                                type: array
                              nullable: true
                              type: array
                            status:
                              description: Network status
                              example: connected
                              type: string
                            switchLocked:
                              nullable: true
                              type: boolean
                            timestamp:
                              description: Timestamp in ISO format
                              example: '2023-10-11T00:00:00Z'
                              type: string
                            version:
                              description: WARP client version
                              example: 1.0.0
                              type: string
                            wifiStrengthDbm:
                              format: int64
                              nullable: true
                              type: integer
                          required:
                            - colo
                            - deviceId
                            - mode
                            - platform
                            - status
                            - timestamp
                            - version
                          type: object
                        type: array
                    type: object
          description: List devices response
        4XX:
          content:
            application/json:
              schema:
                allOf:
                  - allOf:
                      - properties:
                          errors:
                            example: []
                            items:
                              properties:
                                code:
                                  minimum: 1000
                                  type: integer
                                documentation_url:
                                  type: string
                                message:
                                  type: string
                                source:
                                  properties:
                                    pointer:
                                      type: string
                                  type: object
                              required:
                                - code
                                - message
                              type: object
                              uniqueItems: true
                            type: array
                          messages:
                            example: []
                            items:
                              properties:
                                code:
                                  minimum: 1000
                                  type: integer
                                documentation_url:
                                  type: string
                                message:
                                  type: string
                                source:
                                  properties:
                                    pointer:
                                      type: string
                                  type: object
                              required:
                                - code
                                - message
                              type: object
                              uniqueItems: true
                            type: array
                          success:
                            description: Whether the API call was successful.
                            enum:
                              - true
                            example: true
                            type: boolean
                        required:
                          - success
                          - errors
                          - messages
                        type: object
                    type: object
                  - properties:
                      errors:
                        allOf:
                          - example: []
                            items:
                              properties:
                                code:
                                  minimum: 1000
                                  type: integer
                                documentation_url:
                                  type: string
                                message:
                                  type: string
                                source:
                                  properties:
                                    pointer:
                                      type: string
                                  type: object
                              required:
                                - code
                                - message
                              type: object
                              uniqueItems: true
                            type: array
                        example:
                          - code: 7003
                            message: No route for the URI
                        minLength: 1
                      messages:
                        allOf:
                          - example: []
                            items:
                              properties:
                                code:
                                  minimum: 1000
                                  type: integer
                                documentation_url:
                                  type: string
                                message:
                                  type: string
                                source:
                                  properties:
                                    pointer:
                                      type: string
                                  type: object
                              required:
                                - code
                                - message
                              type: object
                              uniqueItems: true
                            type: array
                        example: []
                      result:
                        enum:
                          - null
                        nullable: true
                        type: object
                      success:
                        description: Whether the API call was successful.
                        enum:
                          - false
                        example: false
                        type: boolean
                    required:
                      - success
                      - errors
                      - messages
                      - result
                    type: object
          description: List devices response failure
      security:
        - api_email: []
          api_key: []
        - api_token: []
        - user_service_key: []
      summary: List fleet status devices
      tags:
        - DEX Synthetic Application Monitoring
      x-api-token-group:
        - Cloudflare DEX Write
        - Cloudflare DEX Read
        - Zero Trust Report
        - Zero Trust Read
